import{r as b,a as w,w as C,c as n,b as a,u as r,h as N,d as h,e,f as y,v as O,o as l,F as p,g,t as o,i as T,l as f,j as i,n as _,k,m as V}from"./app-BmlxQAUG.js";import{_ as A}from"./AppLayout-DPgtj7gw.js";import{d as B}from"./debounce-kof-xvUS.js";import{r as I}from"./MagnifyingGlassIcon-DurYBA2a.js";import{r as z}from"./PlusIcon-Csp5ocwW.js";import{r as F}from"./EyeIcon-CdzYBpAA.js";import{r as L}from"./TrashIcon-CpzKjMD-.js";import{r as M}from"./ClipboardDocumentCheckIcon-C-6Lcruo.js";import{r as P}from"./ClockIcon-DgP57BN7.js";import{r as W}from"./CheckBadgeIcon-_hPURfRy.js";import{r as E}from"./InformationCircleIcon-gqZFVVN5.js";import{r as H}from"./ExclamationCircleIcon-DW3-Oeka.js";/* empty css            */import"./XMarkIcon-Bt_PljEc.js";import"./SunIcon-IX4FHdcm.js";import"./WrenchScrewdriverIcon-Ceyd6Wp4.js";import"./ShoppingCartIcon-BjgskwZE.js";import"./CubeIcon-CS_qZvHW.js";import"./TruckIcon-CqydzLcT.js";const U={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},q={class:"flex items-center gap-3"},G={class:"relative flex-1 sm:w-80"},J=["value"],K={class:"rounded-2xl glass-card overflow-hidden"},Q={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},R={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},X={class:"divide-y divide-slate-100 dark:divide-slate-800"},Y={class:"px-4 py-2 whitespace-nowrap"},Z={class:"text-sm font-medium text-slate-900 dark:text-white"},ee={class:"text-xs text-slate-500"},te={class:"px-4 py-2 whitespace-nowrap"},se={class:"text-sm text-slate-600 dark:text-slate-300"},ae={class:"px-4 py-2 whitespace-nowrap"},re={class:"text-sm text-slate-600 dark:text-slate-300"},le={class:"px-4 py-2 whitespace-nowrap text-center"},oe={class:"text-sm text-slate-600 dark:text-slate-300"},de={class:"px-4 py-2 whitespace-nowrap text-center"},ne={class:"px-4 py-2 whitespace-nowrap text-right"},ie={class:"flex items-center justify-end gap-2"},ce=["onClick"],xe={key:0},ue={colspan:"6",class:"px-6 py-12 text-center"},pe={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},me={class:"text-sm text-slate-500 dark:text-slate-400"},be={class:"flex items-center gap-2"},he={class:"mt-12"},ge={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},fe={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ke={class:"flex items-center gap-3 mb-3"},ve={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},we={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ye={class:"flex items-center gap-3 mb-3"},_e={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},Se={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},$e={class:"flex items-center gap-3 mb-3"},De={class:"p-2.5 rounded-xl bg-amber-500/10 text-amber-400"},je={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Ce={class:"flex items-center gap-3 mb-3"},Ne={class:"p-2.5 rounded-xl bg-red-500/10 text-red-400"},Re={__name:"Index",props:{opnames:Object,warehouses:Array,filters:Object,statuses:Array},setup(d){const m=d,x=b(m.filters.search||""),v=b(m.filters.status||""),u=b(m.filters.warehouse_id||""),S=B(()=>{w.get("/inventory/opname",{search:x.value||void 0,status:v.value||void 0,warehouse_id:u.value||void 0},{preserveState:!0,replace:!0})},300);C([x,v,u],S);const $=c=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",in_progress:"bg-blue-500/20 text-blue-400 border-blue-500/30",completed:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[c]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",D=c=>new Date(c).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}),j=c=>{confirm("Are you sure you want to delete this session?")&&w.delete(`/inventory/opname/${c.id}`)};return(c,t)=>(l(),n(p,null,[a(r(N),{title:"Stock Opname"}),a(A,{title:"Stock Opname"},{default:h(()=>[e("div",U,[e("div",q,[e("div",G,[a(r(I),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>x.value=s),type:"search",placeholder:"Search...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[O,x.value]])]),y(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>u.value=s),class:"rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[t[2]||(t[2]=e("option",{value:""},"All Warehouses",-1)),(l(!0),n(p,null,g(d.warehouses,s=>(l(),n("option",{key:s.id,value:s.id},o(s.name),9,J))),128))],512),[[T,u.value]])]),a(r(f),{href:"/inventory/opname/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:h(()=>[a(r(z),{class:"h-5 w-5"}),t[3]||(t[3]=i(" New Session ",-1))]),_:1})]),e("div",K,[e("div",Q,[e("table",R,[t[6]||(t[6]=e("thead",null,[e("tr",{class:"bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50"},[e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Number"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Date"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Warehouse"),e("th",{class:"px-4 py-3 text-center text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Items"),e("th",{class:"px-4 py-3 text-center text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Status"),e("th",{class:"px-4 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",X,[(l(!0),n(p,null,g(d.opnames.data,s=>(l(),n("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[e("td",Y,[e("div",Z,o(s.opname_number),1),e("div",ee,o(s.created_by?.name),1)]),e("td",te,[e("span",se,o(D(s.opname_date)),1)]),e("td",ae,[e("span",re,o(s.warehouse?.name),1)]),e("td",le,[e("span",oe,o(s.items_count),1)]),e("td",de,[e("span",{class:_(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium capitalize",$(s.status)])},o(s.status),3)]),e("td",ne,[e("div",ie,[a(r(f),{href:`/inventory/opname/${s.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:h(()=>[a(r(F),{class:"h-4 w-4"})]),_:1},8,["href"]),s.status!=="completed"?(l(),n("button",{key:0,onClick:Oe=>j(s),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-red-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},[a(r(L),{class:"h-4 w-4"})],8,ce)):k("",!0)])])]))),128)),d.opnames.data.length===0?(l(),n("tr",xe,[e("td",ue,[a(r(M),{class:"mx-auto h-12 w-12 text-slate-600"}),t[4]||(t[4]=e("h3",{class:"mt-2 text-sm font-medium text-slate-600 dark:text-slate-300"},"No sessions found",-1)),t[5]||(t[5]=e("p",{class:"mt-1 text-sm text-slate-500"},"Create a session to start stock taking.",-1))])])):k("",!0)])])]),d.opnames.last_page>1?(l(),n("div",pe,[e("p",me," Showing "+o(d.opnames.from)+" to "+o(d.opnames.to)+" of "+o(d.opnames.total),1),e("div",be,[(l(!0),n(p,null,g(d.opnames.links,s=>(l(),V(r(f),{key:s.label,href:s.url||"#",class:_(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-slate-900 dark:text-white":s.url?"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white":"text-white cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):k("",!0)]),e("div",he,[t[15]||(t[15]=e("div",{class:"flex items-center gap-2 mb-4 px-1"},[e("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),e("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Stock Taking Guide"),e("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),e("div",ge,[e("div",fe,[e("div",ke,[e("div",ve,[a(r(P),{class:"h-5 w-5"})]),t[7]||(t[7]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Opname Session",-1))]),t[8]||(t[8]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[i(" Start a "),e("strong",null,"New Session"),i(" for a specific warehouse. This creates a snapshot of system stock for verification against physical counts. ")],-1))]),e("div",we,[e("div",ye,[e("div",_e,[a(r(W),{class:"h-5 w-5"})]),t[9]||(t[9]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Finalize Progress",-1))]),t[10]||(t[10]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[i(" Sessions move from "),e("strong",null,"Draft"),i(" to "),e("strong",null,"In Progress"),i(" as you count. Once "),e("strong",null,"Completed"),i(", stock adjustments are automatically posted. ")],-1))]),e("div",Se,[e("div",$e,[e("div",De,[a(r(E),{class:"h-5 w-5"})]),t[11]||(t[11]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Discrepancy",-1))]),t[12]||(t[12]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"}," System calculates the difference between system qty and your physical count. Positive or negative adjustments will be made to align inventory. ",-1))]),e("div",je,[e("div",Ce,[e("div",Ne,[a(r(H),{class:"h-5 w-5"})]),t[13]||(t[13]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Irreversible",-1))]),t[14]||(t[14]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[i(" Once a session is marked as "),e("strong",null,"Completed"),i(", it cannot be edited or deleted. Ensure all counts are triple-checked before finalizing. ")],-1))])])])]),_:1})],64))}};export{Re as default};
