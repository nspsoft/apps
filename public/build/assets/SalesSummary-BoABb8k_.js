import{r as b,a as T,w as D,c as n,b as i,u as l,h as V,d as _,e as t,l as A,j as f,f as g,v as y,o as x,F as v,g as w,t as a,i as O,n as $,k as j,D as h}from"./app-Cof15h51.js";import{_ as F}from"./AppLayout-DTRSdW2J.js";import{d as I}from"./debounce-BIGhsmsm.js";import{a as c}from"./helpers-BjqMQcOq.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as R}from"./ArrowLeftIcon-f7G-ynnE.js";import{r as B}from"./ArrowDownTrayIcon-CQD_HuYI.js";import{r as E}from"./PrinterIcon-DbaBLa8d.js";/* empty css            */import"./XMarkIcon-BXFWqVE7.js";import"./SunIcon-DHuZ9kAd.js";import"./WrenchScrewdriverIcon-gLywtRcf.js";import"./CheckBadgeIcon-MQgsnSG9.js";import"./ShoppingCartIcon-4nHghyp0.js";import"./CubeIcon-7-btXyr7.js";import"./TruckIcon-CEa-1eR1.js";const G={class:"max-w-7xl mx-auto"},U={class:"print:hidden mb-6 flex items-center justify-between"},z={class:"flex items-center gap-4"},J={class:"flex items-center gap-2 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 rounded-xl px-4 py-1.5"},M=["value"],L=["href"],q={onclick:"window.print()",class:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500 transition-colors shadow-lg shadow-blue-900/20"},H={class:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white p-8 min-h-screen rounded-sm shadow-2xl print:shadow-none print:w-full"},K={class:"border-b-2 border-slate-900 dark:border-slate-800 pb-6 mb-6"},Q={class:"flex items-start justify-between"},W={class:"text-sm text-slate-500 mt-1"},X={class:"text-xs text-slate-500 dark:text-slate-400 italic"},Y={class:"text-right"},Z={class:"text-sm text-slate-500 dark:text-slate-400 font-medium"},tt={class:"grid grid-cols-3 gap-8 mb-8"},et={class:"border border-slate-200 dark:border-slate-800 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/50"},st={class:"text-2xl font-black text-slate-900 dark:text-white"},at={class:"border border-slate-200 dark:border-slate-800 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/50"},lt={class:"text-2xl font-black text-slate-900 dark:text-white"},rt={class:"border border-slate-200 dark:border-slate-800 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/50"},ot={class:"text-2xl font-black text-blue-700"},dt={class:"w-full text-sm"},nt={class:"divide-y divide-slate-100 dark:divide-slate-800"},it={class:"py-3 px-2 font-medium"},xt={class:"py-3 px-2 font-mono text-xs"},pt={class:"py-3 px-2"},ut={class:"py-3 px-2"},ct={class:"py-3 px-2 text-right"},mt={class:"py-3 px-2 text-right"},bt={class:"py-3 px-2 text-right font-bold"},ft={key:0},gt={__name:"SalesSummary",props:{data:Array,customers:Array,filters:Object,date:String},setup(r){const o=r,p=b(o.filters.start_date),u=b(o.filters.end_date),d=b(o.filters.customer_id||""),S=I(()=>{T.get("/inventory/reports/sales-summary",{start_date:p.value,end_date:u.value,customer_id:d.value||void 0},{preserveState:!0,replace:!0})},300);D([p,u,d],S);const k=h(()=>o.data.reduce((m,e)=>m+Number(e.total),0)),C=h(()=>o.data.reduce((m,e)=>m+Number(e.tax),0)),N=h(()=>k.value+C.value);return(m,e)=>(x(),n(v,null,[i(l(V),{title:"Sales Summary Report"}),i(F,{title:"Reports"},{default:_(()=>[t("div",G,[t("div",U,[i(l(A),{href:"/inventory/reports",class:"inline-flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white"},{default:_(()=>[i(l(R),{class:"h-4 w-4"}),e[3]||(e[3]=f(" Back to Reports ",-1))]),_:1}),t("div",z,[t("div",J,[g(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),class:"bg-transparent border-0 text-sm text-slate-900 dark:text-white focus:ring-0 p-0 w-32"},null,512),[[y,p.value]]),e[4]||(e[4]=t("span",{class:"text-slate-500"},"-",-1)),g(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),class:"bg-transparent border-0 text-sm text-slate-900 dark:text-white focus:ring-0 p-0 w-32"},null,512),[[y,u.value]])]),g(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>d.value=s),class:"rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[5]||(e[5]=t("option",{value:""},"All Customers",-1)),(x(!0),n(v,null,w(o.customers,s=>(x(),n("option",{key:s.id,value:s.id},a(s.name),9,M))),128))],512),[[O,d.value]]),t("a",{href:`/inventory/reports/export/sales?start_date=${p.value}&end_date=${u.value}&customer_id=${d.value}`,class:"inline-flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},[i(l(B),{class:"h-4 w-4"}),e[6]||(e[6]=f(" Export Excel ",-1))],8,L),t("button",q,[i(l(E),{class:"h-4 w-4"}),e[7]||(e[7]=f(" Print PDF ",-1))])])]),t("div",H,[t("div",K,[t("div",Q,[t("div",null,[e[8]||(e[8]=t("h1",{class:"text-3xl font-black uppercase tracking-tighter text-slate-900 dark:text-white"},"Sales Summary",-1)),t("p",W,"Period: "+a(r.filters.start_date)+" to "+a(r.filters.end_date),1),t("p",X,"Generated on "+a(r.date),1)]),t("div",Y,[e[9]||(e[9]=t("p",{class:"text-xl font-bold text-slate-900 dark:text-white"},"JICOS",-1)),e[10]||(e[10]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Sales Transactions Report",-1)),t("p",Z,"Customer: "+a(r.customers.find(s=>s.id==d.value)?.name||"All Customers"),1)])])]),t("div",tt,[t("div",et,[e[11]||(e[11]=t("p",{class:"text-xs uppercase font-bold text-slate-500 mb-1"},"Total Orders",-1)),t("p",st,a(r.data.length),1)]),t("div",at,[e[12]||(e[12]=t("p",{class:"text-xs uppercase font-bold text-slate-500 mb-1"},"Subtotal Amount",-1)),t("p",lt,a(l(c)(k.value)),1)]),t("div",rt,[e[13]||(e[13]=t("p",{class:"text-xs uppercase font-bold text-slate-500 mb-1"},"Grand Total (Inc. Tax)",-1)),t("p",ot,a(l(c)(N.value)),1)])]),t("table",dt,[e[15]||(e[15]=t("thead",null,[t("tr",{class:"border-b-2 border-slate-200 dark:border-slate-800 text-left"},[t("th",{class:"py-3 px-2 font-bold uppercase text-xs"},"Date"),t("th",{class:"py-3 px-2 font-bold uppercase text-xs"},"SO Number"),t("th",{class:"py-3 px-2 font-bold uppercase text-xs"},"Customer"),t("th",{class:"py-3 px-2 font-bold uppercase text-xs"},"Status"),t("th",{class:"py-3 px-2 text-right font-bold uppercase text-xs"},"Amount"),t("th",{class:"py-3 px-2 text-right font-bold uppercase text-xs"},"Tax"),t("th",{class:"py-3 px-2 text-right font-bold uppercase text-xs"},"Total")])],-1)),t("tbody",nt,[(x(!0),n(v,null,w(r.data,s=>(x(),n("tr",{key:s.id,class:"break-inside-avoid hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[t("td",it,a(s.order_date),1),t("td",xt,a(s.number),1),t("td",pt,a(s.customer?.name),1),t("td",ut,[t("span",{class:$(["capitalize px-2 py-0.5 rounded text-[10px] font-bold border",{"bg-blue-50 text-blue-700 border-blue-200":s.status==="confirmed","bg-slate-50 text-slate-700 border-slate-200":s.status==="draft"}])},a(s.status),3)]),t("td",ct,a(l(c)(s.total)),1),t("td",mt,a(l(c)(s.tax)),1),t("td",bt,a(l(c)(Number(s.total)+Number(s.tax))),1)]))),128)),r.data.length===0?(x(),n("tr",ft,[...e[14]||(e[14]=[t("td",{colspan:"7",class:"py-12 text-center text-slate-500 dark:text-slate-400 italic"},"No sales transactions found for the selected period.",-1)])])):j("",!0)])]),e[16]||(e[16]=t("div",{class:"mt-12 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-between text-[10px] text-slate-500 dark:text-slate-400 uppercase font-bold tracking-widest"},[t("p",null,"Internal Document - ERP JICOS"),t("p",null,"Page 1 OF 1")],-1))])])]),_:1})],64))}},Ft=P(gt,[["__scopeId","data-v-9cf1e07a"]]);export{Ft as default};
