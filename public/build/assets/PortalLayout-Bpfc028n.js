import{C as A,c as a,a as c,u as n,h as B,b as e,F as x,g as k,w,o,x as f,y as j,d as L,t as i,n as u,l as _,e as d,L as E,m,s as D,B as y}from"./app-CCf7_9Wg.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as T}from"./XMarkIcon-CejSBq9U.js";import{e as V,r as F,d as J,b as G,a as W,g as q,f as Q,c as U}from"./SunIcon-Bj99B8bH.js";import{r as H}from"./ShoppingCartIcon-BGHNwEaG.js";import{r as K}from"./TruckIcon-CP1ruPvc.js";import{r as X}from"./CalendarIcon-DkWoHyaw.js";import{r as Y}from"./FolderIcon-Bo8nAsnd.js";import{r as Z}from"./ArchiveBoxIcon-KcY9O8SP.js";import{r as ee}from"./QuestionMarkCircleIcon-BP4TrS0e.js";import{r as te}from"./ChevronRightIcon-JUmgFta1.js";import{r as se}from"./ChevronLeftIcon-CxAabha_.js";import{r as oe}from"./ArrowRightOnRectangleIcon-GTCUtOuW.js";const ae={class:"min-h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-300"},re={key:0,class:"fixed inset-0 z-50 lg:hidden"},le={class:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-slate-800 shadow-xl p-4"},ne={class:"flex items-center justify-between mb-8"},ie={class:"flex items-center gap-3"},de={class:"w-10 h-10 rounded-xl bg-slate-900 border border-white/10 flex items-center justify-center shadow-[0_0_15px_rgba(6,182,212,0.3)] shrink-0 overflow-hidden"},ce=["src"],ue={class:"space-y-2"},pe=["src"],he={key:1,class:"flex flex-col items-center gap-3 fade-in"},ge={class:"w-16 h-16 rounded-2xl bg-slate-900 border border-white/10 flex items-center justify-center shadow-[0_0_20px_rgba(6,182,212,0.4)] transition-all duration-500 hover:shadow-[0_0_30px_rgba(6,182,212,0.7)] hover:border-cyan-500/50 overflow-hidden group"},fe=["src"],be={class:"flex-1 p-3 space-y-2 overflow-y-auto overflow-x-hidden no-scrollbar"},ve={key:0,class:"whitespace-nowrap transition-opacity duration-300"},me={key:1,class:"absolute left-full ml-3 px-3 py-1.5 bg-slate-800 text-white text-xs font-bold rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 shadow-xl border border-slate-700 transition-opacity translate-x-1 group-hover:translate-x-0"},xe={class:"p-3 border-t border-slate-200 dark:border-slate-700 space-y-2"},ke={key:2,class:"text-sm"},we={key:0,class:"whitespace-nowrap"},_e={key:1,class:"absolute left-full ml-3 px-3 py-1.5 bg-red-900 text-white text-xs font-bold rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 shadow-xl border border-red-800"},ye={class:"sticky top-0 z-40 bg-white/80 dark:bg-slate-900/80 backdrop-blur border-b border-slate-200 dark:border-slate-700 h-16 flex items-center justify-between px-4 sm:px-6 lg:px-8"},$e={class:"flex items-center gap-4"},Ce=["title"],Se={class:"relative"},je={key:0,class:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center"},Le={key:0,class:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden z-50"},De={class:"p-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between bg-slate-50 dark:bg-slate-700/50"},Ne={key:0,class:"text-xs text-indigo-600 font-semibold"},ze={class:"max-h-80 overflow-y-auto divide-y divide-slate-100 dark:divide-slate-700"},Ie=["onClick"],Me={class:"text-sm font-semibold text-slate-900 dark:text-white"},Oe={class:"text-xs text-slate-500 truncate"},Pe={class:"text-[10px] text-slate-400 mt-1"},Ae={key:0,class:"p-6 text-center text-slate-400 text-sm"},Be={class:"text-right hidden sm:block"},Ee={class:"text-sm font-semibold text-slate-900 dark:text-white"},Re={class:"text-xs text-slate-500"},Te={class:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold border border-indigo-200"},Ve={class:"py-10 flex-1"},Fe={class:"px-4 sm:px-6 lg:px-8"},Je={__name:"PortalLayout",props:{title:String},setup(N){const v=m(!1),p=m(!1),r=m(!1),$=[{name:"Dashboard",href:"/portal/dashboard",icon:V},{name:"Purchase Orders",href:"/portal/purchase-orders",icon:H},{name:"Deliveries",href:"/portal/deliveries",icon:K},{name:"Invoices",href:"/portal/invoices",icon:F},{name:"Schedule",href:"/portal/schedule",icon:X},{name:"Analytics",href:"/portal/analytics",icon:J},{name:"Documents",href:"/portal/documents",icon:Y},{name:"Returns",href:"/portal/returns",icon:Z},{name:"RFQ",href:"/portal/rfq",icon:G},{name:"User Guide",href:"/portal/help",icon:ee}],z=()=>{D.post(route("logout"))},C=()=>{r.value=!r.value,localStorage.setItem("sidebarCollapsed",r.value)},I=y(()=>window.$page?.props?.auth?.recentNotifications||[]),b=y(()=>window.$page?.props?.auth?.unreadNotificationsCount||0),S=y(()=>I.value.slice(0,5)),M=l=>{D.post(route("portal.notifications.read",l),{},{preserveScroll:!0}),p.value=!1},O=l=>{const s=new Date(l),g=new Date-s;return g<6e4?"Just now":g<36e5?Math.floor(g/6e4)+"m ago":g<864e5?Math.floor(g/36e5)+"h ago":s.toLocaleDateString()},h=m(!1),P=()=>{h.value=!h.value,h.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return A(()=>{localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(h.value=!0,document.documentElement.classList.add("dark")):(h.value=!1,document.documentElement.classList.remove("dark")),localStorage.getItem("sidebarCollapsed")==="true"&&(r.value=!0)}),(l,s)=>(o(),a("div",ae,[c(n(B),{title:N.title},null,8,["title"]),v.value?(o(),a("div",re,[e("div",{class:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm",onClick:s[0]||(s[0]=t=>v.value=!1)}),e("div",le,[e("div",ne,[e("div",ie,[e("div",de,[e("img",{src:l.$page.props.company?.logo||"/images/jicos.png",alt:"Logo",class:"w-full h-full object-cover"},null,8,ce)]),s[6]||(s[6]=e("div",{class:"flex flex-col"},[e("span",{class:"text-2xl font-black italic tracking-tighter text-slate-900 dark:text-white"},"JICOS PORTAL"),e("span",{class:"text-[8px] font-bold text-indigo-500 uppercase tracking-[0.2em] -mt-1 font-mono"},"Supplier Gateway")],-1))]),e("button",{onClick:s[1]||(s[1]=t=>v.value=!1),class:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors"},[c(n(T),{class:"h-6 w-6 text-slate-500"})])]),e("nav",ue,[(o(),a(x,null,k($,t=>c(n(_),{key:t.name,href:t.href,class:u(["flex items-center gap-3 px-4 py-3 rounded-xl transition-colors",l.$page.url.startsWith(t.href)?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"])},{default:w(()=>[(o(),f(j(t.icon),{class:"h-5 w-5"})),L(" "+i(t.name),1)]),_:2},1032,["href","class"])),64))])])])):d("",!0),e("div",{class:u(["hidden lg:fixed lg:inset-y-0 lg:flex lg:flex-col bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 transition-all duration-300 z-30",r.value?"lg:w-20":"lg:w-64"])},[e("div",{class:u(["flex items-center justify-center border-b border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-900/10 transition-all duration-300",r.value?"py-4 h-[73px]":"py-8 h-[120px]"])},[r.value?(o(),a("div",{key:0,class:"w-10 h-10 rounded-xl bg-slate-900 border border-white/10 flex items-center justify-center shadow-[0_0_15px_rgba(6,182,212,0.3)] shrink-0 overflow-hidden cursor-pointer",onClick:C},[e("img",{src:l.$page.props.company?.logo||"/images/jicos.png",alt:"Logo",class:"w-full h-full object-cover"},null,8,pe)])):(o(),a("div",he,[e("div",ge,[e("img",{src:l.$page.props.company?.logo||"/images/jicos.png",alt:"Logo",class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,fe)]),s[7]||(s[7]=e("div",{class:"text-center px-4"},[e("span",{class:"text-2xl font-black italic tracking-[0.05em] text-transparent bg-clip-text bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-cyan-400 drop-shadow-[0_0_8px_rgba(6,182,212,0.3)] leading-none block"},"JICOS PORTAL"),e("div",{class:"h-1 w-12 bg-indigo-500 mx-auto mt-2 rounded-full shadow-[0_0_8px_#6366f1]"})],-1))]))],2),e("nav",be,[(o(),a(x,null,k($,t=>c(n(_),{key:t.name,href:t.href,class:u(["flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-200 group relative",[l.$page.url.startsWith(t.href)?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700",r.value?"justify-center":""]])},{default:w(()=>[(o(),f(j(t.icon),{class:"h-6 w-6 shrink-0"})),r.value?d("",!0):(o(),a("span",ve,i(t.name),1)),r.value?(o(),a("div",me,i(t.name),1)):d("",!0)]),_:2},1032,["href","class"])),64))]),e("div",xe,[e("button",{onClick:C,class:u(["hidden lg:flex w-full items-center gap-3 px-3 py-2 rounded-xl text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors group relative",r.value?"justify-center":""]),title:"Toggle Sidebar"},[r.value?(o(),f(n(te),{key:0,class:"h-5 w-5"})):(o(),f(n(se),{key:1,class:"h-5 w-5"})),r.value?d("",!0):(o(),a("span",ke,"Collapse"))],2),e("button",{onClick:z,class:u(["flex w-full items-center gap-3 px-3 py-3 rounded-xl text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors group relative",r.value?"justify-center":""])},[c(n(oe),{class:"h-5 w-5 shrink-0"}),r.value?d("",!0):(o(),a("span",we,"Logout")),r.value?(o(),a("div",_e," Logout ")):d("",!0)],2)])],2),e("div",{class:u(["transition-all duration-300 min-h-screen flex flex-col",r.value?"lg:pl-20":"lg:pl-64"])},[e("header",ye,[e("button",{onClick:s[2]||(s[2]=t=>v.value=!0),class:"lg:hidden p-2 text-slate-500"},[c(n(W),{class:"h-6 w-6"})]),s[10]||(s[10]=e("div",{class:"flex-1"},null,-1)),e("div",$e,[e("button",{onClick:P,class:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",title:h.value?"Switch to Light Mode":"Switch to Dark Mode"},[h.value?(o(),f(n(q),{key:0,class:"h-5 w-5"})):(o(),f(n(Q),{key:1,class:"h-5 w-5"}))],8,Ce),e("div",Se,[e("button",{onClick:s[3]||(s[3]=t=>p.value=!p.value),class:"relative p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors"},[c(n(U),{class:"h-5 w-5"}),b.value>0?(o(),a("span",je,i(b.value>9?"9+":b.value),1)):d("",!0)]),p.value?(o(),a("div",Le,[e("div",De,[s[8]||(s[8]=e("h3",{class:"font-bold text-slate-900 dark:text-white"},"Notifications",-1)),b.value>0?(o(),a("span",Ne,i(b.value)+" new",1)):d("",!0)]),e("div",ze,[(o(!0),a(x,null,k(S.value,t=>(o(),a("div",{key:t.id,class:u(["p-3 hover:bg-slate-50 dark:hover:bg-slate-700/30 cursor-pointer",{"bg-indigo-50/50 dark:bg-indigo-900/10":!t.read_at}]),onClick:g=>M(t.id)},[e("p",Me,i(t.data?.title),1),e("p",Oe,i(t.data?.message),1),e("p",Pe,i(O(t.created_at)),1)],10,Ie))),128)),S.value.length===0?(o(),a("div",Ae," No notifications ")):d("",!0)]),c(n(_),{href:"/portal/notifications",class:"block p-3 text-center text-sm font-semibold text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 border-t border-slate-200 dark:border-slate-700",onClick:s[4]||(s[4]=t=>p.value=!1)},{default:w(()=>[...s[9]||(s[9]=[L(" View all notifications ",-1)])]),_:1})])):d("",!0)]),e("div",Be,[e("p",Ee,i(l.$page.props.auth.user.name),1),e("p",Re,i(l.$page.props.auth.user.email),1)]),e("div",Te,i(l.$page.props.auth.user.name.charAt(0)),1)])]),p.value?(o(),a("div",{key:0,class:"fixed inset-0 z-30",onClick:s[5]||(s[5]=t=>p.value=!1)})):d("",!0),e("main",Ve,[e("div",Fe,[E(l.$slots,"default",{},void 0,!0)])])],2)]))}},ot=R(Je,[["__scopeId","data-v-e0f52271"]]);export{ot as P};
