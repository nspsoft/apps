import{f as st,m as w,s as L,q as at,c as i,a as r,u as a,h as lt,w as f,b as t,j as P,v as rt,n as D,d as o,o as l,t as d,e as x,l as y,T as V,F as q,g as I,k as R,x as n,p as B,D as ot,i as dt}from"./app-BAwp6RV6.js";import{e as nt,h as g,f as it,_ as ct}from"./AppLayout-CsdKrap4.js";import{d as xt}from"./debounce-Dze_HvOY.js";import{a as h,f as U}from"./helpers-DnzC1tLX.js";/* empty css                                                                      */import{r as ut}from"./MagnifyingGlassIcon-Bco7YNTp.js";import{r as pt}from"./ShoppingCartIcon-CCYH61-6.js";import{r as E}from"./DocumentPlusIcon-I8drsc-j.js";import{r as N}from"./ArrowDownTrayIcon-DDkCuc72.js";import{r as bt}from"./ClockIcon-DBJGp2Ga.js";import{r as Q}from"./ArrowUpTrayIcon-Da18CVWB.js";import{r as mt}from"./SparklesIcon-_ROZm8t1.js";import{r as G}from"./PlusIcon-BlGw-Iwa.js";import{r as v}from"./ChevronUpIcon-CQuVCNku.js";import{r as H}from"./DocumentTextIcon-1pOJE1-L.js";import{r as gt}from"./EyeIcon-DG7-8bjl.js";import{r as vt}from"./PencilSquareIcon-DiNTpCcv.js";import{r as ft}from"./TrashIcon-erV0RHgX.js";import{r as ht}from"./TruckIcon-MnhfNnJI.js";import{r as kt}from"./ShieldCheckIcon-C_yXRo_D.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-V7CKPjvz.js";import"./SunIcon-U6OEtv2_.js";import"./WrenchScrewdriverIcon-BJW7rLOR.js";import"./MapPinIcon-CDcGfMwb.js";import"./CubeIcon-DhWsQksD.js";import"./CheckCircleIcon-DLo4mYDO.js";const wt={class:"flex flex-col xl:flex-row xl:items-center justify-between gap-4 mb-6"},yt={class:"flex flex-wrap items-center gap-3"},_t={class:"relative w-full sm:w-64"},Ct={key:0,class:"flex flex-wrap items-center gap-2"},$t={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-blue-500 flex items-center gap-3 shadow-sm"},Ot={class:"flex items-baseline gap-2"},St={class:"text-sm font-black text-slate-900 dark:text-white"},qt={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-emerald-500 flex items-center gap-3 shadow-sm"},Ft={class:"flex items-baseline gap-2"},jt={class:"text-sm font-black text-slate-900 dark:text-white"},Dt={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-red-500 flex items-center gap-3 shadow-sm"},It={class:"flex items-baseline gap-2"},zt={class:"text-sm font-black text-slate-900 dark:text-white"},Mt={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-amber-500 flex items-center gap-3 shadow-sm"},Tt={class:"flex items-baseline gap-2"},Pt={class:"text-sm font-black text-slate-900 dark:text-white"},Bt={class:"flex items-center gap-2 shrink-0"},Nt={href:"/sales/orders-export",class:"inline-flex items-center gap-2 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-2 text-sm font-semibold text-slate-700 dark:text-slate-200 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-all group"},At={key:0,class:"mb-6 rounded-2xl glass-card p-4"},Lt={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Vt=["value"],Rt=["value"],Ut={class:"rounded-2xl glass-card overflow-hidden"},Et={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},Qt={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},Gt={class:"border-b border-slate-200 dark:border-slate-700"},Ht={class:"flex items-center gap-1"},Wt={key:0,class:"text-blue-600 dark:text-blue-400"},Jt={class:"flex items-center gap-1"},Kt={key:0,class:"text-blue-600 dark:text-blue-400"},Xt={class:"flex items-center gap-1"},Yt={key:0,class:"text-blue-600 dark:text-blue-400"},Zt={class:"flex items-center gap-1"},te={key:0,class:"text-blue-600 dark:text-blue-400"},ee={class:"flex items-center justify-center gap-1"},se={key:0,class:"text-blue-600 dark:text-blue-400"},ae={class:"flex items-center justify-center gap-1"},le={key:0,class:"text-blue-600 dark:text-blue-400"},re={class:"flex items-center justify-center gap-1"},oe={key:0,class:"text-blue-600 dark:text-blue-400"},de={class:"flex items-center justify-center gap-1"},ne={key:0,class:"text-blue-600 dark:text-blue-400"},ie={class:"flex items-center justify-center gap-1"},ce={key:0,class:"text-blue-600 dark:text-blue-400"},xe={class:"flex items-center justify-end gap-1"},ue={key:0,class:"text-blue-600 dark:text-blue-400"},pe={class:"flex items-center justify-center gap-1"},be={key:0,class:"text-blue-600 dark:text-blue-400"},me={class:"flex items-center justify-center gap-1"},ge={key:0,class:"text-blue-600 dark:text-blue-400"},ve={class:"flex items-center justify-center gap-1"},fe={key:0,class:"text-blue-600 dark:text-blue-400"},he={class:"divide-y divide-slate-100 dark:divide-slate-800"},ke={class:"px-4 py-2 whitespace-nowrap"},we={class:"flex items-center gap-3"},ye={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 dark:bg-slate-800"},_e={class:"text-xs text-slate-500"},Ce={class:"px-4 py-2 whitespace-nowrap"},$e={class:"text-sm text-slate-900 dark:text-white"},Oe={class:"text-xs text-slate-500"},Se={class:"px-4 py-2 whitespace-nowrap max-w-[180px]"},qe=["title"],Fe={class:"px-4 py-2 whitespace-nowrap"},je={class:"text-sm text-slate-600 dark:text-slate-300"},De={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-slate-600 dark:text-slate-300"},Ie={class:"px-4 py-2 whitespace-nowrap text-center text-sm font-medium text-slate-900 dark:text-white"},ze={class:"px-4 py-2 whitespace-nowrap text-center"},Me={class:"flex flex-col items-center gap-1"},Te={class:"text-xs font-bold text-slate-700 dark:text-slate-300"},Pe={class:"w-20 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden"},Be={class:"text-[10px] text-slate-400"},Ne={class:"px-4 py-2 whitespace-nowrap text-center"},Ae={class:"flex flex-col items-center gap-1"},Le={class:"text-xs font-bold text-slate-700 dark:text-slate-300"},Ve={class:"w-20 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden"},Re={class:"text-[10px] text-slate-400"},Ue={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-red-400"},Ee={class:"px-4 py-2 whitespace-nowrap text-center"},Qe={class:"px-4 py-2 whitespace-nowrap text-right"},Ge={class:"text-sm font-medium text-slate-900 dark:text-white"},He={class:"px-4 py-2 whitespace-nowrap text-right text-xs font-mono"},We={class:"px-4 py-2 whitespace-nowrap text-center"},Je={class:"flex flex-col items-center gap-1"},Ke={class:"text-xs font-bold text-slate-700 dark:text-slate-300"},Xe={class:"w-20 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden"},Ye={class:"px-4 py-2 whitespace-nowrap text-center"},Ze=["title"],ts={class:"px-4 py-2 whitespace-nowrap text-right"},es={class:"flex items-center justify-end gap-2"},ss=["onClick"],as={key:0},ls={colspan:"11",class:"px-4 py-12 text-center"},rs={class:"mt-4"},os={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},ds={class:"text-sm text-slate-500 dark:text-slate-400"},ns={class:"flex items-center gap-2"},is={class:"mt-12"},cs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},xs={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},us={class:"flex items-center gap-3 mb-3"},ps={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},bs={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ms={class:"flex items-center gap-3 mb-3"},gs={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},vs={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},fs={class:"flex items-center gap-3 mb-3"},hs={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},ks={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ws={class:"flex items-center gap-3 mb-3"},ys={class:"p-2.5 rounded-xl bg-amber-500/10 text-amber-400"},_s={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},Cs={class:"relative w-full max-w-lg mx-4 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 shadow-2xl"},$s={class:"flex items-center justify-between px-6 py-4 border-b border-slate-200 dark:border-slate-700"},Os={class:"mb-4"},Ss={href:"/sales/orders-template",class:"inline-flex items-center gap-2 text-sm font-medium text-blue-500 hover:text-blue-400 transition-colors mb-4"},qs={class:"mb-6"},Fs={key:0,class:"mt-1 text-sm text-red-500"},js={class:"flex items-center justify-end gap-3"},Ds=["disabled"],oa={__name:"Index",props:{salesOrders:Object,stats:Object,customers:Array,filters:Object,statuses:Array},setup(b){const _=w(!1),k=st({file:null}),z=w(null),W=c=>{k.file=c.target.files[0]},J=()=>{k.post("/sales/orders-import",{onSuccess:()=>{_.value=!1,k.reset(),z.value&&(z.value.value="")},forceFormData:!0})},C=b,$=w(C.filters.search||""),O=w(C.filters.status||""),S=w(C.filters.customer||""),p=w(C.filters.sort||"created_at"),u=w(C.filters.direction||"desc"),F=w(!1),A=xt(()=>{L.get("/sales/orders",{search:$.value||void 0,status:O.value||void 0,customer:S.value||void 0,sort:p.value,direction:u.value},{preserveState:!0,replace:!0})},300),m=c=>{p.value===c?u.value=u.value==="asc"?"desc":"asc":(p.value=c,u.value="asc"),A()};at([$,O,S],A);const K=()=>{$.value="",O.value="",S.value=""},X=c=>{confirm(`Are you sure you want to delete "${c.so_number}"?`)&&L.delete(`/sales/orders/${c.id}`)},Y=c=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",waiting_po:"bg-orange-500/20 text-orange-500 dark:text-orange-400 border-orange-500/30",confirmed:"bg-blue-500/20 text-blue-400 border-blue-500/30",processing:"bg-amber-500/20 text-amber-400 border-amber-500/30",shipped:"bg-purple-500/20 text-purple-400 border-purple-500/30",delivered:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[c]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",Z=c=>({draft:"Draft",waiting_po:"Waiting PO",confirmed:"Confirmed",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"})[c]||c,tt=c=>({draft:"Pesanan baru dibuat, belum dikonfirmasi.",waiting_po:"Menunggu Purchase Order resmi dari customer.",confirmed:"Pesanan disetujui, siap diproses.",processing:"Sedang disiapkan di gudang.",shipped:"Barang dalam pengiriman.",delivered:"Pesanan sudah sampai.",cancelled:"Pesanan dibatalkan."})[c]||"",et=c=>new Date(c).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}),j=(c,e)=>{const s=parseFloat(c||0),T=parseFloat(e||1);return T<=0?0:Math.round(s/T*100)},M=(c,e)=>{const s=j(c,e);return Math.min(s,100)+"%"};return(c,e)=>(l(),i(q,null,[r(a(lt),{title:"Sales Orders"}),r(ct,{title:"Sales Orders"},{default:f(()=>[t("div",wt,[t("div",yt,[t("div",_t,[r(a(ut),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),P(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>$.value=s),type:"search",placeholder:"Search SO number...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[rt,$.value]])]),t("button",{onClick:e[1]||(e[1]=s=>F.value=!F.value),class:D(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors border border-transparent",{"ring-2 ring-blue-500/50 border-blue-500/50":F.value}])},[r(a(nt),{class:"h-5 w-5"}),e[21]||(e[21]=o(" Filters ",-1))],2),b.stats?(l(),i("div",Ct,[t("div",$t,[r(a(pt),{class:"w-4 h-4 text-blue-500 shrink-0"}),t("div",Ot,[e[22]||(e[22]=t("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Ordered",-1)),t("span",St,d(a(h)(b.stats.total_qty||0)),1)])]),t("div",qt,[r(a(E),{class:"w-4 h-4 text-emerald-500 shrink-0"}),t("div",Ft,[e[23]||(e[23]=t("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Sent",-1)),t("span",jt,d(a(h)(b.stats.total_delivered||0)),1)])]),t("div",Dt,[r(a(N),{class:"w-4 h-4 text-red-500 rotate-180 shrink-0"}),t("div",It,[e[24]||(e[24]=t("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Return",-1)),t("span",zt,d(a(h)(b.stats.total_returned||0)),1)])]),t("div",Mt,[r(a(bt),{class:"w-4 h-4 text-amber-500 shrink-0"}),t("div",Tt,[e[25]||(e[25]=t("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Balance",-1)),t("span",Pt,d(a(h)(b.stats.total_balance||0)),1)])])])):x("",!0)]),t("div",Bt,[t("a",Nt,[r(a(N),{class:"h-5 w-5 text-emerald-500 group-hover:scale-110 transition-transform"}),e[26]||(e[26]=o(" Export ",-1))]),t("button",{onClick:e[2]||(e[2]=s=>_.value=!0),class:"inline-flex items-center gap-2 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-2 text-sm font-semibold text-slate-700 dark:text-slate-200 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-all group"},[r(a(Q),{class:"h-5 w-5 text-blue-500 group-hover:scale-110 transition-transform"}),e[27]||(e[27]=o(" Import ",-1))]),r(a(y),{href:"/sales/po-extractor",class:"inline-flex items-center gap-2 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-2 text-sm font-semibold text-slate-700 dark:text-slate-200 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-all group"},{default:f(()=>[r(a(mt),{class:"h-5 w-5 text-amber-500 group-hover:scale-110 transition-transform"}),e[28]||(e[28]=o(" Import PO (AI) ",-1))]),_:1}),r(a(y),{href:"/sales/orders/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:f(()=>[r(a(G),{class:"h-5 w-5"}),e[29]||(e[29]=o(" Create SO ",-1))]),_:1})])]),r(V,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:f(()=>[F.value?(l(),i("div",At,[t("div",Lt,[t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Status",-1)),P(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>O.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[30]||(e[30]=t("option",{value:""},"All Status",-1)),(l(!0),i(q,null,I(b.statuses,s=>(l(),i("option",{key:s.value,value:s.value},d(s.label),9,Vt))),128))],512),[[R,O.value]])]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Customer",-1)),P(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>S.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[32]||(e[32]=t("option",{value:""},"All Customers",-1)),(l(!0),i(q,null,I(b.customers,s=>(l(),i("option",{key:s.id,value:s.id},d(s.name),9,Rt))),128))],512),[[R,S.value]])]),t("div",{class:"flex items-end"},[t("button",{onClick:K,class:"w-full rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-colors"}," Clear Filters ")])])])):x("",!0)]),_:1}),t("div",Ut,[t("div",Et,[t("table",Qt,[t("thead",null,[t("tr",Gt,[t("th",{onClick:e[5]||(e[5]=s=>m("so_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",Ht,[e[34]||(e[34]=o(" SO Number ",-1)),p.value==="so_number"?(l(),i("span",Wt,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[6]||(e[6]=s=>m("customer_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",Jt,[e[35]||(e[35]=o(" Customer ",-1)),p.value==="customer_name"?(l(),i("span",Kt,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[7]||(e[7]=s=>m("customer_po_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",Xt,[e[36]||(e[36]=o(" No PO ",-1)),p.value==="customer_po_number"?(l(),i("span",Yt,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[8]||(e[8]=s=>m("order_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",Zt,[e[37]||(e[37]=o(" Order Date ",-1)),p.value==="order_date"?(l(),i("span",te,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[9]||(e[9]=s=>m("items_count")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",ee,[e[38]||(e[38]=o(" Items ",-1)),p.value==="items_count"?(l(),i("span",se,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[10]||(e[10]=s=>m("total_qty_ordered")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",ae,[e[39]||(e[39]=o(" Qty ",-1)),p.value==="total_qty_ordered"?(l(),i("span",le,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[11]||(e[11]=s=>m("total_qty_delivered")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",re,[e[40]||(e[40]=o(" Delivery ",-1)),p.value==="total_qty_delivered"?(l(),i("span",oe,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[12]||(e[12]=s=>m("total_qty_invoiced")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",de,[e[41]||(e[41]=o(" Inv (Qty) ",-1)),p.value==="total_qty_invoiced"?(l(),i("span",ne,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[13]||(e[13]=s=>m("total_qty_returned")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",ie,[e[42]||(e[42]=o(" Return ",-1)),p.value==="total_qty_returned"?(l(),i("span",ce,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e[47]||(e[47]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm"},"Balance",-1)),t("th",{onClick:e[14]||(e[14]=s=>m("total")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",xe,[e[43]||(e[43]=o(" Total ",-1)),p.value==="total"?(l(),i("span",ue,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[15]||(e[15]=s=>m("total_amount_invoiced")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",pe,[e[44]||(e[44]=o(" Inv (Rp) ",-1)),p.value==="total_amount_invoiced"?(l(),i("span",be,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[16]||(e[16]=s=>m("percent_invoiced")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",me,[e[45]||(e[45]=o(" % Inv ",-1)),p.value==="percent_invoiced"?(l(),i("span",ge,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[17]||(e[17]=s=>m("status")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",ve,[e[46]||(e[46]=o(" Status ",-1)),p.value==="status"?(l(),i("span",fe,[u.value==="asc"?(l(),n(a(v),{key:0,class:"h-3 w-3"})):(l(),n(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e[48]||(e[48]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm"},"Actions",-1))])]),t("tbody",he,[(l(!0),i(q,null,I(b.salesOrders.data,s=>(l(),i("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",ke,[t("div",we,[t("div",ye,[r(a(H),{class:"h-5 w-5 text-slate-500 dark:text-slate-400"})]),t("div",null,[r(a(y),{href:`/sales/orders/${s.id}`,class:"text-sm font-medium text-slate-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 hover:underline transition-colors"},{default:f(()=>[o(d(s.so_number),1)]),_:2},1032,["href"]),t("div",_e,d(s.warehouse?.name),1)])])]),t("td",Ce,[t("div",$e,d(s.customer?.name),1),t("div",Oe,d(s.customer?.code),1)]),t("td",Se,[t("div",{class:"truncate text-sm font-medium text-slate-600 dark:text-slate-300 font-mono",title:s.customer_po_number},d(s.customer_po_number||"-"),9,qe)]),t("td",Fe,[t("span",je,d(et(s.order_date)),1)]),t("td",De,d(s.items_count),1),t("td",Ie,d(a(h)(s.total_qty_ordered||0)),1),t("td",ze,[t("div",Me,[t("span",Te,d(j(s.total_qty_delivered,s.total_qty_ordered))+"% ",1),t("div",Pe,[t("div",{class:"h-full bg-emerald-500 rounded-full",style:B({width:M(s.total_qty_delivered,s.total_qty_ordered)})},null,4)]),t("span",Be,d(a(h)(s.total_qty_delivered||0)),1)])]),t("td",Ne,[t("div",Ae,[t("span",Le,d(j(s.total_qty_invoiced,s.total_qty_ordered))+"% ",1),t("div",Ve,[t("div",{class:"h-full bg-blue-500 rounded-full",style:B({width:M(s.total_qty_invoiced,s.total_qty_ordered)})},null,4)]),t("span",Re,d(a(h)(s.total_qty_invoiced||0)),1)])]),t("td",Ue,d(a(h)(s.total_qty_returned||0)),1),t("td",Ee,[t("span",{class:D(["text-sm font-bold",parseFloat(s.total_qty_ordered)-(parseFloat(s.total_qty_delivered)-parseFloat(s.total_qty_returned||0))>0?"text-amber-400":"text-emerald-500"])},d(a(h)(parseFloat(s.total_qty_ordered||0)-(parseFloat(s.total_qty_delivered||0)-parseFloat(s.total_qty_returned||0)))),3)]),t("td",Qe,[t("span",Ge,d(a(U)(s.total)),1)]),t("td",He,d(a(U)(s.total_amount_invoiced||0)),1),t("td",We,[t("div",Je,[t("span",Ke,d(j(s.total_amount_invoiced,s.total))+"% ",1),t("div",Xe,[t("div",{class:"h-full bg-indigo-500 rounded-full",style:B({width:M(s.total_amount_invoiced,s.total)})},null,4)])])]),t("td",Ye,[t("span",{class:D(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium cursor-help",Y(s.status)]),title:tt(s.status)},d(Z(s.status)),11,Ze)]),t("td",ts,[t("div",es,[r(a(y),{href:`/sales/orders/${s.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},{default:f(()=>[r(a(gt),{class:"h-4 w-4"})]),_:1},8,["href"]),s.status==="draft"||s.status==="waiting_po"?(l(),n(a(y),{key:0,href:`/sales/orders/${s.id}/edit`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},{default:f(()=>[r(a(vt),{class:"h-4 w-4"})]),_:1},8,["href"])):x("",!0),s.status==="draft"?(l(),i("button",{key:1,onClick:T=>X(s),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-red-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[r(a(ft),{class:"h-4 w-4"})],8,ss)):x("",!0)])])]))),128)),b.salesOrders.data.length===0?(l(),i("tr",as,[t("td",ls,[r(a(H),{class:"mx-auto h-12 w-12 text-slate-600"}),e[50]||(e[50]=t("h3",{class:"mt-2 text-sm font-medium text-slate-600 dark:text-slate-300"},"No sales orders found",-1)),e[51]||(e[51]=t("p",{class:"mt-1 text-sm text-slate-500"},"Create a new sales order to get started.",-1)),t("div",rs,[r(a(y),{href:"/sales/orders/create",class:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500 transition-colors"},{default:f(()=>[r(a(G),{class:"h-4 w-4"}),e[49]||(e[49]=o(" Create SO ",-1))]),_:1})])])])):x("",!0)])])]),b.salesOrders.last_page>1?(l(),i("div",os,[t("p",ds," Showing "+d(b.salesOrders.from)+" to "+d(b.salesOrders.to)+" of "+d(b.salesOrders.total)+" orders ",1),t("div",ns,[(l(!0),i(q,null,I(b.salesOrders.links,s=>(l(),n(a(y),{key:s.label,href:s.url||"#",class:D(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-white":s.url?"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white":"text-slate-300 dark:text-slate-600 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):x("",!0)]),t("div",is,[e[60]||(e[60]=t("div",{class:"flex items-center gap-2 mb-4 px-1"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Sales Operations Guide"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",cs,[t("div",xs,[t("div",us,[t("div",ps,[r(a(E),{class:"h-5 w-5"})]),e[52]||(e[52]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Order Fulfillment",-1))]),e[53]||(e[53]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Track "),t("strong",null,"Qty Balance"),o(" to see what's pending. Orders move from Draft to Confirmed before they can be processed for shipping. ")],-1))]),t("div",bs,[t("div",ms,[t("div",gs,[r(a(ht),{class:"h-5 w-5"})]),e[54]||(e[54]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Delivery Linking",-1))]),e[55]||(e[55]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Generate "),t("strong",null,"Delivery Orders (DO)"),o(" directly from confirmed SOs. One SO can have multiple partial deliveries if needed. ")],-1))]),t("div",vs,[t("div",fs,[t("div",hs,[r(a(it),{class:"h-5 w-5"})]),e[56]||(e[56]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Invoicing Flow",-1))]),e[57]||(e[57]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Create "),t("strong",null,"Proforma or Final Invoices"),o(" based on ordered or delivered quantities to ensure accurate billing for your customers. ")],-1))]),t("div",ks,[t("div",ws,[t("div",ys,[r(a(kt),{class:"h-5 w-5"})]),e[58]||(e[58]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Return Tracking",-1))]),e[59]||(e[59]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Monitor "),t("strong",null,"Returned Items"),o(" in the list view. The system automatically recalculates the balance to prevent over-delivery. ")],-1))])])]),(l(),n(ot,{to:"body"},[r(V,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:f(()=>[_.value?(l(),i("div",_s,[t("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e[18]||(e[18]=s=>_.value=!1)}),t("div",Cs,[t("div",$s,[e[62]||(e[62]=t("h3",{class:"text-lg font-bold text-slate-900 dark:text-white"},"Import Sales Orders",-1)),t("button",{onClick:e[19]||(e[19]=s=>_.value=!1),class:"p-1 rounded-lg text-slate-400 hover:text-slate-600 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"},[...e[61]||(e[61]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("form",{onSubmit:dt(J,["prevent"]),class:"p-6"},[t("div",Os,[e[64]||(e[64]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400 mb-4"}," Upload an Excel file (.xlsx, .xls, .csv) to import Sales Orders. Rows with the same Customer Code + Order Date will be grouped into one SO. ",-1)),t("a",Ss,[r(a(N),{class:"h-4 w-4"}),e[63]||(e[63]=o(" Download Template ",-1))])]),t("div",qs,[e[65]||(e[65]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},"Select File",-1)),t("input",{ref_key:"fileInput",ref:z,type:"file",onChange:W,accept:".xlsx,.xls,.csv",class:"block w-full text-sm text-slate-500 dark:text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-blue-500/10 file:text-blue-500 hover:file:bg-blue-500/20 transition-all cursor-pointer"},null,544),a(k).errors.file?(l(),i("p",Fs,d(a(k).errors.file),1)):x("",!0)]),t("div",js,[t("button",{type:"button",onClick:e[20]||(e[20]=s=>_.value=!1),class:"px-4 py-2 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"}," Cancel "),t("button",{type:"submit",disabled:!a(k).file||a(k).processing,class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},[r(a(Q),{class:"h-4 w-4"}),o(" "+d(a(k).processing?"Importing...":"Import"),1)],8,Ds)])],32)])])):x("",!0)]),_:1})]))]),_:1})],64))}};export{oa as default};
