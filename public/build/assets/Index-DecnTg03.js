import{p as I,m as p,d as L,e,b as m,u as l,j as f,o as r,c as a,F as v,g as k,n as y,t as d,E as O,k as c,l as _,Z as D,y as H,f as w,v as h,i as P,r as $,a as j}from"./app-nCr6V8nV.js";import{P as R}from"./PortalLayout-iXlIHmBY.js";import{r as U}from"./FolderIcon-CqLBBX3c.js";import{r as Z}from"./PlusIcon-C1yUr-i3.js";import{r as q}from"./ExclamationTriangleIcon-bIiL8g-F.js";import{r as A}from"./ArrowDownTrayIcon-BVJC4eNB.js";import{r as F}from"./TrashIcon-DxRJEYf8.js";import{r as G}from"./XMarkIcon-D6rweUQz.js";import{r as M}from"./DocumentIcon-CHbTM5bL.js";import{r as J}from"./DocumentTextIcon-C6Y-v-6W.js";import{r as K}from"./PhotoIcon-ClUeqZ2Q.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SunIcon-DDd9DrJk.js";import"./ShoppingCartIcon-WcwMoklz.js";import"./TruckIcon-D9X79d1Q.js";import"./CalendarIcon-BcktkhWw.js";import"./ArchiveBoxIcon-C-YD8ulD.js";import"./ClipboardDocumentListIcon-BimA0BH5.js";import"./QuestionMarkCircleIcon-ClGPhchA.js";import"./ChevronRightIcon-B6qU8QsU.js";import"./ChevronLeftIcon-DYRHeeQt.js";import"./ArrowRightOnRectangleIcon-BlPLvjy7.js";const Q={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8"},W={class:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-3"},X={class:"flex flex-wrap gap-2 mb-6"},Y=["onClick"],tt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},et={class:"h-32 bg-slate-100 dark:bg-slate-700/50 flex items-center justify-center relative"},st={key:0,class:"absolute top-2 right-2 px-2 py-1 bg-red-100 text-red-700 rounded-lg text-xs font-bold flex items-center gap-1"},lt={class:"p-4"},ot={class:"font-bold text-slate-900 dark:text-white truncate"},rt={class:"text-xs text-slate-500 truncate"},at={class:"flex items-center gap-2 mt-2"},nt={class:"text-xs text-slate-400"},it={class:"flex items-center gap-2 mt-4 pt-4 border-t border-slate-100 dark:border-slate-700"},dt=["href"],ut=["onClick"],xt={key:0,class:"col-span-full py-16 text-center"},mt={key:0,class:"mt-8 flex items-center justify-center"},ct={class:"flex gap-1"},bt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},gt={class:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md p-6"},pt={key:0,class:"text-red-500 text-xs mt-1"},ft=["value"],vt={key:0,class:"text-red-500 text-xs mt-1"},kt=["disabled"],wt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},yt={class:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-sm p-6 text-center"},ht={class:"flex gap-3"},Gt={__name:"Index",props:{documents:Object,categories:Object,filters:Object},setup(u){const V=u,b=$(!1),g=$(null),o=I({title:"",category:"other",file:null,expires_at:"",notes:""}),C=$(null),S=()=>{C.value?.click()},B=i=>{o.file=i.target.files[0]},N=()=>{o.post(route("portal.documents.store"),{onSuccess:()=>{b.value=!1,o.reset()},forceFormData:!0})},z=i=>{j.delete(route("portal.documents.destroy",i),{onSuccess:()=>g.value=null})},T=i=>{j.get(route("portal.documents.index"),{category:i===V.filters.category?null:i},{preserveState:!0})},E=i=>i?i.includes("pdf")?J:i.includes("image")?K:M:M,x={certificate:"emerald",catalog:"blue",contract:"purple",compliance:"amber",other:"slate"};return(i,t)=>(r(),p(R,{title:"Documents"},{default:L(()=>[e("div",Q,[e("div",null,[e("h1",W,[m(l(U),{class:"w-7 h-7 text-indigo-500"}),t[11]||(t[11]=f(" Document Repository ",-1))]),t[12]||(t[12]=e("p",{class:"text-slate-500"},"Manage your company documents and certificates.",-1))]),e("button",{onClick:t[0]||(t[0]=s=>b.value=!0),class:"inline-flex items-center gap-2 px-4 py-2.5 bg-indigo-600 text-white rounded-xl font-semibold shadow-lg shadow-indigo-500/20 hover:bg-indigo-700 transition-colors"},[m(l(Z),{class:"w-5 h-5"}),t[13]||(t[13]=f(" Upload Document ",-1))])]),e("div",X,[(r(!0),a(v,null,k(u.categories,(s,n)=>(r(),a("button",{key:n,onClick:$t=>T(n),class:y(["px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",u.filters.category===n?`bg-${x[n]}-100 text-${x[n]}-700 dark:bg-${x[n]}-900/30 dark:text-${x[n]}-400`:"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300"])},d(s),11,Y))),128))]),e("div",tt,[(r(!0),a(v,null,k(u.documents.data,s=>(r(),a("div",{key:s.id,class:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden group hover:shadow-md transition-shadow"},[e("div",et,[(r(),p(O(E(s.mime_type)),{class:"w-16 h-16 text-slate-400"})),s.expires_at&&new Date(s.expires_at)<new Date?(r(),a("div",st,[m(l(q),{class:"w-3 h-3"}),t[14]||(t[14]=f(" Expired ",-1))])):c("",!0)]),e("div",lt,[e("h3",ot,d(s.title),1),e("p",rt,d(s.file_name),1),e("div",at,[e("span",{class:y(["px-2 py-0.5 rounded-full text-[10px] font-bold capitalize",`bg-${x[s.category]}-100 text-${x[s.category]}-700 dark:bg-${x[s.category]}-900/30 dark:text-${x[s.category]}-400`])},d(s.category),3),e("span",nt,d(s.formatted_size),1)]),e("div",it,[e("a",{href:i.route("portal.documents.download",s.id),class:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-1.5 bg-indigo-50 text-indigo-600 rounded-lg text-sm font-semibold hover:bg-indigo-100 transition-colors"},[m(l(A),{class:"w-4 h-4"}),t[15]||(t[15]=f(" Download ",-1))],8,dt),e("button",{onClick:n=>g.value=s.id,class:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors"},[m(l(F),{class:"w-4 h-4"})],8,ut)])])]))),128)),u.documents.data.length===0?(r(),a("div",xt,[m(l(U),{class:"w-16 h-16 text-slate-300 mx-auto mb-4"}),t[16]||(t[16]=e("p",{class:"text-slate-500"},"No documents found.",-1)),e("button",{onClick:t[1]||(t[1]=s=>b.value=!0),class:"mt-4 text-indigo-600 font-semibold hover:underline"}," Upload your first document ")])):c("",!0)]),u.documents.links&&u.documents.links.length>3?(r(),a("div",mt,[e("div",ct,[(r(!0),a(v,null,k(u.documents.links,(s,n)=>(r(),p(l(_),{key:n,href:s.url||"#",innerHTML:s.label,class:y(["px-3 py-1 rounded-lg text-xs font-medium transition-colors",[s.active?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",s.url?"":"opacity-50 cursor-not-allowed"]])},null,8,["href","innerHTML","class"]))),128))])])):c("",!0),(r(),p(D,{to:"body"},[b.value?(r(),a("div",bt,[e("div",{class:"absolute inset-0 bg-black/50",onClick:t[2]||(t[2]=s=>b.value=!1)}),e("div",gt,[e("button",{onClick:t[3]||(t[3]=s=>b.value=!1),class:"absolute top-4 right-4 text-slate-400 hover:text-slate-600"},[m(l(G),{class:"w-5 h-5"})]),t[22]||(t[22]=e("h2",{class:"text-xl font-bold text-slate-900 dark:text-white mb-6"},"Upload Document",-1)),e("form",{onSubmit:H(N,["prevent"]),class:"space-y-4"},[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Title *",-1)),w(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l(o).title=s),type:"text",class:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Document title"},null,512),[[h,l(o).title]]),l(o).errors.title?(r(),a("p",pt,d(l(o).errors.title),1)):c("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Category *",-1)),w(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>l(o).category=s),class:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"},[(r(!0),a(v,null,k(u.categories,(s,n)=>(r(),a("option",{key:n,value:n},d(s),9,ft))),128))],512),[[P,l(o).category]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"File *",-1)),e("input",{type:"file",ref_key:"fileInput",ref:C,onChange:B,class:"hidden"},null,544),e("button",{type:"button",onClick:S,class:"w-full px-4 py-3 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl hover:border-indigo-400 transition-colors text-slate-600 dark:text-slate-400"},d(l(o).file?l(o).file.name:"Click to select file (max 10MB)"),1),l(o).errors.file?(r(),a("p",vt,d(l(o).errors.file),1)):c("",!0)]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Expiration Date",-1)),w(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>l(o).expires_at=s),type:"date",class:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"},null,512),[[h,l(o).expires_at]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Notes",-1)),w(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=s=>l(o).notes=s),rows:"2",class:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Optional notes..."},null,512),[[h,l(o).notes]])]),e("button",{type:"submit",disabled:l(o).processing,class:"w-full py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 disabled:opacity-50 transition-colors"},d(l(o).processing?"Uploading...":"Upload Document"),9,kt)],32)])])):c("",!0)])),(r(),p(D,{to:"body"},[g.value?(r(),a("div",wt,[e("div",{class:"absolute inset-0 bg-black/50",onClick:t[8]||(t[8]=s=>g.value=null)}),e("div",yt,[m(l(F),{class:"w-12 h-12 text-red-500 mx-auto mb-4"}),t[23]||(t[23]=e("h3",{class:"text-lg font-bold text-slate-900 dark:text-white mb-2"},"Delete Document?",-1)),t[24]||(t[24]=e("p",{class:"text-slate-500 text-sm mb-6"},"This action cannot be undone.",-1)),e("div",ht,[e("button",{onClick:t[9]||(t[9]=s=>g.value=null),class:"flex-1 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl font-semibold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors"}," Cancel "),e("button",{onClick:t[10]||(t[10]=s=>z(g.value)),class:"flex-1 py-2 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-colors"}," Delete ")])])])):c("",!0)]))]),_:1}))}};export{Gt as default};
