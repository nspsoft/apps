import{m as b,s as A,q as W,c as r,a as i,u as l,h as q,w as j,b as t,j as M,v as I,n as w,d as o,T as L,o as a,F as f,g as _,t as d,k as D,e as C,x,l as N}from"./app-B_kJPemB.js";import{e as O,h as S,j as U,i as H,_ as P}from"./AppLayout-BRWmA8NM.js";import{d as R}from"./debounce-DxsdfPiH.js";import{r as E}from"./MagnifyingGlassIcon-DMqAJZzC.js";import{r as g}from"./ChevronUpIcon-BRQ0Rnxo.js";import{r as G}from"./CubeIcon-D5fzCcwY.js";import{r as K}from"./ArrowTrendingUpIcon-CjIOr-Nu.js";import{r as Q}from"./ArrowTrendingDownIcon-D_j-18rs.js";import{a as J}from"./SunIcon-BruNUn8K.js";import{r as X}from"./ClockIcon-CL8p1DZ-.js";import{a as Y}from"./WrenchScrewdriverIcon-CG7qG3HX.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-CxvSqsig.js";import"./DocumentPlusIcon-DUZF8SRU.js";import"./TruckIcon-caEgexK_.js";import"./DocumentTextIcon-V_YCf9t9.js";import"./ShoppingCartIcon-CsQv9ASF.js";import"./MapPinIcon-CwmSa601.js";import"./SparklesIcon-9U9XhE6H.js";import"./CheckCircleIcon-C6qw-E2R.js";import"./ShieldCheckIcon-C7GJHXME.js";const Z={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},tt={class:"flex items-center gap-3"},et={class:"relative flex-1 sm:w-80"},st={key:0,class:"mb-6 rounded-2xl glass-card p-4"},at={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},lt=["value"],rt=["value"],ot={class:"rounded-2xl glass-card overflow-hidden"},dt={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},it={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},nt={class:"border-b border-slate-200 dark:border-slate-700"},ct={class:"flex items-center gap-2"},xt={key:0,class:"text-blue-500"},ut={key:1,class:"text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"},pt={class:"flex items-center gap-2"},mt={key:0,class:"text-blue-500"},bt={key:1,class:"text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"},gt={class:"flex items-center gap-2"},ht={key:0,class:"text-blue-500"},vt={key:1,class:"text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"},kt={class:"divide-y divide-slate-100 dark:divide-slate-800"},ft={class:"px-4 py-2 whitespace-nowrap"},yt={class:"text-sm text-slate-600 dark:text-slate-300"},wt={class:"text-xs text-slate-500"},_t={class:"px-4 py-2 whitespace-nowrap"},Tt={class:"flex items-center gap-3"},$t={class:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-slate-50 dark:bg-slate-800"},Mt={class:"text-sm font-medium text-slate-900 dark:text-white"},Ct={class:"text-xs text-slate-500 font-mono"},St={class:"px-4 py-2 whitespace-nowrap"},jt={class:"text-sm text-slate-600 dark:text-slate-300"},Dt={class:"px-4 py-2 whitespace-nowrap text-center"},zt={class:"px-4 py-2 whitespace-nowrap text-right"},Ft={class:"flex items-center justify-end gap-1"},Bt={class:"px-4 py-2 whitespace-nowrap text-right"},Vt={class:"text-sm text-slate-600 dark:text-slate-300"},At={class:"px-4 py-2 whitespace-nowrap"},Wt={class:"text-sm text-slate-500 dark:text-slate-400"},qt={key:0},It={colspan:"7",class:"px-6 py-12 text-center"},Lt={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},Nt={class:"text-sm text-slate-500 dark:text-slate-400"},Ot={class:"flex items-center gap-2"},Ut={class:"mt-12"},Ht={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Pt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Rt={class:"flex items-center gap-3 mb-3"},Et={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},Gt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Kt={class:"flex items-center gap-3 mb-3"},Qt={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},Jt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Xt={class:"flex items-center gap-3 mb-3"},Yt={class:"p-2.5 rounded-xl bg-amber-500/10 text-amber-400"},Zt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},te={class:"flex items-center gap-3 mb-3"},ee={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},Te={__name:"Index",props:{movements:Object,warehouses:Array,filters:Object,types:Array},setup(n){const m=n,h=b(m.filters.search||""),v=b(m.filters.type||""),k=b(m.filters.warehouse_id||""),p=b(m.filters.sort||"created_at"),u=b(m.filters.direction||"desc"),y=b(!1),T=R(()=>{A.get("/inventory/movements",{search:h.value||void 0,type:v.value||void 0,warehouse_id:k.value||void 0,sort:p.value,direction:u.value},{preserveState:!0,replace:!0})},300);W([h,v,k],T);const $=c=>{p.value===c?u.value=u.value==="asc"?"desc":"asc":(p.value=c,u.value="asc"),T()},z=()=>{h.value="",v.value="",k.value="",p.value="created_at",u.value="desc",T()},F=c=>new Date(c).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),B=c=>{const e=m.types.find(s=>s.value===c);return e?e.label:c},V=(c,e)=>e>0?"text-emerald-400 bg-emerald-500/10":e<0?"text-red-400 bg-red-500/10":"text-slate-500 dark:text-slate-400 bg-slate-500/10";return(c,e)=>(a(),r(f,null,[i(l(q),{title:"Stock Movements"}),i(P,{title:"Stock Movements"},{default:j(()=>[t("div",Z,[t("div",tt,[t("div",et,[i(l(E),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),M(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>h.value=s),type:"search",placeholder:"Search product...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[I,h.value]])]),t("button",{onClick:e[1]||(e[1]=s=>y.value=!y.value),class:w(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",{"ring-2 ring-blue-500/50":y.value}])},[i(l(O),{class:"h-5 w-5"}),e[7]||(e[7]=o(" Filters ",-1))],2)])]),i(L,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:j(()=>[y.value?(a(),r("div",st,[t("div",at,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Movement Type",-1)),M(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>v.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[8]||(e[8]=t("option",{value:""},"All Types",-1)),(a(!0),r(f,null,_(n.types,s=>(a(),r("option",{key:s.value,value:s.value},d(s.label),9,lt))),128))],512),[[D,v.value]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Warehouse",-1)),M(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>k.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[10]||(e[10]=t("option",{value:""},"All Warehouses",-1)),(a(!0),r(f,null,_(n.warehouses,s=>(a(),r("option",{key:s.id,value:s.id},d(s.name),9,rt))),128))],512),[[D,k.value]])]),t("div",{class:"flex items-end"},[t("button",{onClick:z,class:"w-full rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-colors"}," Clear Filters ")])])])):C("",!0)]),_:1}),t("div",ot,[t("div",dt,[t("table",it,[t("thead",null,[t("tr",nt,[t("th",{onClick:e[4]||(e[4]=s=>$("created_at")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group"},[t("div",ct,[e[12]||(e[12]=o(" Date ",-1)),p.value==="created_at"?(a(),r("span",xt,[u.value==="asc"?(a(),x(l(g),{key:0,class:"h-3 w-3"})):(a(),x(l(S),{key:1,class:"h-3 w-3"}))])):(a(),r("span",ut,[i(l(g),{class:"h-3 w-3"})]))])]),t("th",{onClick:e[5]||(e[5]=s=>$("product_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group"},[t("div",pt,[e[13]||(e[13]=o(" Product ",-1)),p.value==="product_name"?(a(),r("span",mt,[u.value==="asc"?(a(),x(l(g),{key:0,class:"h-3 w-3"})):(a(),x(l(S),{key:1,class:"h-3 w-3"}))])):(a(),r("span",bt,[i(l(g),{class:"h-3 w-3"})]))])]),t("th",{onClick:e[6]||(e[6]=s=>$("warehouse_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group"},[t("div",gt,[e[14]||(e[14]=o(" Warehouse ",-1)),p.value==="warehouse_name"?(a(),r("span",ht,[u.value==="asc"?(a(),x(l(g),{key:0,class:"h-3 w-3"})):(a(),x(l(S),{key:1,class:"h-3 w-3"}))])):(a(),r("span",vt,[i(l(g),{class:"h-3 w-3"})]))])]),e[15]||(e[15]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-center text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Type",-1)),e[16]||(e[16]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Qty",-1)),e[17]||(e[17]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Balance",-1)),e[18]||(e[18]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Reference",-1))])]),t("tbody",kt,[(a(!0),r(f,null,_(n.movements.data,s=>(a(),r("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",ft,[t("span",yt,d(F(s.created_at)),1),t("div",wt,d(s.created_by?.name),1)]),t("td",_t,[t("div",Tt,[t("div",$t,[i(l(G),{class:"h-5 w-5 text-slate-500 dark:text-slate-400"})]),t("div",null,[t("div",Mt,d(s.product?.name),1),t("div",Ct,d(s.product?.sku),1)])])]),t("td",St,[t("span",jt,d(s.warehouse?.name),1)]),t("td",Dt,[t("span",{class:w(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",V(s.type,s.qty)])},d(B(s.type)),3)]),t("td",zt,[t("div",Ft,[s.qty>0?(a(),x(l(K),{key:0,class:"h-4 w-4 text-emerald-400"})):(a(),x(l(Q),{key:1,class:"h-4 w-4 text-red-400"})),t("span",{class:w(["text-sm font-bold",s.qty>0?"text-emerald-400":"text-red-400"])},d(s.qty>0?"+":"")+d(Math.round(s.qty*100)/100),3)])]),t("td",Bt,[t("span",Vt,d(Math.round(s.balance_after*100)/100),1)]),t("td",At,[t("span",Wt,d(s.notes||"-"),1)])]))),128)),n.movements.data.length===0?(a(),r("tr",qt,[t("td",It,[i(l(J),{class:"mx-auto h-12 w-12 text-slate-600"}),e[19]||(e[19]=t("h3",{class:"mt-2 text-sm font-medium text-slate-600 dark:text-slate-300"},"No movements found",-1)),e[20]||(e[20]=t("p",{class:"mt-1 text-sm text-slate-500"},"Stock movements will appear here when inventory changes.",-1))])])):C("",!0)])])]),n.movements.last_page>1?(a(),r("div",Lt,[t("p",Nt," Showing "+d(n.movements.from)+" to "+d(n.movements.to)+" of "+d(n.movements.total),1),t("div",Ot,[(a(!0),r(f,null,_(n.movements.links,s=>(a(),x(l(N),{key:s.label,href:s.url||"#",class:w(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-slate-900 dark:text-white":s.url?"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white":"text-white cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):C("",!0)]),t("div",Ut,[e[29]||(e[29]=t("div",{class:"flex items-center gap-2 mb-4 px-1"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Inventory Traceability Guide"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",Ht,[t("div",Pt,[t("div",Rt,[t("div",Et,[i(l(X),{class:"h-5 w-5"})]),e[21]||(e[21]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Audit Trail",-1))]),e[22]||(e[22]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Track every change to your inventory with a full history of "),t("strong",null,"In"),o(" and "),t("strong",null,"Out"),o(" movements. Know exactly who did what and when. ")],-1))]),t("div",Gt,[t("div",Kt,[t("div",Qt,[i(l(Y),{class:"h-5 w-5"})]),e[23]||(e[23]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Movement Types",-1))]),e[24]||(e[24]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Identify movements by their source: "),t("strong",null,"Adjustment"),o(", "),t("strong",null,"PO Receive"),o(", "),t("strong",null,"SO Delivery"),o(", or "),t("strong",null,"Transfer"),o(". ")],-1))]),t("div",Jt,[t("div",Xt,[t("div",Yt,[i(l(U),{class:"h-5 w-5"})]),e[25]||(e[25]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Balance History",-1))]),e[26]||(e[26]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" The "),t("strong",null,"Balance"),o(" column shows the stock level "),t("em",null,"immediately after"),o(" the movement, helping you trace stock level changes over time. ")],-1))]),t("div",Zt,[t("div",te,[t("div",ee,[i(l(H),{class:"h-5 w-5"})]),e[27]||(e[27]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Multi-Warehouse",-1))]),e[28]||(e[28]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Monitor stock flow across different "),t("strong",null,"Warehouses"),o(". Use the filter to see specific site activity accurately. ")],-1))])])])]),_:1})],64))}};export{Te as default};
