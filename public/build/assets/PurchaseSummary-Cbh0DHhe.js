import{m,s as T,q as C,c as i,a as n,u as r,h as V,w as _,b as t,l as D,d as f,j as g,v as y,o as p,F as h,g as w,t as a,k as O,n as $,e as j,B as v}from"./app-MVW8mhjn.js";import{_ as A}from"./AppLayout-6skT5Fwc.js";import{d as B}from"./debounce-C-g5WjuN.js";import{f as b}from"./helpers-DzPfLsau.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as F}from"./ArrowLeftIcon-DTK8D6CN.js";import{r as I}from"./ArrowDownTrayIcon-FrNENX3R.js";import{r as R}from"./PrinterIcon-7i6-7QRm.js";/* empty css            */import"./XMarkIcon-DiVMmCGP.js";import"./SunIcon-BtfO_i21.js";import"./WrenchScrewdriverIcon-mb-Vq489.js";import"./DocumentPlusIcon-DOolNFDU.js";import"./TruckIcon-B67UAbwa.js";import"./DocumentTextIcon-DehpXscW.js";import"./ShoppingCartIcon-zNEVoUyM.js";import"./MapPinIcon-B_jZIALH.js";import"./SparklesIcon-SrPoHBKr.js";import"./CubeIcon-C2wh78hC.js";import"./ClockIcon-DZkACRjC.js";import"./CheckCircleIcon-CzDcQ1-i.js";import"./ShieldCheckIcon-C1TORskb.js";const U={class:"max-w-7xl mx-auto"},z={class:"print:hidden mb-6 flex items-center justify-between"},G={class:"flex items-center gap-4"},J={class:"flex items-center gap-2 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 rounded-xl px-4 py-1.5"},L=["value"],M=["href"],q={onclick:"window.print()",class:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500 transition-colors shadow-lg shadow-blue-900/20"},H={class:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white p-8 min-h-screen rounded-sm shadow-2xl print:shadow-none print:w-full"},K={class:"border-b-2 border-slate-900 dark:border-slate-800 pb-6 mb-6"},Q={class:"flex items-start justify-between"},W={class:"text-sm text-slate-500 mt-1"},X={class:"text-xs text-slate-500 dark:text-slate-400 italic"},Y={class:"text-right"},Z={class:"text-sm text-slate-500 dark:text-slate-400 font-medium"},tt={class:"grid grid-cols-3 gap-8 mb-8"},et={class:"border border-slate-200 dark:border-slate-800 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/50"},st={class:"text-2xl font-black text-slate-900 dark:text-white"},at={class:"border border-slate-200 dark:border-slate-800 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/50"},rt={class:"text-2xl font-black text-slate-900 dark:text-white"},lt={class:"border border-slate-200 dark:border-slate-800 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/50"},ot={class:"text-2xl font-black text-blue-700"},dt={class:"w-full text-sm"},it={class:"divide-y divide-slate-100 dark:divide-slate-800"},nt={class:"py-3 px-2 font-medium"},pt={class:"py-3 px-2 font-mono text-xs"},xt={class:"py-3 px-2"},ut={class:"py-3 px-2"},bt={class:"py-3 px-2 text-right"},ct={class:"py-3 px-2 text-right"},mt={class:"py-3 px-2 text-right font-bold"},ft={key:0},gt={__name:"PurchaseSummary",props:{data:Array,suppliers:Array,filters:Object,date:String},setup(l){const o=l,x=m(o.filters.start_date),u=m(o.filters.end_date),d=m(o.filters.supplier_id||""),S=B(()=>{T.get("/inventory/reports/purchase-summary",{start_date:x.value,end_date:u.value,supplier_id:d.value||void 0},{preserveState:!0,replace:!0})},300);C([x,u,d],S);const k=v(()=>o.data.reduce((c,e)=>c+Number(e.total),0)),P=v(()=>o.data.reduce((c,e)=>c+Number(e.tax),0)),N=v(()=>k.value+P.value);return(c,e)=>(p(),i(h,null,[n(r(V),{title:"Purchase Summary Report"}),n(A,{title:"Reports"},{default:_(()=>[t("div",U,[t("div",z,[n(r(D),{href:"/inventory/reports",class:"inline-flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white"},{default:_(()=>[n(r(F),{class:"h-4 w-4"}),e[3]||(e[3]=f(" Back to Reports ",-1))]),_:1}),t("div",G,[t("div",J,[g(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=s=>x.value=s),class:"bg-transparent border-0 text-sm text-slate-900 dark:text-white focus:ring-0 p-0 w-32"},null,512),[[y,x.value]]),e[4]||(e[4]=t("span",{class:"text-slate-500"},"-",-1)),g(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),class:"bg-transparent border-0 text-sm text-slate-900 dark:text-white focus:ring-0 p-0 w-32"},null,512),[[y,u.value]])]),g(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>d.value=s),class:"rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[5]||(e[5]=t("option",{value:""},"All Suppliers",-1)),(p(!0),i(h,null,w(o.suppliers,s=>(p(),i("option",{key:s.id,value:s.id},a(s.name),9,L))),128))],512),[[O,d.value]]),t("a",{href:`/inventory/reports/export/purchase?start_date=${x.value}&end_date=${u.value}&supplier_id=${d.value}`,class:"inline-flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},[n(r(I),{class:"h-4 w-4"}),e[6]||(e[6]=f(" Export Excel ",-1))],8,M),t("button",q,[n(r(R),{class:"h-4 w-4"}),e[7]||(e[7]=f(" Print PDF ",-1))])])]),t("div",H,[t("div",K,[t("div",Q,[t("div",null,[e[8]||(e[8]=t("h1",{class:"text-3xl font-black uppercase tracking-tighter text-blue-900 dark:text-blue-400"},"Purchase Summary",-1)),t("p",W,"Period: "+a(l.filters.start_date)+" to "+a(l.filters.end_date),1),t("p",X,"Generated on "+a(l.date),1)]),t("div",Y,[e[9]||(e[9]=t("p",{class:"text-xl font-bold text-slate-900 dark:text-white"},"JICOS",-1)),e[10]||(e[10]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Procurement Report",-1)),t("p",Z,"Supplier: "+a(l.suppliers.find(s=>s.id==d.value)?.name||"All Suppliers"),1)])])]),t("div",tt,[t("div",et,[e[11]||(e[11]=t("p",{class:"text-xs uppercase font-bold text-slate-500 mb-1"},"Total Orders",-1)),t("p",st,a(l.data.length),1)]),t("div",at,[e[12]||(e[12]=t("p",{class:"text-xs uppercase font-bold text-slate-500 mb-1"},"Subtotal Cost",-1)),t("p",rt,a(r(b)(k.value)),1)]),t("div",lt,[e[13]||(e[13]=t("p",{class:"text-xs uppercase font-bold text-slate-500 mb-1"},"Total Expenditure (Inc. Tax)",-1)),t("p",ot,a(r(b)(N.value)),1)])]),t("table",dt,[e[15]||(e[15]=t("thead",null,[t("tr",{class:"border-b-2 border-slate-200 dark:border-slate-800 text-left"},[t("th",{class:"py-3 px-2 font-bold uppercase text-xs"},"Date"),t("th",{class:"py-3 px-2 font-bold uppercase text-xs"},"PO Number"),t("th",{class:"py-3 px-2 font-bold uppercase text-xs"},"Supplier"),t("th",{class:"py-3 px-2 font-bold uppercase text-xs"},"Status"),t("th",{class:"py-3 px-2 text-right font-bold uppercase text-xs"},"Amount"),t("th",{class:"py-3 px-2 text-right font-bold uppercase text-xs"},"Tax"),t("th",{class:"py-3 px-2 text-right font-bold uppercase text-xs"},"Total")])],-1)),t("tbody",it,[(p(!0),i(h,null,w(l.data,s=>(p(),i("tr",{key:s.id,class:"break-inside-avoid hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[t("td",nt,a(s.order_date),1),t("td",pt,a(s.number),1),t("td",xt,a(s.supplier?.name),1),t("td",ut,[t("span",{class:$(["capitalize px-2 py-0.5 rounded text-[10px] font-bold border",{"bg-blue-50 text-blue-700 border-blue-200":s.status==="ordered"||s.status==="approved","bg-amber-50 text-amber-700 border-amber-200":s.status==="submitted","bg-slate-50 text-slate-700 border-slate-200":s.status==="draft"}])},a(s.status),3)]),t("td",bt,a(r(b)(s.total)),1),t("td",ct,a(r(b)(s.tax)),1),t("td",mt,a(r(b)(Number(s.total)+Number(s.tax))),1)]))),128)),l.data.length===0?(p(),i("tr",ft,[...e[14]||(e[14]=[t("td",{colspan:"7",class:"py-12 text-center text-slate-500 dark:text-slate-400 italic"},"No purchase transactions found for the selected period.",-1)])])):j("",!0)])]),e[16]||(e[16]=t("div",{class:"mt-12 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-between text-[10px] text-slate-500 dark:text-slate-400 uppercase font-bold tracking-widest"},[t("p",null,"Internal Procurement Log - ERP JICOS"),t("p",null,"Page 1 OF 1")],-1))])])]),_:1})],64))}},Ut=E(gt,[["__scopeId","data-v-7956b3f6"]]);export{Ut as default};
