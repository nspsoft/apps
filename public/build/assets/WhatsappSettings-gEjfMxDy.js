import{c as i,e,o as l,p as N,b as o,u as s,h as R,d as U,y as z,F as W,g as L,n as k,k as m,t as u,j as d,f as w,z as M,m as h,v as A,r as f,D as S,J as O}from"./app-B3oIoztT.js";import{_ as G}from"./AppLayout-EevpdNKG.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as K}from"./ArrowLeftIcon-CiOg2EUK.js";import{r as q}from"./ChatBubbleLeftRightIcon-KU6eJm75.js";import{r as Z}from"./StarIcon-CEAD7vEg.js";import{r as _}from"./DevicePhoneMobileIcon-CUynsrhv.js";import{r as j}from"./KeyIcon-DFuCbIOH.js";import{r as D}from"./EyeIcon-CoLIzohT.js";import{r as T}from"./EyeSlashIcon-BamMJ6YZ.js";import{r as J}from"./GlobeAltIcon-aiLqqEFe.js";import{r as X}from"./PaperAirplaneIcon-9U3RiAO1.js";import{r as n}from"./CheckBadgeIcon-DcE4PH3U.js";/* empty css            */import"./XMarkIcon-Cm55qDhr.js";import"./SunIcon-Bxmlo0m1.js";import"./WrenchScrewdriverIcon-Bxc2UUJp.js";import"./ShoppingCartIcon-DqxVLZw6.js";import"./CubeIcon-CbSBrbbT.js";import"./TruckIcon-BvnWMDqv.js";function Y(y,b){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"})])}function Q(y,b){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}const ee={class:"max-w-full px-4 sm:px-6 lg:px-8 mx-auto space-y-6 pb-20"},te={class:"flex items-center justify-between"},se={class:"flex items-center gap-4"},ae=["href"],oe={class:"flex h-12 w-12 items-center justify-center rounded-2xl bg-emerald-500/10 text-emerald-500"},le={class:"bg-white dark:bg-white/5 rounded-2xl p-8 border border-slate-200 dark:border-white/5 shadow-lg dark:shadow-2xl"},re={class:"flex items-center gap-3 text-purple-600 dark:text-purple-400 mb-6 border-b border-slate-200 dark:border-slate-800 pb-4"},ne={class:"grid md:grid-cols-2 gap-4"},ie=["onClick"],de={key:0,class:"absolute -top-2 -right-2 bg-yellow-500 text-yellow-900 text-[10px] font-black px-2 py-0.5 rounded-full"},pe={class:"flex items-center gap-3 mb-3"},ce={class:"text-lg font-bold text-slate-900 dark:text-white"},ue={class:"text-sm text-slate-600 dark:text-slate-400"},be=["href"],xe={key:0,class:"bg-white dark:bg-white/5 rounded-2xl p-8 border border-slate-200 dark:border-white/5 shadow-lg dark:shadow-2xl"},me={class:"flex items-center gap-3 text-emerald-600 dark:text-emerald-400 mb-8 border-b border-slate-200 dark:border-slate-800 pb-4"},he={class:"space-y-8"},ge={class:"space-y-2"},we={class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1 flex items-center gap-2"},fe={class:"relative group"},ve=["type"],ke={class:"space-y-2"},_e={class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1 flex items-center gap-2"},ye={key:1,class:"bg-white dark:bg-white/5 rounded-2xl p-8 border border-slate-200 dark:border-white/5 shadow-lg dark:shadow-2xl"},Ce={class:"flex items-center gap-3 text-blue-600 dark:text-blue-400 mb-8 border-b border-slate-200 dark:border-slate-800 pb-4"},Ae={class:"space-y-8"},$e={class:"space-y-2"},Pe={class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1 flex items-center gap-2"},We={class:"relative group"},Me=["type"],Se={class:"space-y-2"},je={class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1 flex items-center gap-2"},De={class:"bg-white dark:bg-white/5 rounded-2xl p-8 border border-slate-200 dark:border-white/5 shadow-lg dark:shadow-2xl"},Te={class:"flex items-center gap-3 text-cyan-600 dark:text-cyan-400 mb-6 border-b border-slate-200 dark:border-slate-800 pb-4"},Ve={class:"space-y-4"},Ie={class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1"},Be={class:"flex gap-2"},Ee=["value"],Fe={class:"text-xs font-bold"},Ne={class:"bg-white dark:bg-white/5 rounded-2xl p-8 border border-slate-200 dark:border-white/5 shadow-lg dark:shadow-2xl"},Re={class:"flex items-center gap-3 text-orange-600 dark:text-orange-400 mb-6 border-b border-slate-200 dark:border-slate-800 pb-4"},Ue={class:"space-y-4"},ze={class:"flex gap-2"},Le=["disabled"],Oe={key:1,class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ge={class:"text-xs font-bold"},He={class:"flex items-center gap-2"},Ke={key:1,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},qe={key:0,class:"text-xs opacity-70 mt-1 ml-7"},Ze={class:"grid md:grid-cols-2 gap-4"},Je={class:"bg-emerald-500/5 rounded-2xl p-6 border border-emerald-500/10"},Xe={class:"space-y-2 text-xs text-slate-500 dark:text-slate-400"},Ye={class:"flex items-center gap-2"},Qe={class:"flex items-center gap-2"},et={class:"flex items-center gap-2"},tt={class:"bg-blue-500/5 rounded-2xl p-6 border border-blue-500/10 relative"},st={class:"space-y-2 text-xs text-slate-500 dark:text-slate-400"},at={class:"flex items-center gap-2"},ot={class:"flex items-center gap-2"},lt={class:"flex items-center gap-2"},rt={class:"bg-purple-500/5 rounded-2xl p-6 border border-purple-500/10"},nt={class:"grid md:grid-cols-4 gap-4 text-xs text-slate-500 dark:text-slate-400"},it={class:"flex items-center gap-2"},dt={class:"flex items-center gap-2"},pt={class:"flex items-center gap-2"},ct={class:"flex items-center gap-2"},ut={class:"flex justify-end pt-4"},bt=["disabled"],xt={class:"relative z-10 flex items-center gap-2"},mt={__name:"WhatsappSettings",props:{settings:Object},setup(y){const b=y,V=O(),c=f(!1),C=f(!1),v=f(""),g=f(!1),p=f(null),$=[{id:"fonnte",name:"Fonnte",price:"Rp 50.000/bulan",website:"https://fonnte.com",recommended:!1,color:"emerald"},{id:"wablas",name:"Wablas ‚≠ê",price:"Rp 50.000/bulan",website:"https://wablas.com",recommended:!0,color:"blue"}],r=N({whatsapp_provider:b.settings?.whatsapp_provider||"fonnte",fonnte_api_token:b.settings?.fonnte_api_token||"",fonnte_device:b.settings?.fonnte_device||"",wablas_api_token:b.settings?.wablas_api_token||"",wablas_device:b.settings?.wablas_device||""}),I=S(()=>$.find(x=>x.id===r.whatsapp_provider)),B=()=>{r.post(route("settings.whatsapp.update"),{preserveScroll:!0})},P=S(()=>`${V.props.appUrl||window.location.origin}/api/whatsapp/webhook`),E=()=>{navigator.clipboard.writeText(P.value),C.value=!0,setTimeout(()=>C.value=!1,2e3)},F=async()=>{if(!v.value){p.value={success:!1,message:"Masukkan nomor WhatsApp tujuan!"};return}g.value=!0,p.value=null;try{const t=await(await fetch(route("settings.whatsapp.test"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||"",Accept:"application/json"},body:JSON.stringify({phone:v.value})})).json();p.value=t}catch(x){p.value={success:!1,message:"Terjadi error: "+x.message}}finally{g.value=!1}};return(x,t)=>(l(),i(W,null,[o(s(R),{title:"WhatsApp Configuration"}),o(G,{title:"WhatsApp Configuration"},{default:U(()=>[e("div",ee,[e("div",te,[e("div",se,[e("a",{href:x.route("settings.index"),class:"p-2 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-slate-900 dark:hover:text-white transition-colors"},[o(s(K),{class:"h-5 w-5"})],8,ae),t[7]||(t[7]=e("div",null,[e("h2",{class:"text-2xl font-bold text-slate-900 dark:text-white uppercase tracking-tight"},"WhatsApp Bot Configuration"),e("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Configure WhatsApp gateway for customer service bot")],-1))]),e("div",oe,[o(s(q),{class:"h-7 w-7"})])]),e("form",{onSubmit:z(B,["prevent"]),class:"space-y-6"},[e("div",le,[e("div",re,[o(s(Z),{class:"h-6 w-6"}),t[8]||(t[8]=e("h4",{class:"text-sm font-black uppercase tracking-widest"},"Pilih Provider Gateway",-1))]),e("div",ne,[(l(),i(W,null,L($,a=>e("button",{key:a.id,type:"button",onClick:ht=>s(r).whatsapp_provider=a.id,class:k(["relative p-6 rounded-2xl border-2 transition-all text-left group",s(r).whatsapp_provider===a.id?`border-${a.color}-500 bg-${a.color}-50 dark:bg-${a.color}-500/10 shadow-lg shadow-${a.color}-500/20`:"border-slate-300 dark:border-slate-700 hover:border-slate-400 dark:hover:border-slate-600 bg-slate-50 dark:bg-slate-900/40"])},[a.recommended?(l(),i("div",de," RECOMMENDED ")):m("",!0),e("div",pe,[e("div",{class:k(["w-4 h-4 rounded-full border-2 flex items-center justify-center transition-colors",s(r).whatsapp_provider===a.id?`border-${a.color}-500`:"border-slate-400 dark:border-slate-600"])},[s(r).whatsapp_provider===a.id?(l(),i("div",{key:0,class:k(["w-2 h-2 rounded-full",`bg-${a.color}-500`])},null,2)):m("",!0)],2),e("h5",ce,u(a.name),1)]),e("p",ue,u(a.price),1),e("a",{href:a.website,target:"_blank",class:"text-xs text-blue-400 hover:underline mt-1 inline-block"},u(a.website),9,be)],10,ie)),64))])]),s(r).whatsapp_provider==="fonnte"?(l(),i("div",xe,[e("div",me,[o(s(_),{class:"h-6 w-6"}),t[9]||(t[9]=e("h4",{class:"text-sm font-black uppercase tracking-widest"},"Fonnte Gateway Settings",-1))]),e("div",he,[e("div",ge,[e("label",we,[o(s(j),{class:"h-3 w-3"}),t[10]||(t[10]=d(" Fonnte API Token ",-1))]),e("div",fe,[w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>s(r).fonnte_api_token=a),type:c.value?"text":"password",class:"form-input pr-12",placeholder:"Enter your Fonnte API Token..."},null,8,ve),[[M,s(r).fonnte_api_token]]),e("button",{type:"button",onClick:t[1]||(t[1]=a=>c.value=!c.value),class:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-emerald-400 transition-colors"},[c.value?(l(),h(s(T),{key:1,class:"h-5 w-5"})):(l(),h(s(D),{key:0,class:"h-5 w-5"}))])]),t[11]||(t[11]=e("p",{class:"text-[10px] text-slate-500 mt-2 px-1"},[d(" Get your API token from "),e("a",{href:"https://fonnte.com",target:"_blank",class:"text-emerald-400 hover:underline"},"Fonnte Dashboard"),d(" ‚Üí Device ‚Üí API. ")],-1))]),e("div",ke,[e("label",_e,[o(s(_),{class:"h-3 w-3"}),t[12]||(t[12]=d(" Device ID / Phone Number ",-1))]),w(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s(r).fonnte_device=a),type:"text",class:"form-input",placeholder:"e.g. 6281234567890"},null,512),[[A,s(r).fonnte_device]])])])])):m("",!0),s(r).whatsapp_provider==="wablas"?(l(),i("div",ye,[e("div",Ce,[o(s(_),{class:"h-6 w-6"}),t[13]||(t[13]=e("h4",{class:"text-sm font-black uppercase tracking-widest"},"Wablas Gateway Settings ‚≠ê",-1))]),e("div",Ae,[e("div",$e,[e("label",Pe,[o(s(j),{class:"h-3 w-3"}),t[14]||(t[14]=d(" Wablas API Token ",-1))]),e("div",We,[w(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>s(r).wablas_api_token=a),type:c.value?"text":"password",class:"form-input pr-12",placeholder:"Enter your Wablas API Token..."},null,8,Me),[[M,s(r).wablas_api_token]]),e("button",{type:"button",onClick:t[4]||(t[4]=a=>c.value=!c.value),class:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-blue-400 transition-colors"},[c.value?(l(),h(s(T),{key:1,class:"h-5 w-5"})):(l(),h(s(D),{key:0,class:"h-5 w-5"}))])]),t[15]||(t[15]=e("p",{class:"text-[10px] text-slate-500 mt-2 px-1"},[d(" Get your API token from "),e("a",{href:"https://wablas.com",target:"_blank",class:"text-blue-400 hover:underline"},"Wablas Dashboard"),d(" ‚Üí API Key. ")],-1))]),e("div",Se,[e("label",je,[o(s(_),{class:"h-3 w-3"}),t[16]||(t[16]=d(" Device / Phone Number ",-1))]),w(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>s(r).wablas_device=a),type:"text",class:"form-input",placeholder:"e.g. 6281234567890"},null,512),[[A,s(r).wablas_device]])])])])):m("",!0),e("div",De,[e("div",Te,[o(s(J),{class:"h-6 w-6"}),t[17]||(t[17]=e("h4",{class:"text-sm font-black uppercase tracking-widest"},"Webhook Configuration",-1))]),e("div",Ve,[e("label",Ie," Your Webhook URL (Copy this to "+u(I.value?.name||"Provider")+" Dashboard) ",1),e("div",Be,[e("input",{value:P.value,type:"text",class:"form-input flex-1 font-mono text-sm",readonly:""},null,8,Ee),e("button",{type:"button",onClick:E,class:"px-4 py-3 bg-cyan-600 hover:bg-cyan-500 text-white rounded-xl flex items-center gap-2 transition-colors"},[o(s(Y),{class:"h-5 w-5"}),e("span",Fe,u(C.value?"Copied!":"Copy"),1)])])])]),e("div",Ne,[e("div",Re,[o(s(Q),{class:"h-6 w-6"}),t[18]||(t[18]=e("h4",{class:"text-sm font-black uppercase tracking-widest"},"üîå Test Connection",-1))]),e("div",Ue,[t[21]||(t[21]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400"},[d(" Kirim pesan test ke nomor WhatsApp untuk memverifikasi koneksi. Pastikan Anda sudah "),e("strong",null,"Save Configuration"),d(" terlebih dahulu! ")],-1)),e("div",ze,[w(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>v.value=a),type:"text",class:"form-input flex-1",placeholder:"Masukkan nomor WA tujuan (e.g. 6281234567890)"},null,512),[[A,v.value]]),e("button",{type:"button",onClick:F,disabled:g.value,class:"px-6 py-3 bg-orange-600 hover:bg-orange-500 disabled:bg-slate-600 text-white rounded-xl flex items-center gap-2 transition-colors"},[g.value?(l(),i("svg",Oe,[...t[19]||(t[19]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),h(s(X),{key:0,class:"h-5 w-5"})),e("span",Ge,u(g.value?"Sending...":"Send Test"),1)],8,Le)]),p.value?(l(),i("div",{key:0,class:k(["p-4 rounded-xl text-sm font-medium",p.value.success?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"])},[e("div",He,[p.value.success?(l(),h(s(n),{key:0,class:"h-5 w-5"})):(l(),i("svg",Ke,[...t[20]||(t[20]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])])),e("span",null,u(p.value.message),1)]),p.value.provider?(l(),i("p",qe," Provider: "+u(p.value.provider.toUpperCase()),1)):m("",!0)],2)):m("",!0)])]),e("div",Ze,[e("div",Je,[t[25]||(t[25]=e("h5",{class:"text-sm font-bold text-slate-900 dark:text-white mb-3 flex items-center gap-2"}," üí∞ Fonnte ",-1)),e("ul",Xe,[e("li",Ye,[o(s(n),{class:"h-4 w-4 text-emerald-500"}),t[22]||(t[22]=e("span",null,[e("strong",null,"Rp 50.000/bulan")],-1))]),e("li",Qe,[o(s(n),{class:"h-4 w-4 text-emerald-500"}),t[23]||(t[23]=e("span",null,"Unlimited messages",-1))]),e("li",et,[o(s(n),{class:"h-4 w-4 text-emerald-500"}),t[24]||(t[24]=e("span",null,"API sederhana",-1))])])]),e("div",tt,[t[29]||(t[29]=e("div",{class:"absolute -top-2 -right-2 bg-yellow-500 text-yellow-900 text-[10px] font-black px-2 py-0.5 rounded-full"}," ‚≠ê RECOMMENDED ",-1)),t[30]||(t[30]=e("h5",{class:"text-sm font-bold text-slate-900 dark:text-white mb-3 flex items-center gap-2"}," üí∞ Wablas ",-1)),e("ul",st,[e("li",at,[o(s(n),{class:"h-4 w-4 text-blue-500"}),t[26]||(t[26]=e("span",null,[e("strong",null,"Rp 50.000/bulan")],-1))]),e("li",ot,[o(s(n),{class:"h-4 w-4 text-blue-500"}),t[27]||(t[27]=e("span",null,"Support Button & List",-1))]),e("li",lt,[o(s(n),{class:"h-4 w-4 text-blue-500"}),t[28]||(t[28]=e("span",null,"API lebih lengkap",-1))])])])]),e("div",rt,[t[35]||(t[35]=e("h5",{class:"text-sm font-bold text-slate-900 dark:text-white mb-3"}," ü§ñ Bot Capabilities ",-1)),e("div",nt,[e("div",it,[o(s(n),{class:"h-4 w-4 text-purple-500"}),t[31]||(t[31]=e("span",null,"Cek status pesanan",-1))]),e("div",dt,[o(s(n),{class:"h-4 w-4 text-purple-500"}),t[32]||(t[32]=e("span",null,"Cek tagihan & invoice",-1))]),e("div",pt,[o(s(n),{class:"h-4 w-4 text-purple-500"}),t[33]||(t[33]=e("span",null,"Katalog produk & harga",-1))]),e("div",ct,[o(s(n),{class:"h-4 w-4 text-purple-500"}),t[34]||(t[34]=e("span",null,"Request quotation",-1))])])]),e("div",ut,[e("button",{type:"submit",disabled:s(r).processing,class:"inline-flex items-center gap-3 px-10 py-4 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-2xl shadow-emerald-500/30 transition-all active:scale-95 disabled:opacity-50 group overflow-hidden relative"},[e("span",xt,[o(s(n),{class:"h-5 w-5 transition-transform group-hover:scale-125"}),t[36]||(t[36]=d(" Save WhatsApp Configuration ",-1))]),t[37]||(t[37]=e("div",{class:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-[-20deg]"},null,-1))],8,bt)])],32)])]),_:1})],64))}},Et=H(mt,[["__scopeId","data-v-24101913"]]);export{Et as default};
