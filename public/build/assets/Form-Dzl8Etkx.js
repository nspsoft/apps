import{f as B,c as u,a as n,u as s,h as M,w as y,b as t,i as $,l as V,d,j as o,v as i,o as b,t as m,e as v,F as g,g as h,k as N,A as j,B as A,m as F}from"./app-BTAJ41wv.js";import{v as W,_ as I}from"./AppLayout-BCibAEMC.js";import{_ as q}from"./MapPicker-DwJrZRXC.js";import{r as z}from"./ArrowLeftIcon-CPIts35J.js";import{r as k}from"./QuestionMarkCircleIcon-9NWCFCYe.js";import{r as O}from"./PlusIcon-DW9RnPH0.js";import{r as K}from"./TrashIcon-C45Fwwza.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-DicknEfS.js";import"./SunIcon-DiirzqGB.js";import"./WrenchScrewdriverIcon-DtqsjiHd.js";import"./DocumentPlusIcon-CEFQa3Ky.js";import"./TruckIcon-B3V2yp2Y.js";import"./DocumentTextIcon-BYfCv1H3.js";import"./ShoppingCartIcon-W7ARKyC8.js";import"./MapPinIcon-8glMaH6V.js";import"./SparklesIcon-Cku5r5l2.js";import"./CubeIcon-DSu9RNJ8.js";import"./ClockIcon-W3FgrKI1.js";import"./CheckCircleIcon-CwjMhm97.js";import"./ShieldCheckIcon-BylQTbVF.js";import"./MagnifyingGlassIcon-ChP0w9kD.js";const L={class:"flex items-center gap-4"},H={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},J={class:"lg:col-span-2 space-y-6"},R={class:"rounded-2xl glass-card"},G={class:"p-6 space-y-4"},Q={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},X={class:"flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},Y={class:"group relative cursor-help"},Z={key:0,class:"mt-1 text-sm text-red-400"},tt={key:0,class:"mt-1 text-sm text-red-400"},et={class:"relative group"},st={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},lt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},at={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ot={class:"flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},rt={class:"group relative cursor-help"},dt={class:"flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},it={class:"group relative cursor-help"},nt={class:"rounded-2xl glass-card"},pt={class:"border-b border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},ut={class:"p-6 space-y-4"},bt={key:0,class:"text-center text-slate-500 py-4 text-sm"},xt=["onClick"],mt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ct=["onUpdate:modelValue"],gt=["onUpdate:modelValue"],kt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ft=["onUpdate:modelValue"],yt=["onUpdate:modelValue"],vt={class:"rounded-2xl glass-card"},ht={class:"p-6"},wt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},_t={class:"flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},Ct={class:"group relative cursor-help"},Vt=["value"],Nt={class:"space-y-6"},Ut={class:"rounded-2xl glass-card"},Pt={class:"p-6"},St=["value"],Tt={class:"rounded-2xl glass-card"},Dt={class:"p-6"},Et={class:"flex items-center gap-3 cursor-pointer group"},Bt={class:"flex flex-col gap-3"},Mt=["disabled"],ae={__name:"Form",props:{supplier:Object,subcontWarehouses:Array},setup(w){const r=w,c=A(()=>!!r.supplier),a=B({code:r.supplier?.code||"",name:r.supplier?.name||"",contact_person:r.supplier?.contact_person||"",address:r.supplier?.address||"",city:r.supplier?.city||"",phone:r.supplier?.phone||"",fax:r.supplier?.fax||"",email:r.supplier?.email||"",tax_id:r.supplier?.tax_id||"",npwp:r.supplier?.npwp||"",payment_terms:r.supplier?.payment_terms||"NET30",payment_days:r.supplier?.payment_days||30,is_active:r.supplier?.is_active??!0,subcontract_warehouse_id:r.supplier?.subcontract_warehouse_id||null,contacts:r.supplier?.contacts||[]}),U=()=>{c.value?a.put(`/purchasing/suppliers/${r.supplier.id}`):a.post("/purchasing/suppliers")},_=[{value:"COD",label:"Cash on Delivery",days:0},{value:"NET7",label:"Net 7 Days",days:7},{value:"NET14",label:"Net 14 Days",days:14},{value:"NET30",label:"Net 30 Days",days:30},{value:"NET45",label:"Net 45 Days",days:45},{value:"NET60",label:"Net 60 Days",days:60},{value:"NET90",label:"Net 90 Days",days:90}],P=()=>{const p=_.find(e=>e.value===a.payment_terms);p&&(a.payment_days=p.days)},S=()=>{a.contacts.push({name:"",phone:"",email:"",position:""})},T=p=>{a.contacts.splice(p,1)},f=F(!1),D=()=>{f.value=!0},E=p=>{a.address=p.address,p.city&&(a.city=p.city)};return(p,e)=>(b(),u(g,null,[n(s(M),{title:c.value?"Edit Supplier":"Create Supplier"},null,8,["title"]),n(I,{title:c.value?"Edit Supplier":"Create Supplier"},{default:y(()=>[t("form",{onSubmit:$(U,["prevent"]),class:"space-y-6"},[t("div",L,[n(s(V),{href:"/purchasing/suppliers",class:"flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white transition-colors"},{default:y(()=>[n(s(z),{class:"h-5 w-5"}),e[15]||(e[15]=d(" Back to Suppliers ",-1))]),_:1})]),t("div",H,[t("div",J,[t("div",R,[e[30]||(e[30]=t("div",{class:"border-b border-slate-200 dark:border-slate-800 px-6 py-4"},[t("h2",{class:"text-lg font-semibold text-slate-900 dark:text-white"},"Basic Information")],-1)),t("div",G,[t("div",Q,[t("div",null,[t("label",X,[e[17]||(e[17]=d(" Supplier Code * ",-1)),t("div",Y,[n(s(k),{class:"h-4 w-4 text-slate-500 hover:text-blue-400 transition-colors"}),e[16]||(e[16]=t("div",{class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50"},[t("p",{class:"text-xs text-slate-900 dark:text-white"},[t("span",{class:"font-bold block mb-1"},"Kode Supplier"),d(" Kode unik untuk identifikasi supplier. "),t("br"),t("br"),t("span",{class:"text-slate-500 dark:text-slate-400"},"Contoh: SUP-001, PT-ABC")]),t("div",{class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2 bg-slate-50 dark:bg-slate-800 border-r border-b border-slate-200 dark:border-slate-700"})],-1))])]),o(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s(a).code=l),type:"text",required:"",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"e.g., SUP-001"},null,512),[[i,s(a).code]]),s(a).errors.code?(b(),u("p",Z,m(s(a).errors.code),1)):v("",!0)]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Contact Person",-1)),o(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s(a).contact_person=l),type:"text",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"Contact name"},null,512),[[i,s(a).contact_person]])])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Supplier Name *",-1)),o(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s(a).name=l),type:"text",required:"",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"Company name"},null,512),[[i,s(a).name]]),s(a).errors.name?(b(),u("p",tt,m(s(a).errors.name),1)):v("",!0)]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Address",-1)),t("div",et,[o(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=l=>s(a).address=l),rows:"2",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"Street address"},null,512),[[i,s(a).address]]),t("button",{type:"button",onClick:D,class:"absolute right-2 bottom-2 p-1.5 rounded-lg bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-600 hover:text-slate-900 dark:text-white transition-colors flex items-center gap-1 text-xs font-bold shadow-lg"},[n(s(W),{class:"h-4 w-4 text-blue-400"}),e[20]||(e[20]=d(" Pick from Map ",-1))])])]),t("div",st,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"City",-1)),o(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s(a).city=l),type:"text",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"City"},null,512),[[i,s(a).city]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Phone",-1)),o(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>s(a).phone=l),type:"text",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"Phone number"},null,512),[[i,s(a).phone]])])]),t("div",lt,[t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Fax",-1)),o(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>s(a).fax=l),type:"text",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"Fax number"},null,512),[[i,s(a).fax]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Email",-1)),o(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>s(a).email=l),type:"email",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"supplier@company.com"},null,512),[[i,s(a).email]])])]),t("div",at,[t("div",null,[t("label",ot,[e[27]||(e[27]=d(" Tax ID ",-1)),t("div",rt,[n(s(k),{class:"h-4 w-4 text-slate-500 hover:text-blue-400 transition-colors"}),e[26]||(e[26]=t("div",{class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50"},[t("p",{class:"text-xs text-slate-900 dark:text-white"},[t("span",{class:"font-bold block mb-1"},"Nomor Identitas Pajak"),d(" Nomor registrasi perpajakan perusahaan. ")]),t("div",{class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2 bg-slate-50 dark:bg-slate-800 border-r border-b border-slate-200 dark:border-slate-700"})],-1))])]),o(t("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>s(a).tax_id=l),type:"text",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"Tax ID"},null,512),[[i,s(a).tax_id]])]),t("div",null,[t("label",dt,[e[29]||(e[29]=d(" NPWP ",-1)),t("div",it,[n(s(k),{class:"h-4 w-4 text-slate-500 hover:text-blue-400 transition-colors"}),e[28]||(e[28]=t("div",{class:"absolute bottom-full right-0 mb-2 w-64 p-3 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50"},[t("p",{class:"text-xs text-slate-900 dark:text-white"},[t("span",{class:"font-bold block mb-1"},"Nomor Pokok Wajib Pajak"),d(" Format: 15/16 digit angka. "),t("br"),t("br"),t("span",{class:"text-slate-500 dark:text-slate-400"},"Contoh: 01.234.567.8-901.000")]),t("div",{class:"absolute bottom-0 right-4 translate-y-1/2 rotate-45 w-2 h-2 bg-slate-50 dark:bg-slate-800 border-r border-b border-slate-200 dark:border-slate-700"})],-1))])]),o(t("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>s(a).npwp=l),type:"text",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"00.000.000.0-000.000"},null,512),[[i,s(a).npwp]])])])])]),t("div",nt,[t("div",pt,[e[32]||(e[32]=t("h2",{class:"text-lg font-semibold text-slate-900 dark:text-white"},"Contact Persons (PIC)",-1)),t("button",{type:"button",onClick:S,class:"text-sm text-blue-400 hover:text-blue-300 transition-colors font-medium flex items-center gap-1"},[n(s(O),{class:"h-4 w-4"}),e[31]||(e[31]=d(" Add Consumer ",-1))])]),t("div",ut,[s(a).contacts.length===0?(b(),u("div",bt," No contact persons added yet. ")):v("",!0),(b(!0),u(g,null,h(s(a).contacts,(l,C)=>(b(),u("div",{key:C,class:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 space-y-3 relative group"},[t("button",{type:"button",onClick:x=>T(C),class:"absolute top-2 right-2 p-1 text-slate-500 hover:text-red-400 transition-colors opacity-0 group-hover:opacity-100",title:"Remove Contact"},[n(s(K),{class:"h-4 w-4"})],8,xt),t("div",mt,[t("div",null,[o(t("input",{"onUpdate:modelValue":x=>l.name=x,type:"text",required:"",class:"block w-full rounded-lg border-0 bg-white dark:bg-slate-950 py-2 px-3 text-slate-900 dark:text-white text-sm placeholder:text-slate-600 focus:ring-1 focus:ring-blue-500/50",placeholder:"PIC Name *"},null,8,ct),[[i,l.name]])]),t("div",null,[o(t("input",{"onUpdate:modelValue":x=>l.position=x,type:"text",class:"block w-full rounded-lg border-0 bg-white dark:bg-slate-950 py-2 px-3 text-slate-900 dark:text-white text-sm placeholder:text-slate-600 focus:ring-1 focus:ring-blue-500/50",placeholder:"Position"},null,8,gt),[[i,l.position]])])]),t("div",kt,[t("div",null,[o(t("input",{"onUpdate:modelValue":x=>l.phone=x,type:"text",class:"block w-full rounded-lg border-0 bg-white dark:bg-slate-950 py-2 px-3 text-slate-900 dark:text-white text-sm placeholder:text-slate-600 focus:ring-1 focus:ring-blue-500/50",placeholder:"Mobile / Phone"},null,8,ft),[[i,l.phone]])]),t("div",null,[o(t("input",{"onUpdate:modelValue":x=>l.email=x,type:"email",class:"block w-full rounded-lg border-0 bg-white dark:bg-slate-950 py-2 px-3 text-slate-900 dark:text-white text-sm placeholder:text-slate-600 focus:ring-1 focus:ring-blue-500/50",placeholder:"Email Address"},null,8,yt),[[i,l.email]])])])]))),128))])]),t("div",vt,[e[36]||(e[36]=t("div",{class:"border-b border-slate-200 dark:border-slate-800 px-6 py-4"},[t("h2",{class:"text-lg font-semibold text-slate-900 dark:text-white"},"Payment Terms")],-1)),t("div",ht,[t("div",wt,[t("div",null,[t("label",_t,[e[34]||(e[34]=d(" Payment Terms * ",-1)),t("div",Ct,[n(s(k),{class:"h-4 w-4 text-slate-500 hover:text-blue-400 transition-colors"}),e[33]||(e[33]=t("div",{class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50"},[t("p",{class:"text-xs text-slate-900 dark:text-white"},[t("span",{class:"font-bold block mb-1"},"Syarat Pembayaran"),d(" Jangka waktu pembayaran tagihan. "),t("br"),t("br"),t("span",{class:"text-slate-500 dark:text-slate-400"},[d("COD: Bayar saat terima barang."),t("br"),d("NET 30: Bayar dalam 30 hari.")])]),t("div",{class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2 bg-slate-50 dark:bg-slate-800 border-r border-b border-slate-200 dark:border-slate-700"})],-1))])]),o(t("select",{"onUpdate:modelValue":e[10]||(e[10]=l=>s(a).payment_terms=l),required:"",onChange:P,class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[(b(),u(g,null,h(_,l=>t("option",{key:l.value,value:l.value},m(l.label),9,Vt)),64))],544),[[N,s(a).payment_terms]])]),t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Payment Days",-1)),o(t("input",{"onUpdate:modelValue":e[11]||(e[11]=l=>s(a).payment_days=l),type:"number",min:"0",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},null,512),[[i,s(a).payment_days,void 0,{number:!0}]])])])])])]),t("div",Nt,[t("div",Ut,[e[40]||(e[40]=t("div",{class:"border-b border-slate-200 dark:border-slate-800 px-6 py-4"},[t("h2",{class:"text-lg font-semibold text-slate-900 dark:text-white"},"Subcontracting")],-1)),t("div",Pt,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Virtual Warehouse",-1)),o(t("select",{"onUpdate:modelValue":e[12]||(e[12]=l=>s(a).subcontract_warehouse_id=l),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[37]||(e[37]=t("option",{value:null},"-- No Virtual Warehouse --",-1)),(b(!0),u(g,null,h(w.subcontWarehouses,l=>(b(),u("option",{key:l.id,value:l.id},m(l.name),9,St))),128))],512),[[N,s(a).subcontract_warehouse_id]]),e[39]||(e[39]=t("p",{class:"text-xs text-slate-500 mt-2"},[d(" Link this supplier to a Virtual Warehouse to enable automated "),t("strong",null,"Stock Transfer"),d(" and "),t("strong",null,"Backflush"),d(" features. ")],-1))])]),t("div",Tt,[e[42]||(e[42]=t("div",{class:"border-b border-slate-200 dark:border-slate-800 px-6 py-4"},[t("h2",{class:"text-lg font-semibold text-slate-900 dark:text-white"},"Status")],-1)),t("div",Dt,[t("label",Et,[o(t("input",{"onUpdate:modelValue":e[13]||(e[13]=l=>s(a).is_active=l),type:"checkbox",class:"rounded border-slate-600 bg-slate-50 dark:bg-slate-800 text-blue-500 focus:ring-blue-500/50"},null,512),[[j,s(a).is_active]]),e[41]||(e[41]=t("div",{class:"flex-1"},[t("span",{class:"text-sm text-slate-600 dark:text-slate-300"},"Active"),t("p",{class:"text-xs text-slate-500 mt-0.5"},"Uncheck untuk menonaktifkan supplier (Hidden).")],-1))])])]),t("div",Bt,[t("button",{type:"submit",disabled:s(a).processing,class:"w-full rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 disabled:opacity-50 transition-all"},m(s(a).processing?"Saving...":c.value?"Update Supplier":"Create Supplier"),9,Mt),n(s(V),{href:"/purchasing/suppliers",class:"w-full text-center rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-3 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-colors"},{default:y(()=>[...e[43]||(e[43]=[d(" Cancel ",-1)])]),_:1})])])])],32),n(q,{show:f.value,onClose:e[14]||(e[14]=l=>f.value=!1),onConfirm:E},null,8,["show"])]),_:1},8,["title"])],64))}};export{ae as default};
