import{f as U,q as W,c as o,a as u,u as s,h as N,w as v,b as t,l as y,t as d,i as B,d as _,j as i,o as a,F as c,g,k as f,e as p,E as h,v as m,B as O}from"./app-DXljF0a6.js";import{_ as D}from"./AppLayout-DE4eK6XI.js";import{r as E}from"./ArrowLeftIcon-D_ax2psZ.js";import{r as S}from"./CubeIcon-DdhNpuk-.js";import{r as M}from"./CogIcon-BSJyz0Se.js";/* empty css            */import"./XMarkIcon-Cv3k7dsQ.js";import"./SunIcon-CXrnetDC.js";import"./WrenchScrewdriverIcon-BEcmvrPK.js";import"./DocumentPlusIcon-Bu362PSM.js";import"./TruckIcon-c6xKH9BV.js";import"./DocumentTextIcon-DwL5yPkx.js";import"./ShoppingCartIcon-B3QakQe3.js";import"./MapPinIcon-BK_yrJ2D.js";import"./SparklesIcon-Cn6h5byK.js";import"./ClockIcon-CNhIucyl.js";import"./CheckCircleIcon-C0OEANr7.js";import"./ShieldCheckIcon-C4VB4kQ5.js";const P={class:"max-w-full px-4 sm:px-6 lg:px-8 mx-auto"},T={class:"flex items-center gap-4 mb-8"},C={class:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight"},j={class:"text-xs text-slate-500 mt-1 uppercase tracking-widest font-bold"},F={class:"glass-card rounded-3xl p-6 shadow-sm"},I={class:"text-sm font-bold text-slate-500 uppercase tracking-widest mb-6 border-b border-slate-200 dark:border-slate-800 pb-4 flex items-center gap-2"},A={class:"space-y-6"},$=["disabled"],L=["value"],z={key:0,class:"text-red-400 text-xs mt-1"},H={key:0,class:"bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 rounded-2xl p-4 border border-slate-200 dark:border-slate-700"},Q={class:"flex items-center gap-4"},R={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-cyan-600/20 to-blue-600/20 border border-cyan-500/30"},G={class:"text-sm font-bold text-slate-900 dark:text-white"},J={class:"text-xs text-slate-500 font-mono"},K={class:"glass-card rounded-3xl p-6 shadow-sm"},X={class:"text-sm font-bold text-slate-500 uppercase tracking-widest mb-6 border-b border-slate-200 dark:border-slate-800 pb-4 flex items-center gap-2"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 pb-6 border-b border-slate-200 dark:border-slate-800"},Z={class:"flex gap-4"},ee={class:"flex-1 cursor-pointer"},te={class:"flex-1 cursor-pointer"},re={key:0},se=["value"],le={key:0,class:"text-red-400 text-xs mt-1"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},de={key:0,class:"text-red-400 text-xs mt-1"},ae=["value"],ne={key:0,class:"text-red-400 text-xs mt-1"},ie=["value"],ue={key:0,class:"text-red-400 text-xs mt-1"},pe={key:0,class:"text-red-400 text-xs mt-1"},be={class:"mt-6"},xe={class:"flex justify-end gap-4"},ce=["disabled"],Ee={__name:"Form",props:{workOrder:Object,woNumber:String,boms:Array,warehouses:Array,suppliers:Array},setup(k){const n=k,x=O(()=>!!n.workOrder),r=U({wo_number:n.workOrder?.wo_number||n.woNumber||"",bom_id:n.workOrder?.bom_id||"",warehouse_id:n.workOrder?.warehouse_id||"",qty_planned:n.workOrder?.qty_planned||1,planned_start:n.workOrder?.planned_start?.split("T")[0]||new Date().toISOString().split("T")[0],planned_end:n.workOrder?.planned_end?.split("T")[0]||"",priority:n.workOrder?.priority||"normal",notes:n.workOrder?.notes||"",production_type:n.workOrder?.production_type||"internal",supplier_id:n.workOrder?.supplier_id||""}),w=O(()=>r.bom_id?n.boms.find(b=>b.id===parseInt(r.bom_id)):null),V=[{value:"low",label:"Low",color:"text-slate-500 dark:text-slate-400"},{value:"normal",label:"Normal",color:"text-blue-400"},{value:"high",label:"High",color:"text-amber-400"},{value:"urgent",label:"Urgent",color:"text-red-400"}],q=()=>{x.value?r.put(route("manufacturing.work-orders.update",n.workOrder.id)):r.post(route("manufacturing.work-orders.store"))};return W(()=>r.planned_start,b=>{if(b&&!r.planned_end){const e=new Date(b);e.setDate(e.getDate()+7),r.planned_end=e.toISOString().split("T")[0]}}),(b,e)=>(a(),o(c,null,[u(s(N),{title:x.value?"Edit Work Order":"Create Work Order"},null,8,["title"]),u(D,{title:x.value?"Edit Work Order":"Create Work Order"},{default:v(()=>[t("div",P,[t("div",T,[u(s(y),{href:b.route("manufacturing.work-orders.index"),class:"p-2.5 rounded-xl glass-card text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:border-slate-200 dark:border-slate-700 transition-all"},{default:v(()=>[u(s(E),{class:"h-5 w-5"})]),_:1},8,["href"]),t("div",null,[t("h2",C,d(x.value?"Edit Work Order":"New Work Order"),1),t("p",j,d(s(r).wo_number),1)])]),t("form",{onSubmit:B(q,["prevent"]),class:"space-y-8"},[t("div",F,[t("h3",I,[u(s(S),{class:"h-4 w-4"}),e[11]||(e[11]=_(" Product & BOM ",-1))]),t("div",A,[t("div",null,[e[13]||(e[13]=t("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2"},"Bill of Materials *",-1)),i(t("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>s(r).bom_id=l),class:"w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-3 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50",disabled:x.value,required:""},[e[12]||(e[12]=t("option",{value:""},"Select BOM...",-1)),(a(!0),o(c,null,g(k.boms,l=>(a(),o("option",{key:l.id,value:l.id},d(l.name)+" ("+d(l.product?.name)+") ",9,L))),128))],8,$),[[f,s(r).bom_id]]),s(r).errors.bom_id?(a(),o("div",z,d(s(r).errors.bom_id),1)):p("",!0)]),w.value?(a(),o("div",H,[t("div",Q,[t("div",R,[u(s(S),{class:"h-6 w-6 text-cyan-400"})]),t("div",null,[t("div",G,d(w.value.product?.name),1),t("div",J,d(w.value.product?.sku),1)])])])):p("",!0)])]),t("div",K,[t("h3",X,[u(s(M),{class:"h-4 w-4"}),e[14]||(e[14]=_(" Production Details ",-1))]),t("div",Y,[t("div",null,[e[17]||(e[17]=t("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2"},"Production Type *",-1)),t("div",Z,[t("label",ee,[i(t("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=l=>s(r).production_type=l),value:"internal",class:"sr-only peer"},null,512),[[h,s(r).production_type]]),e[15]||(e[15]=t("div",{class:"py-3 px-4 rounded-xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 text-slate-500 dark:text-slate-400 peer-checked:border-blue-500 peer-checked:bg-blue-500/10 peer-checked:text-blue-400 text-center font-bold text-sm transition-all"}," Internal ",-1))]),t("label",te,[i(t("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=l=>s(r).production_type=l),value:"subcontract",class:"sr-only peer"},null,512),[[h,s(r).production_type]]),e[16]||(e[16]=t("div",{class:"py-3 px-4 rounded-xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 text-slate-500 dark:text-slate-400 peer-checked:border-amber-500 peer-checked:bg-amber-500/10 peer-checked:text-amber-400 text-center font-bold text-sm transition-all"}," Subcontract ",-1))])])]),s(r).production_type==="subcontract"?(a(),o("div",re,[e[19]||(e[19]=t("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2"},"Subcontractor (Vendor) *",-1)),i(t("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>s(r).supplier_id=l),class:"w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-3 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-amber-500/50",required:""},[e[18]||(e[18]=t("option",{value:""},"Select Supplier...",-1)),(a(!0),o(c,null,g(k.suppliers,l=>(a(),o("option",{key:l.id,value:l.id},d(l.name),9,se))),128))],512),[[f,s(r).supplier_id]]),s(r).errors.supplier_id?(a(),o("div",le,d(s(r).errors.supplier_id),1)):p("",!0)])):p("",!0)]),t("div",oe,[t("div",null,[e[20]||(e[20]=t("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2"},"WO Number",-1)),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s(r).wo_number=l),type:"text",class:"w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-3 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50 font-mono",readonly:""},null,512),[[m,s(r).wo_number]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2"},"Planned Quantity *",-1)),i(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>s(r).qty_planned=l),type:"number",step:"0.0001",min:"0.0001",class:"w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-3 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50 font-mono",required:""},null,512),[[m,s(r).qty_planned]]),s(r).errors.qty_planned?(a(),o("div",de,d(s(r).errors.qty_planned),1)):p("",!0)]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2"},"Output Warehouse *",-1)),i(t("select",{"onUpdate:modelValue":e[6]||(e[6]=l=>s(r).warehouse_id=l),class:"w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-3 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50",required:""},[e[22]||(e[22]=t("option",{value:""},"Select Warehouse...",-1)),(a(!0),o(c,null,g(k.warehouses,l=>(a(),o("option",{key:l.id,value:l.id},d(l.name),9,ae))),128))],512),[[f,s(r).warehouse_id]]),s(r).errors.warehouse_id?(a(),o("div",ne,d(s(r).errors.warehouse_id),1)):p("",!0)]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2"},"Priority *",-1)),i(t("select",{"onUpdate:modelValue":e[7]||(e[7]=l=>s(r).priority=l),class:"w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-3 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50",required:""},[(a(),o(c,null,g(V,l=>t("option",{key:l.value,value:l.value},d(l.label),9,ie)),64))],512),[[f,s(r).priority]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2"},"Planned Start *",-1)),i(t("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>s(r).planned_start=l),type:"date",class:"w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-3 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50",required:""},null,512),[[m,s(r).planned_start]]),s(r).errors.planned_start?(a(),o("div",ue,d(s(r).errors.planned_start),1)):p("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2"},"Planned End *",-1)),i(t("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>s(r).planned_end=l),type:"date",class:"w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-3 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50",required:""},null,512),[[m,s(r).planned_end]]),s(r).errors.planned_end?(a(),o("div",pe,d(s(r).errors.planned_end),1)):p("",!0)])]),t("div",be,[e[27]||(e[27]=t("label",{class:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2"},"Notes",-1)),i(t("textarea",{"onUpdate:modelValue":e[10]||(e[10]=l=>s(r).notes=l),rows:"3",placeholder:"Optional production notes...",class:"w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-3 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50 resize-none"},null,512),[[m,s(r).notes]])])]),t("div",xe,[u(s(y),{href:b.route("manufacturing.work-orders.index"),class:"px-6 py-3 rounded-xl bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-300 font-semibold hover:bg-slate-700 transition-all"},{default:v(()=>[...e[28]||(e[28]=[_(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:s(r).processing,class:"px-6 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 text-white dark:text-white font-semibold shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all disabled:opacity-50"},d(s(r).processing?"Saving...":x.value?"Update Work Order":"Create Work Order"),9,ce)])],32)])]),_:1},8,["title"])],64))}};export{Ee as default};
