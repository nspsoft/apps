import{f as te,m as k,s as A,q as se,c as n,a as r,u as a,h as ae,w as y,b as e,j as M,v as le,n as j,d as o,o as l,t as d,e as x,l as _,T as L,F as q,g as D,k as V,x as i,p as R,D as re,i as oe}from"./app-CCf7_9Wg.js";import{e as de,h as g,f as ne,_ as ie}from"./AppLayout-DZBJxE3M.js";import{d as ce}from"./debounce-BWcEKsMA.js";import{a as v,f as xe}from"./helpers-DnzC1tLX.js";/* empty css                                                                      */import{r as ue}from"./MagnifyingGlassIcon-CWrdTXit.js";import{r as pe}from"./ShoppingCartIcon-BGHNwEaG.js";import{r as U}from"./DocumentPlusIcon-Dg_SJ0Za.js";import{r as B}from"./ArrowDownTrayIcon-xccrWDrt.js";import{r as be}from"./ClockIcon-D9nlDPF9.js";import{r as E}from"./ArrowUpTrayIcon-CnonuvS1.js";import{r as me}from"./SparklesIcon-D6GXJKho.js";import{r as G}from"./PlusIcon-DfyUIl2L.js";import{r as f}from"./ChevronUpIcon-CH_wsM4b.js";import{r as H}from"./DocumentTextIcon-DAuPJloc.js";import{r as ge}from"./EyeIcon-DN_MS7Ns.js";import{r as fe}from"./PencilSquareIcon-eRYVkwza.js";import{r as ve}from"./TrashIcon-B66GDzTT.js";import{r as he}from"./TruckIcon-CP1ruPvc.js";import{r as ke}from"./ShieldCheckIcon-DedchYL6.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-CejSBq9U.js";import"./SunIcon-Bj99B8bH.js";import"./WrenchScrewdriverIcon-Be-5iMcN.js";import"./MapPinIcon-BD-RCOsg.js";import"./CubeIcon-DIqd0BOs.js";import"./CheckCircleIcon-Dg6WzkyV.js";const ye={class:"flex flex-col xl:flex-row xl:items-center justify-between gap-4 mb-6"},we={class:"flex flex-wrap items-center gap-3"},_e={class:"relative w-full sm:w-64"},Ce={key:0,class:"flex flex-wrap items-center gap-2"},$e={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-blue-500 flex items-center gap-3 shadow-sm"},Oe={class:"flex items-baseline gap-2"},Se={class:"text-sm font-black text-slate-900 dark:text-white"},qe={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-emerald-500 flex items-center gap-3 shadow-sm"},Fe={class:"flex items-baseline gap-2"},je={class:"text-sm font-black text-slate-900 dark:text-white"},De={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-red-500 flex items-center gap-3 shadow-sm"},Ie={class:"flex items-baseline gap-2"},ze={class:"text-sm font-black text-slate-900 dark:text-white"},Te={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-amber-500 flex items-center gap-3 shadow-sm"},Me={class:"flex items-baseline gap-2"},Be={class:"text-sm font-black text-slate-900 dark:text-white"},Pe={class:"flex items-center gap-2 shrink-0"},Ne={href:"/sales/orders-export",class:"inline-flex items-center gap-2 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-2 text-sm font-semibold text-slate-700 dark:text-slate-200 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-all group"},Ae={key:0,class:"mb-6 rounded-2xl glass-card p-4"},Le={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Ve=["value"],Re=["value"],Ue={class:"rounded-2xl glass-card overflow-hidden"},Ee={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},Ge={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},He={class:"border-b border-slate-200 dark:border-slate-700"},Qe={class:"flex items-center gap-1"},We={key:0,class:"text-blue-600 dark:text-blue-400"},Je={class:"flex items-center gap-1"},Ke={key:0,class:"text-blue-600 dark:text-blue-400"},Xe={class:"flex items-center gap-1"},Ye={key:0,class:"text-blue-600 dark:text-blue-400"},Ze={class:"flex items-center gap-1"},et={key:0,class:"text-blue-600 dark:text-blue-400"},tt={class:"flex items-center justify-center gap-1"},st={key:0,class:"text-blue-600 dark:text-blue-400"},at={class:"flex items-center justify-center gap-1"},lt={key:0,class:"text-blue-600 dark:text-blue-400"},rt={class:"flex items-center justify-center gap-1"},ot={key:0,class:"text-blue-600 dark:text-blue-400"},dt={class:"flex items-center justify-center gap-1"},nt={key:0,class:"text-blue-600 dark:text-blue-400"},it={class:"flex items-center justify-center gap-1"},ct={key:0,class:"text-blue-600 dark:text-blue-400"},xt={class:"flex items-center justify-end gap-1"},ut={key:0,class:"text-blue-600 dark:text-blue-400"},pt={class:"flex items-center justify-center gap-1"},bt={key:0,class:"text-blue-600 dark:text-blue-400"},mt={class:"divide-y divide-slate-100 dark:divide-slate-800"},gt={class:"px-4 py-2 whitespace-nowrap"},ft={class:"flex items-center gap-3"},vt={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 dark:bg-slate-800"},ht={class:"text-sm font-medium text-slate-900 dark:text-white"},kt={class:"text-xs text-slate-500"},yt={class:"px-4 py-2 whitespace-nowrap"},wt={class:"text-sm text-slate-900 dark:text-white"},_t={class:"text-xs text-slate-500"},Ct={class:"px-4 py-2 whitespace-nowrap max-w-[180px]"},$t=["title"],Ot={class:"px-4 py-2 whitespace-nowrap"},St={class:"text-sm text-slate-600 dark:text-slate-300"},qt={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-slate-600 dark:text-slate-300"},Ft={class:"px-4 py-2 whitespace-nowrap text-center text-sm font-medium text-slate-900 dark:text-white"},jt={class:"px-4 py-2 whitespace-nowrap text-center"},Dt={class:"flex flex-col items-center gap-1"},It={class:"text-xs font-bold text-slate-700 dark:text-slate-300"},zt={class:"w-20 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden"},Tt={class:"text-[10px] text-slate-400"},Mt={class:"px-4 py-2 whitespace-nowrap text-center"},Bt={class:"flex flex-col items-center gap-1"},Pt={class:"text-xs font-bold text-slate-700 dark:text-slate-300"},Nt={class:"w-20 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden"},At={class:"text-[10px] text-slate-400"},Lt={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-red-400"},Vt={class:"px-4 py-2 whitespace-nowrap text-center"},Rt={class:"px-4 py-2 whitespace-nowrap text-right"},Ut={class:"text-sm font-medium text-slate-900 dark:text-white"},Et={class:"px-4 py-2 whitespace-nowrap text-center"},Gt=["title"],Ht={class:"px-4 py-2 whitespace-nowrap text-right"},Qt={class:"flex items-center justify-end gap-2"},Wt=["onClick"],Jt={key:0},Kt={colspan:"11",class:"px-4 py-12 text-center"},Xt={class:"mt-4"},Yt={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},Zt={class:"text-sm text-slate-500 dark:text-slate-400"},es={class:"flex items-center gap-2"},ts={class:"mt-12"},ss={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},as={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ls={class:"flex items-center gap-3 mb-3"},rs={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},os={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ds={class:"flex items-center gap-3 mb-3"},ns={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},is={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},cs={class:"flex items-center gap-3 mb-3"},xs={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},us={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ps={class:"flex items-center gap-3 mb-3"},bs={class:"p-2.5 rounded-xl bg-amber-500/10 text-amber-400"},ms={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},gs={class:"relative w-full max-w-lg mx-4 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 shadow-2xl"},fs={class:"flex items-center justify-between px-6 py-4 border-b border-slate-200 dark:border-slate-700"},vs={class:"mb-4"},hs={href:"/sales/orders-template",class:"inline-flex items-center gap-2 text-sm font-medium text-blue-500 hover:text-blue-400 transition-colors mb-4"},ks={class:"mb-6"},ys={key:0,class:"mt-1 text-sm text-red-500"},ws={class:"flex items-center justify-end gap-3"},_s=["disabled"],Ys={__name:"Index",props:{salesOrders:Object,stats:Object,customers:Array,filters:Object,statuses:Array},setup(u){const w=k(!1),h=te({file:null}),I=k(null),Q=c=>{h.file=c.target.files[0]},W=()=>{h.post("/sales/orders-import",{onSuccess:()=>{w.value=!1,h.reset(),I.value&&(I.value.value="")},forceFormData:!0})},C=u,$=k(C.filters.search||""),O=k(C.filters.status||""),S=k(C.filters.customer||""),b=k(C.filters.sort||"created_at"),p=k(C.filters.direction||"desc"),F=k(!1),P=ce(()=>{A.get("/sales/orders",{search:$.value||void 0,status:O.value||void 0,customer:S.value||void 0,sort:b.value,direction:p.value},{preserveState:!0,replace:!0})},300),m=c=>{b.value===c?p.value=p.value==="asc"?"desc":"asc":(b.value=c,p.value="asc"),P()};se([$,O,S],P);const J=()=>{$.value="",O.value="",S.value=""},K=c=>{confirm(`Are you sure you want to delete "${c.so_number}"?`)&&A.delete(`/sales/orders/${c.id}`)},X=c=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",confirmed:"bg-blue-500/20 text-blue-400 border-blue-500/30",processing:"bg-amber-500/20 text-amber-400 border-amber-500/30",shipped:"bg-purple-500/20 text-purple-400 border-purple-500/30",delivered:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[c]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",Y=c=>({draft:"Draft",confirmed:"Confirmed",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"})[c]||c,Z=c=>({draft:"Pesanan baru dibuat, belum dikonfirmasi.",confirmed:"Pesanan disetujui, siap diproses.",processing:"Sedang disiapkan di gudang.",shipped:"Barang dalam pengiriman.",delivered:"Pesanan sudah sampai.",cancelled:"Pesanan dibatalkan."})[c]||"",ee=c=>new Date(c).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}),z=(c,t)=>{const s=parseFloat(c||0),T=parseFloat(t||1);return T<=0?0:Math.round(s/T*100)},N=(c,t)=>{const s=z(c,t);return Math.min(s,100)+"%"};return(c,t)=>(l(),n(q,null,[r(a(ae),{title:"Sales Orders"}),r(ie,{title:"Sales Orders"},{default:y(()=>[e("div",ye,[e("div",we,[e("div",_e,[r(a(ue),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),M(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>$.value=s),type:"search",placeholder:"Search SO number...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[le,$.value]])]),e("button",{onClick:t[1]||(t[1]=s=>F.value=!F.value),class:j(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors border border-transparent",{"ring-2 ring-blue-500/50 border-blue-500/50":F.value}])},[r(a(de),{class:"h-5 w-5"}),t[19]||(t[19]=o(" Filters ",-1))],2),u.stats?(l(),n("div",Ce,[e("div",$e,[r(a(pe),{class:"w-4 h-4 text-blue-500 shrink-0"}),e("div",Oe,[t[20]||(t[20]=e("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Ordered",-1)),e("span",Se,d(a(v)(u.stats.total_qty||0)),1)])]),e("div",qe,[r(a(U),{class:"w-4 h-4 text-emerald-500 shrink-0"}),e("div",Fe,[t[21]||(t[21]=e("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Sent",-1)),e("span",je,d(a(v)(u.stats.total_delivered||0)),1)])]),e("div",De,[r(a(B),{class:"w-4 h-4 text-red-500 rotate-180 shrink-0"}),e("div",Ie,[t[22]||(t[22]=e("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Return",-1)),e("span",ze,d(a(v)(u.stats.total_returned||0)),1)])]),e("div",Te,[r(a(be),{class:"w-4 h-4 text-amber-500 shrink-0"}),e("div",Me,[t[23]||(t[23]=e("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Balance",-1)),e("span",Be,d(a(v)(u.stats.total_balance||0)),1)])])])):x("",!0)]),e("div",Pe,[e("a",Ne,[r(a(B),{class:"h-5 w-5 text-emerald-500 group-hover:scale-110 transition-transform"}),t[24]||(t[24]=o(" Export ",-1))]),e("button",{onClick:t[2]||(t[2]=s=>w.value=!0),class:"inline-flex items-center gap-2 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-2 text-sm font-semibold text-slate-700 dark:text-slate-200 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-all group"},[r(a(E),{class:"h-5 w-5 text-blue-500 group-hover:scale-110 transition-transform"}),t[25]||(t[25]=o(" Import ",-1))]),r(a(_),{href:"/sales/po-extractor",class:"inline-flex items-center gap-2 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-2 text-sm font-semibold text-slate-700 dark:text-slate-200 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-all group"},{default:y(()=>[r(a(me),{class:"h-5 w-5 text-amber-500 group-hover:scale-110 transition-transform"}),t[26]||(t[26]=o(" Import PO (AI) ",-1))]),_:1}),r(a(_),{href:"/sales/orders/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:y(()=>[r(a(G),{class:"h-5 w-5"}),t[27]||(t[27]=o(" Create SO ",-1))]),_:1})])]),r(L,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:y(()=>[F.value?(l(),n("div",Ae,[e("div",Le,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Status",-1)),M(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>O.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[t[28]||(t[28]=e("option",{value:""},"All Status",-1)),(l(!0),n(q,null,D(u.statuses,s=>(l(),n("option",{key:s.value,value:s.value},d(s.label),9,Ve))),128))],512),[[V,O.value]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Customer",-1)),M(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>S.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[t[30]||(t[30]=e("option",{value:""},"All Customers",-1)),(l(!0),n(q,null,D(u.customers,s=>(l(),n("option",{key:s.id,value:s.id},d(s.name),9,Re))),128))],512),[[V,S.value]])]),e("div",{class:"flex items-end"},[e("button",{onClick:J,class:"w-full rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-colors"}," Clear Filters ")])])])):x("",!0)]),_:1}),e("div",Ue,[e("div",Ee,[e("table",Ge,[e("thead",null,[e("tr",He,[e("th",{onClick:t[5]||(t[5]=s=>m("so_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",Qe,[t[32]||(t[32]=o(" SO Number ",-1)),b.value==="so_number"?(l(),n("span",We,[p.value==="asc"?(l(),i(a(f),{key:0,class:"h-3 w-3"})):(l(),i(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[6]||(t[6]=s=>m("customer_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",Je,[t[33]||(t[33]=o(" Customer ",-1)),b.value==="customer_name"?(l(),n("span",Ke,[p.value==="asc"?(l(),i(a(f),{key:0,class:"h-3 w-3"})):(l(),i(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[7]||(t[7]=s=>m("customer_po_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",Xe,[t[34]||(t[34]=o(" No PO ",-1)),b.value==="customer_po_number"?(l(),n("span",Ye,[p.value==="asc"?(l(),i(a(f),{key:0,class:"h-3 w-3"})):(l(),i(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[8]||(t[8]=s=>m("order_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",Ze,[t[35]||(t[35]=o(" Order Date ",-1)),b.value==="order_date"?(l(),n("span",et,[p.value==="asc"?(l(),i(a(f),{key:0,class:"h-3 w-3"})):(l(),i(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[9]||(t[9]=s=>m("items_count")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",tt,[t[36]||(t[36]=o(" Items ",-1)),b.value==="items_count"?(l(),n("span",st,[p.value==="asc"?(l(),i(a(f),{key:0,class:"h-3 w-3"})):(l(),i(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[10]||(t[10]=s=>m("total_qty_ordered")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",at,[t[37]||(t[37]=o(" Qty ",-1)),b.value==="total_qty_ordered"?(l(),n("span",lt,[p.value==="asc"?(l(),i(a(f),{key:0,class:"h-3 w-3"})):(l(),i(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[11]||(t[11]=s=>m("total_qty_delivered")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",rt,[t[38]||(t[38]=o(" Delivery ",-1)),b.value==="total_qty_delivered"?(l(),n("span",ot,[p.value==="asc"?(l(),i(a(f),{key:0,class:"h-3 w-3"})):(l(),i(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[12]||(t[12]=s=>m("total_qty_invoiced")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",dt,[t[39]||(t[39]=o(" Invoice ",-1)),b.value==="total_qty_invoiced"?(l(),n("span",nt,[p.value==="asc"?(l(),i(a(f),{key:0,class:"h-3 w-3"})):(l(),i(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[13]||(t[13]=s=>m("total_qty_returned")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",it,[t[40]||(t[40]=o(" Return ",-1)),b.value==="total_qty_returned"?(l(),n("span",ct,[p.value==="asc"?(l(),i(a(f),{key:0,class:"h-3 w-3"})):(l(),i(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t[43]||(t[43]=e("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm"},"Balance",-1)),e("th",{onClick:t[14]||(t[14]=s=>m("total")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",xt,[t[41]||(t[41]=o(" Total ",-1)),b.value==="total"?(l(),n("span",ut,[p.value==="asc"?(l(),i(a(f),{key:0,class:"h-3 w-3"})):(l(),i(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[15]||(t[15]=s=>m("status")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",pt,[t[42]||(t[42]=o(" Status ",-1)),b.value==="status"?(l(),n("span",bt,[p.value==="asc"?(l(),i(a(f),{key:0,class:"h-3 w-3"})):(l(),i(a(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t[44]||(t[44]=e("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm"},"Actions",-1))])]),e("tbody",mt,[(l(!0),n(q,null,D(u.salesOrders.data,s=>(l(),n("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[e("td",gt,[e("div",ft,[e("div",vt,[r(a(H),{class:"h-5 w-5 text-slate-500 dark:text-slate-400"})]),e("div",null,[e("div",ht,d(s.so_number),1),e("div",kt,d(s.warehouse?.name),1)])])]),e("td",yt,[e("div",wt,d(s.customer?.name),1),e("div",_t,d(s.customer?.code),1)]),e("td",Ct,[e("div",{class:"truncate text-sm font-medium text-slate-600 dark:text-slate-300 font-mono",title:s.customer_po_number},d(s.customer_po_number||"-"),9,$t)]),e("td",Ot,[e("span",St,d(ee(s.order_date)),1)]),e("td",qt,d(s.items_count),1),e("td",Ft,d(a(v)(s.total_qty_ordered||0)),1),e("td",jt,[e("div",Dt,[e("span",It,d(z(s.total_qty_delivered,s.total_qty_ordered))+"% ",1),e("div",zt,[e("div",{class:"h-full bg-emerald-500 rounded-full",style:R({width:N(s.total_qty_delivered,s.total_qty_ordered)})},null,4)]),e("span",Tt,d(a(v)(s.total_qty_delivered||0)),1)])]),e("td",Mt,[e("div",Bt,[e("span",Pt,d(z(s.total_qty_invoiced,s.total_qty_ordered))+"% ",1),e("div",Nt,[e("div",{class:"h-full bg-blue-500 rounded-full",style:R({width:N(s.total_qty_invoiced,s.total_qty_ordered)})},null,4)]),e("span",At,d(a(v)(s.total_qty_invoiced||0)),1)])]),e("td",Lt,d(a(v)(s.total_qty_returned||0)),1),e("td",Vt,[e("span",{class:j(["text-sm font-bold",parseFloat(s.total_qty_ordered)-(parseFloat(s.total_qty_delivered)-parseFloat(s.total_qty_returned||0))>0?"text-amber-400":"text-emerald-500"])},d(a(v)(parseFloat(s.total_qty_ordered||0)-(parseFloat(s.total_qty_delivered||0)-parseFloat(s.total_qty_returned||0)))),3)]),e("td",Rt,[e("span",Ut,d(a(xe)(s.total)),1)]),e("td",Et,[e("span",{class:j(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium cursor-help",X(s.status)]),title:Z(s.status)},d(Y(s.status)),11,Gt)]),e("td",Ht,[e("div",Qt,[r(a(_),{href:`/sales/orders/${s.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},{default:y(()=>[r(a(ge),{class:"h-4 w-4"})]),_:1},8,["href"]),s.status==="draft"?(l(),i(a(_),{key:0,href:`/sales/orders/${s.id}/edit`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},{default:y(()=>[r(a(fe),{class:"h-4 w-4"})]),_:1},8,["href"])):x("",!0),s.status==="draft"?(l(),n("button",{key:1,onClick:T=>K(s),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-red-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[r(a(ve),{class:"h-4 w-4"})],8,Wt)):x("",!0)])])]))),128)),u.salesOrders.data.length===0?(l(),n("tr",Jt,[e("td",Kt,[r(a(H),{class:"mx-auto h-12 w-12 text-slate-600"}),t[46]||(t[46]=e("h3",{class:"mt-2 text-sm font-medium text-slate-600 dark:text-slate-300"},"No sales orders found",-1)),t[47]||(t[47]=e("p",{class:"mt-1 text-sm text-slate-500"},"Create a new sales order to get started.",-1)),e("div",Xt,[r(a(_),{href:"/sales/orders/create",class:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500 transition-colors"},{default:y(()=>[r(a(G),{class:"h-4 w-4"}),t[45]||(t[45]=o(" Create SO ",-1))]),_:1})])])])):x("",!0)])])]),u.salesOrders.last_page>1?(l(),n("div",Yt,[e("p",Zt," Showing "+d(u.salesOrders.from)+" to "+d(u.salesOrders.to)+" of "+d(u.salesOrders.total)+" orders ",1),e("div",es,[(l(!0),n(q,null,D(u.salesOrders.links,s=>(l(),i(a(_),{key:s.label,href:s.url||"#",class:j(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-white":s.url?"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white":"text-slate-300 dark:text-slate-600 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):x("",!0)]),e("div",ts,[t[56]||(t[56]=e("div",{class:"flex items-center gap-2 mb-4 px-1"},[e("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),e("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Sales Operations Guide"),e("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),e("div",ss,[e("div",as,[e("div",ls,[e("div",rs,[r(a(U),{class:"h-5 w-5"})]),t[48]||(t[48]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Order Fulfillment",-1))]),t[49]||(t[49]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Track "),e("strong",null,"Qty Balance"),o(" to see what's pending. Orders move from Draft to Confirmed before they can be processed for shipping. ")],-1))]),e("div",os,[e("div",ds,[e("div",ns,[r(a(he),{class:"h-5 w-5"})]),t[50]||(t[50]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Delivery Linking",-1))]),t[51]||(t[51]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Generate "),e("strong",null,"Delivery Orders (DO)"),o(" directly from confirmed SOs. One SO can have multiple partial deliveries if needed. ")],-1))]),e("div",is,[e("div",cs,[e("div",xs,[r(a(ne),{class:"h-5 w-5"})]),t[52]||(t[52]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Invoicing Flow",-1))]),t[53]||(t[53]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Create "),e("strong",null,"Proforma or Final Invoices"),o(" based on ordered or delivered quantities to ensure accurate billing for your customers. ")],-1))]),e("div",us,[e("div",ps,[e("div",bs,[r(a(ke),{class:"h-5 w-5"})]),t[54]||(t[54]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Return Tracking",-1))]),t[55]||(t[55]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Monitor "),e("strong",null,"Returned Items"),o(" in the list view. The system automatically recalculates the balance to prevent over-delivery. ")],-1))])])]),(l(),i(re,{to:"body"},[r(L,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:y(()=>[w.value?(l(),n("div",ms,[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t[16]||(t[16]=s=>w.value=!1)}),e("div",gs,[e("div",fs,[t[58]||(t[58]=e("h3",{class:"text-lg font-bold text-slate-900 dark:text-white"},"Import Sales Orders",-1)),e("button",{onClick:t[17]||(t[17]=s=>w.value=!1),class:"p-1 rounded-lg text-slate-400 hover:text-slate-600 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"},[...t[57]||(t[57]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:oe(W,["prevent"]),class:"p-6"},[e("div",vs,[t[60]||(t[60]=e("p",{class:"text-sm text-slate-500 dark:text-slate-400 mb-4"}," Upload an Excel file (.xlsx, .xls, .csv) to import Sales Orders. Rows with the same Customer Code + Order Date will be grouped into one SO. ",-1)),e("a",hs,[r(a(B),{class:"h-4 w-4"}),t[59]||(t[59]=o(" Download Template ",-1))])]),e("div",ks,[t[61]||(t[61]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},"Select File",-1)),e("input",{ref_key:"fileInput",ref:I,type:"file",onChange:Q,accept:".xlsx,.xls,.csv",class:"block w-full text-sm text-slate-500 dark:text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-blue-500/10 file:text-blue-500 hover:file:bg-blue-500/20 transition-all cursor-pointer"},null,544),a(h).errors.file?(l(),n("p",ys,d(a(h).errors.file),1)):x("",!0)]),e("div",ws,[e("button",{type:"button",onClick:t[18]||(t[18]=s=>w.value=!1),class:"px-4 py-2 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"}," Cancel "),e("button",{type:"submit",disabled:!a(h).file||a(h).processing,class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},[r(a(E),{class:"h-4 w-4"}),o(" "+d(a(h).processing?"Importing...":"Import"),1)],8,_s)])],32)])])):x("",!0)]),_:1})]))]),_:1})],64))}};export{Ys as default};
