import{r as v,w as P,a as V,p as A,c as d,b as r,u as a,h as B,d as g,e,l as h,j as S,n as y,f as w,o as l,F as u,g as b,t as o,i as M,v as F,k as D,m as T}from"./app-BmlxQAUG.js";import{f as G,_ as H}from"./AppLayout-DPgtj7gw.js";import{d as J}from"./debounce-kof-xvUS.js";import{a as k}from"./helpers-BjqMQcOq.js";import{r as L}from"./ArrowPathIcon-CjQn1m99.js";import{r as O}from"./CalendarIcon-H4gVq9P2.js";import{r as U}from"./MagnifyingGlassIcon-DurYBA2a.js";import{b as E}from"./SunIcon-IX4FHdcm.js";import{r as z}from"./ChevronRightIcon-ZNdnkaUR.js";/* empty css            */import"./XMarkIcon-Bt_PljEc.js";import"./WrenchScrewdriverIcon-Ceyd6Wp4.js";import"./CheckBadgeIcon-_hPURfRy.js";import"./ShoppingCartIcon-BjgskwZE.js";import"./CubeIcon-CS_qZvHW.js";import"./TruckIcon-CqydzLcT.js";const I={class:"max-w-full px-4 sm:px-6 lg:px-8 mx-auto"},R={class:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8"},Y={class:"flex items-center gap-3"},q=["disabled"],K={class:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8"},Q={class:"lg:col-span-3 bg-white dark:bg-slate-950/50 p-6 rounded-[2.5rem] border border-slate-200 dark:border-slate-800 shadow-lg flex flex-wrap items-center gap-6"},W={class:"flex items-center gap-4"},X=["value"],Z=["value"],ee={class:"flex-1 min-w-[200px] relative"},te={class:"bg-indigo-600 border border-indigo-500 rounded-[2.5rem] p-6 shadow-xl shadow-indigo-900/20 relative overflow-hidden group"},se={class:"absolute top-0 right-0 p-4 opacity-10"},ae={class:"glass-card rounded-[2.5rem] overflow-hidden"},re={class:"w-full text-left border-collapse"},le={class:"divide-y divide-slate-100 dark:divide-slate-800"},oe={class:"px-8 py-5"},ne={class:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center text-xs font-bold text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-700"},de={class:"text-sm font-bold text-slate-900 dark:text-white group-hover/link:text-indigo-400 transition-colors"},ie={class:"text-[10px] text-slate-500"},xe={class:"px-8 py-5 text-right font-mono text-xs text-slate-600 dark:text-slate-300"},ce={class:"px-8 py-5 text-right font-mono text-xs text-emerald-400"},ue={class:"px-8 py-5 text-right font-mono text-sm font-bold text-slate-900 dark:text-white"},pe={class:"px-8 py-5 text-center"},me={class:"px-8 py-5 text-right"},ge={key:0},he={class:"px-8 py-6 bg-white dark:bg-slate-950/20 border-t border-slate-200 dark:border-slate-800 flex justify-center"},be={class:"flex gap-1"},Fe={__name:"Index",props:{payrolls:Object,filters:Object},setup(p){const f=p,m=v(f.filters.search),i=v(f.filters.month),x=v(f.filters.year),_=[{value:1,name:"January"},{value:2,name:"February"},{value:3,name:"March"},{value:4,name:"April"},{value:5,name:"May"},{value:6,name:"June"},{value:7,name:"July"},{value:8,name:"August"},{value:9,name:"September"},{value:10,name:"October"},{value:11,name:"November"},{value:12,name:"December"}],j=Array.from({length:5},(n,s)=>new Date().getFullYear()-s);P([m,i,x],J(()=>{V.get(route("hr.payroll.index"),{search:m.value,month:i.value,year:x.value},{preserveState:!0,replace:!0})},300));const c=A({month:i.value,year:x.value}),N=()=>{confirm(`Generate Payroll for ${_.find(n=>n.value==i.value).name} ${x.value}?`)&&(c.month=i.value,c.year=x.value,c.post(route("hr.payroll.generate")))},$=n=>({draft:"bg-slate-500/10 text-slate-500 dark:text-slate-400 border-slate-500/20",confirmed:"bg-blue-500/10 text-blue-400 border-blue-500/20",paid:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",cancelled:"bg-red-500/10 text-red-400 border-red-500/20"})[n]||"bg-slate-500/10 text-slate-500 dark:text-slate-400 border-slate-500/20";return(n,s)=>(l(),d(u,null,[r(a(B),{title:"Payroll Management"}),r(H,{title:"HR: Payroll Management"},{default:g(()=>[e("div",I,[e("div",R,[s[5]||(s[5]=e("div",null,[e("h2",{class:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight"},"Payroll Administration"),e("p",{class:"text-sm text-slate-500 mt-1 uppercase tracking-widest font-bold font-mono"},"Compensation & Benefits")],-1)),e("div",Y,[r(a(h),{href:n.route("hr.payroll.settings"),class:"inline-flex items-center justify-center gap-2 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 px-5 py-3.5 text-sm font-bold text-slate-700 dark:text-slate-300 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-800 transition-all hover:-translate-y-0.5"},{default:g(()=>[r(a(G),{class:"h-5 w-5 text-slate-500"}),s[3]||(s[3]=S(" Settings ",-1))]),_:1},8,["href"]),e("button",{onClick:N,disabled:a(c).processing,class:"inline-flex items-center justify-center gap-2 rounded-2xl bg-indigo-600 px-6 py-3.5 text-sm font-bold text-white shadow-xl shadow-indigo-900/20 hover:bg-indigo-500 transition-all hover:-translate-y-0.5"},[r(a(L),{class:y(["h-5 w-5",{"animate-spin":a(c).processing}])},null,8,["class"]),s[4]||(s[4]=S(" Generate Monthly Payroll ",-1))],8,q)])]),e("div",K,[e("div",Q,[e("div",W,[r(a(O),{class:"h-5 w-5 text-indigo-400"}),w(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>i.value=t),class:"bg-white dark:bg-slate-950 border-0 rounded-xl py-2.5 text-xs text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500/50 w-32"},[(l(),d(u,null,b(_,t=>e("option",{key:t.value,value:t.value},o(t.name),9,X)),64))],512),[[M,i.value]]),w(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>x.value=t),class:"bg-white dark:bg-slate-950 border-0 rounded-xl py-2.5 text-xs text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500/50 w-24"},[(l(!0),d(u,null,b(a(j),t=>(l(),d("option",{key:t,value:t},o(t),9,Z))),128))],512),[[M,x.value]])]),e("div",ee,[r(a(U),{class:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),w(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>m.value=t),type:"text",placeholder:"Search employee...",class:"w-full bg-white dark:bg-slate-950 border-0 rounded-xl py-2.5 pl-10 text-xs text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500/50"},null,512),[[F,m.value]])])]),e("div",te,[e("div",se,[r(a(E),{class:"h-16 w-16 text-slate-900 dark:text-white"})]),s[6]||(s[6]=e("div",{class:"text-[10px] font-bold text-indigo-200 uppercase tracking-widest mb-1"},"Total Net Disbursement",-1)),s[7]||(s[7]=e("div",{class:"text-2xl font-bold text-slate-900 dark:text-white font-mono"},"--",-1))])]),e("div",ae,[e("table",re,[s[9]||(s[9]=e("thead",null,[e("tr",{class:"bg-white dark:bg-slate-950/30"},[e("th",{class:"px-8 py-4 text-[10px] font-bold text-slate-600 uppercase tracking-widest"},"Employee"),e("th",{class:"px-8 py-4 text-[10px] font-bold text-slate-600 uppercase tracking-widest text-right"},"Basic Salary"),e("th",{class:"px-8 py-4 text-[10px] font-bold text-slate-600 uppercase tracking-widest text-right"},"Allowances"),e("th",{class:"px-8 py-4 text-[10px] font-bold text-slate-600 uppercase tracking-widest text-right"},"Net Pay"),e("th",{class:"px-8 py-4 text-[10px] font-bold text-slate-600 uppercase tracking-widest text-center"},"Status"),e("th",{class:"px-8 py-4 text-[10px] font-bold text-slate-600 uppercase tracking-widest text-right"})])],-1)),e("tbody",le,[(l(!0),d(u,null,b(p.payrolls.data,t=>(l(),d("tr",{key:t.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors group"},[e("td",oe,[r(a(h),{href:n.route("hr.payroll.show",t.id),class:"flex items-center gap-3 group/link"},{default:g(()=>[e("div",ne,o(t.employee.full_name.charAt(0)),1),e("div",null,[e("div",de,o(t.employee.full_name),1),e("div",ie,o(t.employee.position?.name),1)])]),_:2},1032,["href"])]),e("td",xe,o(a(k)(t.basic_salary)),1),e("td",ce," + "+o(a(k)(t.total_allowances)),1),e("td",ue,o(a(k)(t.net_salary)),1),e("td",pe,[e("span",{class:y(["px-2.5 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider border",$(t.status)])},o(t.status),3)]),e("td",me,[r(a(h),{href:n.route("hr.payroll.show",t.id),class:"p-2 text-slate-500 hover:text-slate-900 dark:text-white transition-colors"},{default:g(()=>[r(a(z),{class:"h-5 w-5"})]),_:1},8,["href"])])]))),128)),p.payrolls.data.length?D("",!0):(l(),d("tr",ge,[...s[8]||(s[8]=[e("td",{colspan:"6",class:"px-8 py-16 text-center"},[e("div",{class:"text-slate-500 text-sm italic"},'No payroll records found for this period. Click "Generate" to start.')],-1)])]))])]),e("div",he,[e("nav",be,[(l(!0),d(u,null,b(p.payrolls.links,(t,C)=>(l(),T(a(h),{key:C,href:t.url||"#",class:y(["px-4 py-2 rounded-xl text-sm font-bold transition-all",[t.active?"bg-indigo-600 text-slate-900 dark:text-white shadow-lg shadow-indigo-900/20":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white",t.url?"":"opacity-50 cursor-not-allowed"]]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))])])])])]),_:1})],64))}};export{Fe as default};
