import{r as k,a as $,w as j,c as n,b as r,u as a,h as B,d as g,o as d,F as h,e as t,f as w,v as T,n as y,j as c,t as l,k as p,l as _,T as G,g as O,i as S,m as L}from"./app-DOa3TNrz.js";import{_ as q}from"./AppLayout-C0cJ7r4_.js";import{d as E}from"./debounce-BhyoKkIj.js";import{_ as I}from"./Pagination-DwA20YWu.js";import{f as x,a as U}from"./helpers-BjqMQcOq.js";import{r as M}from"./MagnifyingGlassIcon-CKS_uWNK.js";import{r as Q}from"./FunnelIcon-B0Je2FfE.js";import{r as F}from"./ShoppingCartIcon-nhTV8XT8.js";import{r as H}from"./CheckBadgeIcon-qAevXK-V.js";import{r as P}from"./ArrowDownTrayIcon-BOvlgaKn.js";import{r as z}from"./ClockIcon-FLcrlwaL.js";import{r as J}from"./PlusIcon-CfMYaJqA.js";import{r as K}from"./EyeIcon-CJR1Cmrg.js";import{r as W}from"./PencilSquareIcon-AHWKiwlh.js";import{r as X}from"./TrashIcon-DOeF9pKD.js";import{r as Y}from"./PrinterIcon-DYAis9Zd.js";/* empty css            */import"./XMarkIcon-CtZnV4sD.js";import"./SunIcon-bgjV1Sgc.js";import"./WrenchScrewdriverIcon-DScrsVt6.js";import"./CubeIcon-Ces5e0wf.js";import"./TruckIcon-Bdb_kU6W.js";const Z={class:"flex flex-col xl:flex-row xl:items-center justify-between gap-4 mb-6"},tt={class:"flex flex-wrap items-center gap-3"},et={class:"relative w-full sm:w-64"},st={key:0,class:"flex flex-wrap items-center gap-2"},at={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-blue-500 flex items-center gap-3 shadow-sm"},rt={class:"flex items-baseline gap-2"},lt={class:"text-sm font-black text-slate-900 dark:text-white"},dt={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-emerald-500 flex items-center gap-3 shadow-sm"},ot={class:"flex items-baseline gap-2"},it={class:"text-sm font-black text-slate-900 dark:text-white"},nt={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-red-500 flex items-center gap-3 shadow-sm"},ct={class:"flex items-baseline gap-2"},xt={class:"text-sm font-black text-slate-900 dark:text-white"},pt={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-amber-500 flex items-center gap-3 shadow-sm"},ut={class:"flex items-baseline gap-2"},bt={class:"text-sm font-black text-slate-900 dark:text-white"},mt={key:0,class:"mb-6 rounded-2xl glass-card p-4"},gt={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},ht=["value"],ft=["value"],kt={class:"rounded-2xl glass-card overflow-hidden"},vt={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},wt={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},yt={class:"divide-y divide-slate-100 dark:divide-slate-800"},_t={class:"px-4 py-2 whitespace-nowrap"},Ot={class:"flex items-center gap-3"},$t={class:"text-sm font-medium text-slate-900 dark:text-white"},St={class:"text-xs text-slate-500"},Ft={class:"px-4 py-2 whitespace-nowrap"},Pt={class:"text-sm text-slate-900 dark:text-white font-medium"},zt={class:"text-xs text-slate-500 font-mono"},Ct={class:"px-4 py-2 whitespace-nowrap"},Dt={class:"text-sm text-slate-600 dark:text-slate-300"},At={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-slate-500 dark:text-slate-400"},Nt={class:"px-4 py-2 whitespace-nowrap text-center text-sm font-medium text-slate-900 dark:text-white"},Rt={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-slate-500 dark:text-slate-400"},Vt={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-red-400/80"},jt={class:"px-4 py-2 whitespace-nowrap text-center"},Bt={class:"px-4 py-2 whitespace-nowrap text-right"},Tt={class:"text-sm font-semibold text-slate-900 dark:text-white"},Gt={class:"px-4 py-2 whitespace-nowrap text-center text-sm"},Lt={class:"px-4 py-2 whitespace-nowrap text-right"},qt={class:"flex items-center justify-end gap-2"},Et=["onClick"],It={key:0},Ut={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4"},Mt={class:"mt-12"},Qt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Ht={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Jt={class:"flex items-center gap-3 mb-3"},Kt={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},Wt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Xt={class:"flex items-center gap-3 mb-3"},Yt={class:"p-2.5 rounded-xl bg-orange-500/10 text-orange-400"},Zt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},te={class:"flex items-center gap-3 mb-3"},ee={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},se={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ae={class:"flex items-center gap-3 mb-3"},re={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},le={key:1,class:"text-slate-900 dark:text-white text-center py-20"},ze={__name:"Index",props:{purchaseOrders:Object,stats:Object,suppliers:Array,filters:Object,statuses:Array},setup(o){const v=o,u=k(v.filters?.search||""),b=k(v.filters?.status||""),m=k(v.filters?.supplier||""),f=k(!1),C=E(()=>{$.get("/purchasing/orders",{search:u.value||void 0,status:b.value||void 0,supplier:m.value||void 0},{preserveState:!0,replace:!0})},300);j([u,b,m],C);const D=()=>{u.value="",b.value="",m.value=""},A=i=>{confirm(`Are you sure you want to delete "${i.po_number}"?`)&&$.delete(`/purchasing/orders/${i.id}`)},N=i=>i&&{draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",submitted:"bg-amber-500/20 text-amber-400 border-amber-500/30",approved:"bg-blue-500/20 text-blue-400 border-blue-500/30",ordered:"bg-purple-500/20 text-purple-400 border-purple-500/30",partial:"bg-orange-500/20 text-orange-400 border-orange-500/30",received:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"}[i]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",R=i=>i?{draft:"Draft",submitted:"Submitted",approved:"Approved",ordered:"Ordered",partial:"Partial",received:"Received",cancelled:"Cancelled"}[i]||i:"-",V=i=>{if(!i)return"-";try{return new Date(i).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}catch{return i}};return(i,e)=>(d(),n(h,null,[r(a(B),{title:"Purchase Orders"}),r(q,{title:"Purchase Orders"},{default:g(()=>[o.purchaseOrders?(d(),n(h,{key:0},[t("div",Z,[t("div",tt,[t("div",et,[r(a(M),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),type:"search",placeholder:"Search PO number...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[T,u.value]])]),t("button",{onClick:e[1]||(e[1]=s=>f.value=!f.value),class:y(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors border border-transparent",{"ring-2 ring-blue-500/50 border-blue-500/50":f.value}])},[r(a(Q),{class:"h-5 w-5"}),e[4]||(e[4]=c(" Filters ",-1))],2),o.stats?(d(),n("div",st,[t("div",at,[r(a(F),{class:"w-4 h-4 text-blue-500 shrink-0"}),t("div",rt,[e[5]||(e[5]=t("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Ordered",-1)),t("span",lt,l(a(x)(o.stats.total_qty||0)),1)])]),t("div",dt,[r(a(H),{class:"w-4 h-4 text-emerald-500 shrink-0"}),t("div",ot,[e[6]||(e[6]=t("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Received",-1)),t("span",it,l(a(x)(o.stats.total_received||0)),1)])]),t("div",nt,[r(a(P),{class:"w-4 h-4 text-red-500 rotate-180 shrink-0"}),t("div",ct,[e[7]||(e[7]=t("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Return",-1)),t("span",xt,l(a(x)(o.stats.total_returned||0)),1)])]),t("div",pt,[r(a(z),{class:"w-4 h-4 text-amber-500 shrink-0"}),t("div",ut,[e[8]||(e[8]=t("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Balance",-1)),t("span",bt,l(a(x)(o.stats.total_balance||0)),1)])])])):p("",!0)]),r(a(_),{href:"/purchasing/orders/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all shrink-0"},{default:g(()=>[r(a(J),{class:"h-5 w-5"}),e[9]||(e[9]=c(" Create PO ",-1))]),_:1})]),r(G,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:g(()=>[f.value?(d(),n("div",mt,[t("div",gt,[t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Status",-1)),w(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>b.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[10]||(e[10]=t("option",{value:""},"All Status",-1)),(d(!0),n(h,null,O(o.statuses,s=>(d(),n("option",{key:s.value,value:s.value},l(s.label),9,ht))),128))],512),[[S,b.value]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Supplier",-1)),w(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>m.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[12]||(e[12]=t("option",{value:""},"All Suppliers",-1)),(d(!0),n(h,null,O(o.suppliers,s=>(d(),n("option",{key:s.id,value:s.id},l(s.name),9,ft))),128))],512),[[S,m.value]])]),t("div",{class:"flex items-end"},[t("button",{onClick:D,class:"w-full rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-colors"}," Clear Filters ")])])])):p("",!0)]),_:1}),t("div",kt,[t("div",vt,[t("table",wt,[e[16]||(e[16]=t("thead",null,[t("tr",{class:"border-b border-slate-200 dark:border-slate-700"},[t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"PO Number"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Supplier"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Order Date"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Items"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Qty"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Recv"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Return"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Balance"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Total"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Status"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",yt,[(d(!0),n(h,null,O(o.purchaseOrders.data,s=>(d(),n("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",_t,[t("div",Ot,[e[14]||(e[14]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 dark:bg-slate-800 font-mono text-xs text-slate-500"}," PO ",-1)),t("div",null,[t("div",$t,l(s.po_number),1),t("div",St,l(s.warehouse?.name),1)])])]),t("td",Ft,[t("div",Pt,l(s.supplier?.name),1),t("div",zt,l(s.supplier?.code),1)]),t("td",Ct,[t("span",Dt,l(V(s.order_date)),1)]),t("td",At,l(s.items_count),1),t("td",Nt,l(a(x)(s.total_qty||0)),1),t("td",Rt,l(a(x)(s.total_received||0)),1),t("td",Vt,l(a(x)(s.total_returned||0)),1),t("td",jt,[t("span",{class:y(["text-sm font-bold",parseFloat(s.total_qty||0)-(parseFloat(s.total_received||0)-parseFloat(s.total_returned||0))>0?"text-amber-400":"text-emerald-500"])},l(a(x)(parseFloat(s.total_qty||0)-(parseFloat(s.total_received||0)-parseFloat(s.total_returned||0)))),3)]),t("td",Bt,[t("span",Tt,l(a(U)(s.total)),1)]),t("td",Gt,[t("span",{class:y(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold capitalize",N(s.status)])},l(R(s.status)),3)]),t("td",Lt,[t("div",qt,[r(a(_),{href:`/purchasing/orders/${s.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",title:"View"},{default:g(()=>[r(a(K),{class:"h-4 w-4"})]),_:1},8,["href"]),s.status==="draft"?(d(),L(a(_),{key:0,href:`/purchasing/orders/${s.id}/edit`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",title:"Edit"},{default:g(()=>[r(a(W),{class:"h-4 w-4"})]),_:1},8,["href"])):p("",!0),s.status==="draft"?(d(),n("button",{key:1,onClick:de=>A(s),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-red-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",title:"Delete"},[r(a(X),{class:"h-4 w-4"})],8,Et)):p("",!0)])])]))),128)),o.purchaseOrders.data&&o.purchaseOrders.data.length===0?(d(),n("tr",It,[...e[15]||(e[15]=[t("td",{colspan:"11",class:"px-4 py-12 text-center text-slate-500 italic"},"No purchase orders found.",-1)])])):p("",!0)])])]),o.purchaseOrders.last_page>1?(d(),n("div",Ut,[r(I,{links:o.purchaseOrders.links},null,8,["links"])])):p("",!0)]),t("div",Mt,[e[25]||(e[25]=t("div",{class:"flex items-center gap-2 mb-4 px-1"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Procurement Guide"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",Qt,[t("div",Ht,[t("div",Jt,[t("div",Kt,[r(a(F),{class:"h-5 w-5"})]),e[17]||(e[17]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Purchase Orders",-1))]),e[18]||(e[18]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[c(" Official "),t("strong",null,"PO Documents"),c(" sent to suppliers. ")],-1))]),t("div",Wt,[t("div",Xt,[t("div",Yt,[r(a(z),{class:"h-5 w-5"})]),e[19]||(e[19]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Lead Time",-1))]),e[20]||(e[20]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[c(" Track "),t("strong",null,"Expected Arrival"),c(" dates. ")],-1))]),t("div",Zt,[t("div",te,[t("div",ee,[r(a(P),{class:"h-5 w-5"})]),e[21]||(e[21]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Fast Receiving",-1))]),e[22]||(e[22]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[c(" Generate "),t("strong",null,"Goods Receipts (GRN)"),c(" directly. ")],-1))]),t("div",se,[t("div",ae,[t("div",re,[r(a(Y),{class:"h-5 w-5"})]),e[23]||(e[23]=t("h4",{class:"font-bold text-slate-200 text-sm"},"PO Printout",-1))]),e[24]||(e[24]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[c(" Generate pixel-perfect "),t("strong",null,"PDF Purchase Orders"),c(". ")],-1))])])])],64)):(d(),n("div",le," Loading order data... "))]),_:1})],64))}};export{ze as default};
