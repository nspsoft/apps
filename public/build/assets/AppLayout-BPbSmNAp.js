import{c as a,e,o as t,w as ne,q as W,s as G,k as d,b as l,d as h,t as c,u as o,F as _,g as C,n as p,m as v,E as y,j as x,T as S,l as b,f as oe,H as ie,I as le,r as g,D as P,J as ce}from"./app-CVskXPlE.js";import{r as Q}from"./XMarkIcon-B0wnv3NP.js";import{r as de,c as ue,d as me,e as he,f as pe,a as fe,b as ve}from"./SunIcon-CH0hNqUR.js";import{a as ge,r as we}from"./WrenchScrewdriverIcon-Ch0-x6ah.js";import{r as J}from"./CheckBadgeIcon-BrVRkF10.js";import{r as xe}from"./ShoppingCartIcon-C3CFwejV.js";import{r as be}from"./CubeIcon-B3DTt87X.js";import{r as _e}from"./TruckIcon-RPY9s92d.js";function ye(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15M9 12l3 3m0 0 3-3m-3 3V2.25"})])}function ke(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function Me(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"})])}function Ce(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})])}function Se(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"})])}function z(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function Y(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function $e(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"})])}function je(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Ae(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"})])}function Ie(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function Pe(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}function De(f,u){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}const Le={class:"min-h-screen bg-slate-50 dark:bg-slate-950 transition-colors duration-300"},Ee={key:0,class:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-950 border-r border-white/5 lg:hidden"},Be={class:"flex h-16 shrink-0 items-center justify-between px-6 border-b border-white/5 bg-slate-950"},Oe={class:"flex items-center gap-3"},He={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 border border-white/10 shadow-lg shadow-blue-500/20 overflow-hidden"},ze=["src"],Ve={class:"flex flex-col"},qe={class:"text-xl font-black tracking-tighter text-white"},Ne={class:"flex flex-1 flex-col px-4 py-4 overflow-y-auto bg-slate-950"},Re={class:"space-y-1"},Ze=["onClick"],Fe={key:0,class:"mt-1 space-y-1 pl-10"},Te={class:"flex grow flex-col gap-y-5 overflow-y-auto bg-slate-950 border-r border-white/5 transition-all duration-300 relative"},Ue={class:"flex items-center gap-3 relative z-10"},We={class:"group w-10 h-10 rounded-xl bg-slate-900 border border-white/10 flex items-center justify-center shadow-[0_0_15px_rgba(6,182,212,0.3)] shrink-0 transition-all duration-300 hover:shadow-[0_0_25px_rgba(6,182,212,0.6)] hover:border-cyan-500/50 overflow-hidden"},Ge=["src"],Qe={class:"text-4xl font-black italic tracking-[0.2em] text-transparent bg-clip-text bg-gradient-to-b from-white to-cyan-400 whitespace-nowrap drop-shadow-[0_0_10px_rgba(6,182,212,0.6)]",style:{"font-family":"'Segoe UI', sans-serif"}},Je={class:"flex flex-1 flex-col px-4"},Ye={class:"space-y-1"},Ke={key:0,class:"relative"},Xe=["onClick"],et={key:0,class:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-transparent opacity-50"},tt={key:1,class:"absolute left-0 top-0 bottom-0 w-1 bg-cyan-500 shadow-[0_0_10px_#06b6d4]"},st={class:"relative z-10"},rt={key:0,class:"absolute left-full top-0 ml-2 w-48 rounded-xl bg-slate-900 border border-white/10 shadow-xl z-50 py-1"},at={class:"px-4 py-2 text-xs font-semibold text-slate-500 border-b border-white/5 mb-1"},nt={key:0,class:"mt-1 space-y-1 pl-10"},ot={key:0,class:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-transparent opacity-50"},it={key:1,class:"absolute left-0 top-0 bottom-0 w-1 bg-cyan-500 shadow-[0_0_10px_#06b6d4]"},lt={key:2,class:"relative z-10"},ct={class:"w-10 h-10 rounded-full bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center shrink-0 border border-white/10 shadow-lg"},dt={class:"text-sm font-bold text-white"},ut={key:0,class:"flex-1 min-w-0 transition-opacity duration-200"},mt={class:"text-sm font-medium text-white truncate"},ht={class:"text-xs text-slate-500 truncate"},pt={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 transition-colors duration-300 px-4 shadow-sm dark:shadow-lg sm:gap-x-6 sm:px-6 lg:px-8"},ft={class:"flex flex-1 items-center gap-x-4 self-stretch lg:gap-x-6"},vt={class:"flex flex-1 items-center justify-center lg:justify-start"},gt={class:"hidden md:flex flex-row items-center lg:items-start gap-3 group"},wt={class:"flex flex-col justify-center h-full"},xt={class:"text-lg md:text-xl font-bold tracking-widest text-cyan-400 dark:text-cyan-400",style:{"font-family":"'Orbitron', sans-serif","text-shadow":"0 0 10px rgba(34, 211, 238, 0.6)"}},bt={class:"flex items-center gap-x-4 lg:gap-x-6 ml-auto"},_t={class:"relative"},yt=["title"],kt={key:0,class:"absolute top-1.5 right-1.5 flex h-2.5 w-2.5"},Mt={key:0,class:"absolute right-0 mt-2 w-80 origin-top-right rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50"},Ct={class:"p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center"},St={class:"max-h-96 overflow-y-auto"},$t={key:0},jt={class:"text-sm text-slate-900 dark:text-white font-medium"},At={class:"text-xs text-slate-500 dark:text-slate-400 mt-1"},It={class:"text-xs text-slate-400 dark:text-slate-500 mt-2"},Pt={key:1,class:"px-4 py-8 text-center text-slate-400 dark:text-slate-500 text-sm"},Dt={class:"p-2 border-t border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/50 rounded-b-xl"},Lt={class:"relative"},Et={class:"w-8 h-8 rounded-full bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center"},Bt={class:"text-xs font-bold text-white"},Ot={class:"hidden lg:block text-sm font-medium text-slate-700 dark:text-white"},Ht={key:0,class:"absolute right-0 mt-2 w-48 origin-top-right rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none"},zt={class:"py-1"},Vt={class:"py-8 px-4 sm:px-6 lg:px-8 relative"},qt={key:0,class:"fixed top-20 right-4 z-[100] w-full max-w-sm overflow-hidden rounded-2xl bg-white dark:bg-slate-900 shadow-2xl ring-1 ring-black ring-opacity-5 pointer-events-auto border border-slate-200 dark:border-slate-800"},Nt={class:"p-4"},Rt={class:"flex items-start"},Zt={class:"flex-shrink-0"},Ft={class:"ml-3 w-0 flex-1 pt-0.5"},Tt={class:"mt-1 text-sm text-slate-500 dark:text-slate-400"},Ut={class:"ml-4 flex flex-shrink-0"},Wt={key:0,class:"mb-8"},Gt={class:"text-2xl font-bold text-slate-900 dark:text-white"},as={__name:"AppLayout",props:{title:{type:String,default:"Dashboard"},renderHeader:{type:Boolean,default:!0}},setup(f){const u=ce(),$=g(!1),m=g(!1),j=g(!1),D=g(!1),A=g(!1),k=g(!1),I=P(()=>u.props.flash?.success),B=P(()=>u.props.flash?.error),L=g(!1);ne([I,B],([n,s])=>{(n||s)&&(L.value=!0,setTimeout(()=>{L.value=!1},5e3))});const M=g(null),E=g(!1),V=n=>{n.preventDefault(),M.value=n,E.value=!0},q=()=>{A.value=!0,E.value=!1,M.value=null},K=async()=>{if(!M.value)return;M.value.prompt();const{outcome:n}=await M.value.userChoice;n==="accepted"&&(A.value=!0,E.value=!1),M.value=null};W(()=>{window.matchMedia("(display-mode: standalone)").matches&&(A.value=!0),window.addEventListener("beforeinstallprompt",V),window.addEventListener("appinstalled",q)}),G(()=>{window.removeEventListener("beforeinstallprompt",V),window.removeEventListener("appinstalled",q)});const N=n=>{if(!n)return!0;const s=u.props.auth;return s?s.roles?.includes("Super Admin")?!0:s.permissions?.includes(n):!1},R=[{name:"Dashboard",href:"/",icon:pe,current:!0},{name:"Sales",href:"#",icon:je,current:!1,permission:"sales_crm.view",children:[{name:"Sales Hub",href:"/sales/dashboard",permission:"sales_crm.view"},{name:"ðŸ“Š Planning Dashboard",href:"/sales/planning/dashboard",permission:"sales_crm.view"},{name:"ðŸ“… Forecast",href:"/sales/planning/forecast",permission:"sales_crm.view"},{name:"ðŸšš Delivery Schedule",href:"/sales/planning/schedule",permission:"sales_crm.view"},{name:"Customers",href:"/sales/customers",permission:"sales_crm.customers.view"},{name:"Quotations",href:"/sales/quotations",permission:"sales_crm.quotations.view"},{name:"Sales Orders",href:"/sales/orders",permission:"sales_crm.sales_orders.view"},{name:"Delivery Orders",href:"/sales/deliveries",permission:"sales_crm.delivery_orders.view"},{name:"Sales Invoices",href:"/sales/invoices",permission:"sales_crm.invoices.view"},{name:"Sales Returns",href:"/sales/returns",permission:"sales_crm.sales_returns.view"},{name:"â„¹ï¸ Information",href:"/sales/information",permission:"sales_crm.view"},{name:"ðŸ“ PO Tracking",href:"/sales/po-tracking",permission:"sales_crm.view"},{name:"âœ¨ AI PO Extractor",href:"/sales/po-extractor",permission:"sales_crm.ai_po_extractor.view"}]},{name:"CRM",href:"#",icon:Pe,current:!1,permission:"sales_crm.view",children:[{name:"ðŸ’¬ WhatsApp Center",href:"/sales/whatsapp"},{name:"CRM Intelligence",href:"/crm/dashboard",permission:"sales_crm.leads_management.view"},{name:"Leads Management",href:"/crm/leads",permission:"sales_crm.leads_management.view"},{name:"Opportunity Tracking",href:"/crm/opportunities",permission:"sales_crm.opportunity_tracking.view"},{name:"Marketing Campaigns",href:"/crm/campaigns",permission:"sales_crm.marketing_campaigns.view"}]},{name:"Purchasing",href:"#",icon:xe,current:!1,permission:"purchasing.view",children:[{name:"Procurement Ops",href:"/purchasing/dashboard",permission:"purchasing.view"},{name:"Suppliers",href:"/purchasing/suppliers",permission:"purchasing.suppliers.view"},{name:"Purchase Requests",href:"/purchasing/requests",permission:"purchasing.purchase_requests.view"},{name:"Purchase Orders",href:"/purchasing/orders",permission:"purchasing.purchase_orders.view"},{name:"Goods Receipts",href:"/purchasing/receipts",permission:"purchasing.goods_receipts.view"},{name:"AI Gen. Receipt",href:"/purchasing/dn-extractor",permission:"purchasing.goods_receipts.view"},{name:"Purchase Invoices",href:"/purchasing/invoices",permission:"purchasing.purchase_invoices.view"},{name:"Purchase Returns",href:"/purchasing/returns",permission:"purchasing.purchase_returns.view"}]},{name:"Inventory",href:"#",icon:be,current:!1,permission:"inventory.view",children:[{name:"Command Center",href:"/inventory/dashboard",permission:"inventory.view"},{name:"Categories",href:"/inventory/categories",permission:"inventory.categories.view"},{name:"Products",href:"/inventory/products",permission:"inventory.products.view"},{name:"Unit Management",href:"/inventory/units",permission:"inventory.products.view"},{name:"Current Stock",href:"/inventory/stocks",permission:"inventory.current_stock.view"},{name:"Warehouses",href:"/inventory/warehouses",permission:"inventory.warehouses.view"},{name:"Stock Movements",href:"/inventory/movements",permission:"inventory.stock_movements.view"},{name:"Stock Opname",href:"/inventory/opname",permission:"inventory.stock_opname.view"}]},{name:"Manufacturing",href:"#",icon:$e,current:!1,permission:"manufacturing.view",children:[{name:"Intelligence Hub",href:"/manufacturing/dashboard",permission:"manufacturing.view"},{name:"Bill of Materials",href:"/manufacturing/boms",permission:"manufacturing.bill_of_materials.view"},{name:"Production Routing",href:"/manufacturing/routing",permission:"manufacturing.production_routing.view"},{name:"Work Orders",href:"/manufacturing/work-orders",permission:"manufacturing.work_orders.view"},{name:"Input Output",href:"/manufacturing/production-entry",permission:"manufacturing.input_output.view"},{name:"Shift Management",href:"/manufacturing/shifts",permission:"manufacturing.shift_management.view"},{name:"Machine Management",href:"/manufacturing/machines",permission:"manufacturing.machine_management.view"},{name:"Subcontract Orders",href:"/manufacturing/subcontract-orders",permission:"manufacturing.subcontract_orders.view"}]},{name:"Maintenance",href:"#",icon:we,current:!1,permission:"maintenance.view",children:[{name:"Preventive Schedule",href:"/maintenance/schedule",permission:"maintenance.schedule.view"},{name:"Breakdown Logs",href:"/maintenance/breakdown",permission:"maintenance.breakdown.view"},{name:"Spareparts Inventory",href:"/maintenance/spareparts",permission:"maintenance.spareparts.view"}]},{name:"Quality Control",href:"#",icon:J,current:!1,permission:"qc.view",children:[{name:"Incoming Inspection",href:"/qc/incoming",permission:"qc.incoming_inspection.view"},{name:"In-Process QC",href:"/qc/in-process",permission:"qc.in-process_qc.view"},{name:"Quality Checklists",href:"/qc/checklists",permission:"qc.quality_checklists.view"}]},{name:"Logistics",href:"#",icon:_e,current:!1,permission:"logistics.view",children:[{name:"Logistics Hub",href:"/logistics/dashboard",permission:"logistics.view"},{name:"Delivery Planning",href:"/logistics/planning",permission:"logistics.delivery_planning.view"},{name:"Vehicle Fleet",href:"/logistics/fleet",permission:"logistics.vehicle_fleet.view"}]},{name:"Finance",href:"#",icon:fe,current:!1,permission:"finance.view",children:[{name:"Financial Command",href:"/finance/dashboard",permission:"finance.general_ledger.view"},{name:"General Ledger",href:"/finance/ledger",permission:"finance.general_ledger.view"},{name:"Profit & Loss",href:"/finance/reports",permission:"finance.profit_&_loss.view"},{name:"AP & AR Monitoring",href:"/finance/ap_&_ar_monitoring",permission:"finance.ap_&_ar_monitoring.view"}]},{name:"Costing",href:"#",icon:ve,current:!1,permission:"finance.view",children:[{name:"Production Costing",href:"/costing/production",permission:"finance.production_costing.view"},{name:"Overhead Allocation",href:"/costing/overhead",permission:"finance.overhead_allocation.view"},{name:"Profitability Analytic",href:"/costing/profitability",permission:"finance.profitability_analytic.view"}]},{name:"Human Resources",href:"#",icon:De,current:!1,permission:"hr_payroll.view",children:[{name:"Employee Directory",href:"/hr/employees",permission:"hr_payroll.employee_directory.view"},{name:"Attendance",href:"/hr/attendance",permission:"hr_payroll.attendance.view"},{name:"Payroll",href:"/hr/payroll",permission:"hr_payroll.payroll.view"}]},{name:"Project Matrix",href:"#",icon:Se,current:!1,children:[{name:"Project Dashboard",href:"/projects"},{name:"Initiate Project",href:"/projects/create"}]},{name:"Settings",href:"#",icon:Y,current:!1,permission:"settings.view",children:[{name:"User Management",href:"/settings/users",permission:"settings.user_management.view"},{name:"Roles & Permissions",href:"/settings/roles",permission:"settings.roles_&_permissions.view"},{name:"Company Profile",href:"/settings/company",permission:"settings.company_profile.view"},{name:"AI Configuration",href:"/settings/ai",permission:"settings.company_profile.view"},{name:"Document Numbering",href:"/settings/numbering",permission:"settings.document_numbering.view"},{name:"Regional & Tax",href:"/settings/regional",permission:"settings.regional_&_tax.view"},{name:"System Preferences",href:"/settings/preferences",permission:"settings.system_preferences.view"},{name:"Workflow Approval",href:"/settings/workflow",permission:"settings.workflow_approval.view"},{name:"Import & Export",href:"/settings/io",permission:"settings.import_&_export.view"},{name:"Database Management",href:"/settings/database",permission:"settings.database_management.view"},{name:"Activity Logs",href:"/admin/activity-logs",permission:"settings.activity_logs.view"},{name:"System Testing (UAT)",href:"/settings/uat",permission:"settings.view",target:"_blank"},{name:"ðŸ’¬ WhatsApp Bot",href:"/settings/whatsapp",permission:"settings.company_profile.view"}]}],Z=P(()=>R.filter(n=>N(n.permission)).map(n=>n.children?{...n,children:n.children.filter(s=>N(s.permission))}:n).filter(n=>!n.children||n.children.length>0)),w=g({});(()=>{const n=u.url;R.forEach(s=>{s.children&&s.children.some(i=>i.href!=="#"&&n.startsWith(i.href))&&(w.value[s.name]=!0)})})();const F=n=>{w.value[n]=!w.value[n]},T=()=>{$.value=!1},X=()=>{m.value=!m.value,m.value&&(w.value={})},O=g(!1),ee=P(()=>u.props.auth?.unreadNotificationsCount||0),U=P(()=>u.props.auth?.recentNotifications||[]),H=g(""),te={weekday:"long",year:"numeric",month:"long",day:"numeric"};try{H.value=new Date().toLocaleDateString("id-ID",te)}catch(n){console.error("Date formatting error:",n),H.value=new Date().toDateString()}W(()=>{localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches?(k.value=!0,document.documentElement.classList.add("dark")):(k.value=!1,document.documentElement.classList.remove("dark")),(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0)&&(A.value=!0),document.addEventListener("fullscreenchange",()=>{D.value=!!document.fullscreenElement});const s=()=>{window.innerWidth>=1024&&($.value=!1)};window.addEventListener("resize",s),G(()=>window.removeEventListener("resize",s))});const se=()=>{O.value=!O.value,j.value&&(j.value=!1)},re=()=>{document.fullscreenElement?document.exitFullscreen().then(()=>{D.value=!1}).catch(()=>{}):document.documentElement.requestFullscreen().then(()=>{D.value=!0}).catch(()=>{})},ae=()=>{k.value=!k.value,k.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return(n,s)=>(t(),a("div",Le,[$.value?(t(),a("div",{key:0,class:"fixed inset-0 z-40 bg-slate-900/80 backdrop-blur-sm lg:hidden transition-opacity duration-300",onClick:T})):d("",!0),l(S,{"enter-active-class":"transition ease-in-out duration-300 transform","enter-from-class":"-translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in-out duration-300 transform","leave-from-class":"translate-x-0","leave-to-class":"-translate-x-full"},{default:h(()=>[$.value?(t(),a("div",Ee,[e("div",Be,[e("div",Oe,[e("div",He,[e("img",{src:n.$page.props.company?.logo||"/images/jicos.png",alt:"Logo",class:"w-full h-full object-cover"},null,8,ze)]),e("div",Ve,[e("span",qe,c(n.$page.props.company?.name||"JICOS"),1),s[3]||(s[3]=e("span",{class:"text-[8px] font-bold text-slate-400 uppercase tracking-[0.2em] -mt-1"},"Manufacturing System",-1))])]),e("button",{onClick:T,class:"text-slate-400 hover:text-white transition-colors"},[l(o(Q),{class:"w-6 h-6"})])]),e("nav",Ne,[e("ul",Re,[(t(!0),a(_,null,C(Z.value,r=>(t(),a("li",{key:r.name},[r.children?(t(),a(_,{key:0},[e("button",{onClick:i=>F(r.name),class:p(["group flex w-full items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-medium transition-all duration-200",r.current?"bg-slate-900 text-white shadow-lg shadow-blue-500/10":"text-slate-400 hover:text-white hover:bg-slate-900"])},[(t(),v(y(r.icon),{class:"h-5 w-5 shrink-0"})),x(" "+c(r.name)+" ",1),l(o(z),{class:p(["ml-auto h-4 w-4 transition-transform duration-200",w.value[r.name]?"rotate-180":""])},null,8,["class"])],10,Ze),l(S,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-1"},{default:h(()=>[w.value[r.name]?(t(),a("ul",Fe,[(t(!0),a(_,null,C(r.children,i=>(t(),a("li",{key:i.name},[(t(),v(y(i.target?"a":o(b)),{href:i.href,target:i.target,class:"block rounded-lg px-3 py-2 text-sm text-slate-400 hover:bg-slate-900 hover:text-white transition-colors"},{default:h(()=>[x(c(i.name),1)]),_:2},1032,["href","target"]))]))),128))])):d("",!0)]),_:2},1024)],64)):(t(),v(o(b),{key:1,href:r.href,class:p(["group flex items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-medium transition-all duration-200",r.current?"bg-gradient-to-r from-blue-600/20 to-purple-600/20 text-slate-900 dark:text-white border border-blue-500/30":"text-slate-600 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-400 dark:hover:bg-slate-800/50 dark:hover:text-white"])},{default:h(()=>[(t(),v(y(r.icon),{class:"h-5 w-5 shrink-0"})),x(" "+c(r.name),1)]),_:2},1032,["href","class"]))]))),128))])])])):d("",!0)]),_:1}),e("div",{class:p(["hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:flex-col transition-all duration-300",m.value?"lg:w-20":"lg:w-64"])},[e("div",Te,[s[5]||(s[5]=e("div",{class:"absolute top-0 right-0 w-[150px] h-[150px] bg-cyan-500/5 rounded-full blur-[60px] pointer-events-none"},null,-1)),s[6]||(s[6]=e("div",{class:"absolute bottom-0 left-0 w-[150px] h-[150px] bg-blue-500/5 rounded-full blur-[60px] pointer-events-none"},null,-1)),e("div",{class:p(["flex h-16 shrink-0 items-center border-b border-white/5 transition-all duration-300 relative overflow-hidden",m.value?"justify-center px-0":"px-6"])},[s[4]||(s[4]=e("div",{class:"absolute bottom-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-30"},null,-1)),e("div",Ue,[e("div",We,[e("img",{src:n.$page.props.company?.logo||"/images/jicos.png",alt:"Logo",class:"w-full h-full object-cover"},null,8,Ge)]),oe(e("div",{class:p(["transition-opacity duration-200",m.value?"opacity-0 w-0 overflow-hidden":"opacity-100"])},[e("span",Qe,c(n.$page.props.company?.name||"JICOS"),1)],2),[[ie,!m.value]])])],2),e("nav",Je,[e("ul",Ye,[(t(!0),a(_,null,C(Z.value,r=>(t(),a("li",{key:r.name},[r.children?(t(),a("div",Ke,[e("button",{onClick:i=>m.value?w.value[r.name]=!w.value[r.name]:F(r.name),class:p(["group flex w-full items-center gap-3 rounded-xl py-2.5 text-sm font-medium transition-all duration-300 relative overflow-hidden",[r.current?"text-cyan-400 bg-cyan-950/30 border border-cyan-500/30 shadow-[0_0_15px_rgba(6,182,212,0.15)]":"text-slate-400 hover:text-cyan-300 hover:bg-slate-800/50",m.value?"justify-center px-0":"px-3"]])},[r.current?(t(),a("div",et)):d("",!0),r.current?(t(),a("div",tt)):d("",!0),(t(),v(y(r.icon),{class:p(["h-5 w-5 shrink-0 transition-all duration-300 relative z-10",r.current?"text-cyan-400 drop-shadow-[0_0_8px_rgba(34,211,238,0.8)]":"group-hover:text-cyan-400 group-hover:drop-shadow-[0_0_5px_rgba(34,211,238,0.5)]"])},null,8,["class"])),m.value?d("",!0):(t(),a(_,{key:2},[e("span",st,c(r.name),1),l(o(z),{class:p(["ml-auto h-4 w-4 transition-transform duration-200 relative z-10",[w.value[r.name]?"rotate-180":"",r.current?"text-cyan-500":""]])},null,8,["class"])],64))],10,Xe),m.value&&w.value[r.name]?(t(),a("div",rt,[e("div",at,c(r.name),1),(t(!0),a(_,null,C(r.children,i=>(t(),v(y(i.target?"a":o(b)),{key:i.name,href:i.href,target:i.target,class:"block px-4 py-2 text-sm text-slate-400 hover:bg-slate-800 hover:text-white transition-colors"},{default:h(()=>[x(c(i.name),1)]),_:2},1032,["href","target"]))),128))])):d("",!0),m.value?d("",!0):(t(),v(S,{key:1,"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-1"},{default:h(()=>[w.value[r.name]?(t(),a("ul",nt,[(t(!0),a(_,null,C(r.children,i=>(t(),a("li",{key:i.name},[(t(),v(y(i.target?"a":o(b)),{href:i.href,target:i.target,class:"block rounded-lg px-3 py-2 text-sm text-slate-400 hover:bg-slate-800/50 hover:text-white transition-colors"},{default:h(()=>[x(c(i.name),1)]),_:2},1032,["href","target"]))]))),128))])):d("",!0)]),_:2},1024))])):(t(),v(o(b),{key:1,href:r.href,class:p(["group flex items-center gap-3 rounded-xl py-2.5 text-sm font-medium transition-all duration-300 relative overflow-hidden",[r.current?"text-cyan-400 bg-cyan-950/30 border border-cyan-500/30":"text-slate-400 hover:text-cyan-300 hover:bg-slate-800/50",m.value?"justify-center px-0":"px-3"]])},{default:h(()=>[r.current?(t(),a("div",ot)):d("",!0),r.current?(t(),a("div",it)):d("",!0),(t(),v(y(r.icon),{class:p(["h-5 w-5 shrink-0 transition-all duration-300 relative z-10",r.current?"text-cyan-400 drop-shadow-[0_0_8px_rgba(34,211,238,0.8)]":"group-hover:text-cyan-400 group-hover:drop-shadow-[0_0_5px_rgba(34,211,238,0.5)]"])},null,8,["class"])),m.value?d("",!0):(t(),a("span",lt,c(r.name),1))]),_:2},1032,["href","class"]))]))),128))])]),e("div",{class:p(["border-t border-white/5 p-4",m.value?"flex justify-center":""])},[e("div",{class:p(["flex items-center gap-3 rounded-xl bg-slate-900 border border-white/5 p-3 transition-all duration-300 shadow-sm",m.value?"justify-center px-0 bg-transparent border-0 shadow-none":""])},[e("div",ct,[e("span",dt,c(n.$page.props.auth.user?.name?.charAt(0).toUpperCase()||"U"),1)]),m.value?d("",!0):(t(),a("div",ut,[e("p",mt,c(n.$page.props.auth.user?.name||"User"),1),e("p",ht,c(n.$page.props.auth.user?.email||""),1)]))],2)],2)])],2),e("div",{class:p(["transition-all duration-300",m.value?"lg:pl-20":"lg:pl-64"])},[e("div",pt,[e("button",{type:"button",class:"-m-2.5 p-2.5 text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white lg:hidden",onClick:s[0]||(s[0]=r=>$.value=!0)},[l(o(de),{class:"h-6 w-6"})]),e("button",{type:"button",class:"hidden lg:block -ml-4 p-2.5 text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white transition-colors",onClick:X},[l(o(Ce),{class:p(["h-6 w-6 transform transition-transform duration-300",m.value?"rotate-180":""])},null,8,["class"])]),s[19]||(s[19]=e("div",{class:"h-6 w-px bg-slate-200 dark:bg-slate-700 lg:hidden"},null,-1)),e("div",ft,[e("div",vt,[e("div",gt,[s[8]||(s[8]=e("div",{class:"h-8 w-1 bg-gradient-to-b from-cyan-400 to-blue-600 rounded-full animate-pulse shadow-[0_0_10px_#06b6d4]"},null,-1)),e("div",wt,[e("div",xt,c(H.value||"LOADING SYSTEM..."),1),s[7]||(s[7]=e("div",{class:"h-[1px] w-full bg-gradient-to-r from-cyan-500/50 to-transparent mt-1"},null,-1))])])]),e("div",bt,[E.value&&!A.value?(t(),a("button",{key:0,onClick:K,class:"relative -m-2.5 p-2.5 text-emerald-400 hover:text-emerald-300 transition-colors group",title:"Install App"},[s[9]||(s[9]=e("span",{class:"absolute inset-0 flex items-center justify-center"},[e("span",{class:"animate-ping absolute h-8 w-8 rounded-full bg-emerald-400 opacity-30"})],-1)),l(o(ye),{class:"h-6 w-6 relative z-10"})])):d("",!0),e("div",_t,[e("button",{type:"button",onClick:re,class:"relative -m-2.5 p-2.5 text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white transition-colors mr-2",title:"Toggle Fullscreen"},[(t(),v(y(D.value?o(Me):o(ge)),{class:"h-6 w-6"}))]),e("button",{type:"button",onClick:ae,class:"relative -m-2.5 p-2.5 text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white transition-all mr-2",title:k.value?"Switch to Light Mode":"Switch to Dark Mode"},[k.value?(t(),v(o(ue),{key:0,class:"h-6 w-6"})):(t(),v(o(me),{key:1,class:"h-6 w-6"}))],8,yt),e("button",{type:"button",onClick:se,class:"relative -m-2.5 p-2.5 text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white transition-colors"},[l(o(he),{class:"h-6 w-6"}),ee.value>0?(t(),a("span",kt,[...s[10]||(s[10]=[e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"},null,-1),e("span",{class:"relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500"},null,-1)])])):d("",!0)]),l(S,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:h(()=>[O.value?(t(),a("div",Mt,[e("div",Ct,[s[12]||(s[12]=e("h3",{class:"text-sm font-semibold text-slate-900 dark:text-white"},"Notifications",-1)),l(o(b),{href:"/notifications",class:"text-xs text-blue-600 dark:text-blue-400 hover:underline"},{default:h(()=>[...s[11]||(s[11]=[x("View All",-1)])]),_:1})]),e("div",St,[U.value.length>0?(t(),a("div",$t,[(t(!0),a(_,null,C(U.value,r=>(t(),a("div",{key:r.id,class:"px-4 py-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 border-b border-slate-100 dark:border-slate-700/50 last:border-0"},[e("p",jt,c(r.data.title),1),e("p",At,c(r.data.message),1),e("p",It,c(new Date(r.created_at).toLocaleDateString()),1)]))),128))])):(t(),a("div",Pt," No new notifications "))]),e("div",Dt,[l(o(b),{href:"/notifications/mark-all-read",method:"post",as:"button",class:"w-full text-center text-xs text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white py-1"},{default:h(()=>[...s[13]||(s[13]=[x(" Mark all as read ",-1)])]),_:1})])])):d("",!0)]),_:1})]),s[18]||(s[18]=e("div",{class:"hidden lg:block lg:h-6 lg:w-px lg:bg-slate-200 dark:lg:bg-slate-700"},null,-1)),e("div",Lt,[e("button",{onClick:s[1]||(s[1]=r=>j.value=!j.value),class:"flex items-center gap-3 rounded-xl p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/50 transition-colors"},[e("div",Et,[e("span",Bt,c(n.$page.props.auth.user?.name?.charAt(0).toUpperCase()||"U"),1)]),e("span",Ot,c(n.$page.props.auth.user?.name||"User"),1),l(o(z),{class:"hidden lg:block h-4 w-4 text-slate-400"})]),l(S,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:h(()=>[j.value?(t(),a("div",Ht,[e("div",zt,[l(o(b),{href:"/profile",class:"flex items-center gap-2 px-4 py-2 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700/50"},{default:h(()=>[l(o(Ie),{class:"h-4 w-4"}),s[14]||(s[14]=x(" Your Profile ",-1))]),_:1}),l(o(b),{href:"/settings",class:"flex items-center gap-2 px-4 py-2 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700/50"},{default:h(()=>[l(o(Y),{class:"h-4 w-4"}),s[15]||(s[15]=x(" Settings ",-1))]),_:1}),s[17]||(s[17]=e("hr",{class:"my-1 border-slate-100 dark:border-slate-700"},null,-1)),l(o(b),{href:"/logout",method:"post",as:"button",class:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-slate-100 dark:hover:bg-slate-700/50 w-full text-left"},{default:h(()=>[l(o(ke),{class:"h-4 w-4"}),s[16]||(s[16]=x(" Sign out ",-1))]),_:1})])])):d("",!0)]),_:1})])])])]),e("main",Vt,[l(S,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[L.value?(t(),a("div",qt,[e("div",Nt,[e("div",Rt,[e("div",Zt,[I.value?(t(),v(o(J),{key:0,class:"h-6 w-6 text-emerald-500"})):d("",!0),B.value?(t(),v(o(Ae),{key:1,class:"h-6 w-6 text-red-500"})):d("",!0)]),e("div",Ft,[e("p",{class:p(["text-sm font-bold",I.value?"text-emerald-500":"text-red-500"])},c(I.value?"Success":"Attention Needed"),3),e("p",Tt,c(I.value||B.value),1)]),e("div",Ut,[e("button",{onClick:s[2]||(s[2]=r=>L.value=!1),class:"inline-flex rounded-md text-slate-400 hover:text-slate-500 focus:outline-none"},[l(o(Q),{class:"h-5 w-5"})])])])]),s[20]||(s[20]=e("div",{class:"h-1 w-full bg-slate-100 dark:bg-slate-800"},[e("div",{class:"h-full bg-blue-500 animate-[progress_5s_linear_forwards]"})],-1))])):d("",!0)]),_:1}),f.renderHeader?(t(),a("div",Wt,[e("h1",Gt,c(f.title),1)])):d("",!0),le(n.$slots,"default")])],2)]))}};export{as as _,De as a,Ae as b,je as c,$e as d,z as e,Se as f,Y as g,Ie as h,Pe as r};
