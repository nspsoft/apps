import{r as m,a as A,w as F,c as d,b as l,u as r,h as I,d as f,e as t,f as w,v as N,n as h,j as n,l as _,T as L,o,F as x,g as k,t as a,i as T,k as O,B as W,m as P}from"./app-D_UiwwGY.js";import{_ as U}from"./AppLayout-j_bqvUdd.js";import{d as q}from"./debounce-Be4QKu1O.js";import{f as C}from"./helpers-BjqMQcOq.js";import{r as E}from"./MagnifyingGlassIcon-DLixNK0H.js";import{r as z}from"./FunnelIcon-CxUgkC_E.js";import{r as H}from"./PlusIcon-CNffxIAs.js";import{r as D}from"./CogIcon-CbqUod9u.js";import{r as G}from"./EyeIcon-BBguaCID.js";import{r as Q}from"./PencilIcon-F3pYgpts.js";import{r as R}from"./PlayIcon-Aun2ypdA.js";import{r as J}from"./CheckCircleIcon-BMU0jIa4.js";/* empty css            */import"./XMarkIcon-Bk2VDfUN.js";import"./SunIcon-DsBk-RNV.js";import"./WrenchScrewdriverIcon-D2iFWpWW.js";import"./CheckBadgeIcon-CXai5z2u.js";import"./ShoppingCartIcon-Ch4xf8_E.js";import"./CubeIcon-DvVPDFE0.js";import"./TruckIcon-yq9WF2-2.js";const K={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},X={class:"flex items-center gap-3"},Y={class:"relative flex-1 sm:w-80"},Z={key:0,class:"mb-6 rounded-2xl glass-card p-4"},tt={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},et=["value"],st=["value"],at=["value"],rt={class:"rounded-2xl glass-card overflow-hidden"},lt={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},ot={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},dt={class:"divide-y divide-slate-100 dark:divide-slate-800"},nt={class:"px-4 py-2 whitespace-nowrap"},it={class:"flex items-center gap-3"},ct={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-cyan-600/20 to-blue-600/20 border border-cyan-500/30"},xt={class:"text-sm font-medium text-slate-900 dark:text-white"},ut={class:"text-[10px] text-slate-500 uppercase"},pt={class:"px-4 py-2 whitespace-nowrap"},bt={class:"text-sm text-slate-900 dark:text-white font-medium"},gt={class:"text-[10px] text-slate-500 font-mono"},mt={class:"px-4 py-2 whitespace-nowrap text-center"},ft={class:"text-sm text-slate-900 dark:text-white font-medium"},ht={class:"text-[10px] text-slate-500 ml-1"},kt={class:"px-4 py-2 whitespace-nowrap"},vt={class:"w-24 mx-auto"},yt={class:"flex items-center gap-2"},wt={class:"flex-1 bg-slate-50 dark:bg-slate-800 rounded-full h-1.5 overflow-hidden"},_t={class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 w-8"},Ot={class:"px-4 py-2 whitespace-nowrap"},Tt={class:"text-sm text-slate-600 dark:text-slate-300"},St={class:"text-[10px] text-slate-500 uppercase"},Pt={class:"px-4 py-2 whitespace-nowrap text-center"},Ct={class:"px-4 py-2 whitespace-nowrap text-center"},zt={class:"px-4 py-2 whitespace-nowrap text-center"},Dt={class:"px-4 py-2 whitespace-nowrap text-right"},Vt={key:0},$t={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},Bt={class:"text-sm text-slate-500 dark:text-slate-400"},jt={class:"flex items-center gap-2"},Mt={class:"mt-12"},At={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Ft={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},It={class:"flex items-center gap-3 mb-3"},Nt={class:"p-2.5 rounded-xl bg-cyan-500/10 text-cyan-400"},Lt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Wt={class:"flex items-center gap-3 mb-3"},Ut={class:"p-2.5 rounded-xl bg-orange-500/10 text-orange-400"},qt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Et={class:"flex items-center gap-3 mb-3"},Ht={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},Gt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Qt={class:"flex items-center gap-3 mb-3"},Rt={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},ge={__name:"Index",props:{workOrders:Object,filters:Object,statuses:Array,priorities:Array,productionTypes:Array},setup(i){const v=i,u=m(v.filters.search||""),p=m(v.filters.status||""),b=m(v.filters.priority||""),g=m(v.filters.production_type||""),y=m(!1),V=q(()=>{A.get("/manufacturing/work-orders",{search:u.value||void 0,status:p.value||void 0,priority:b.value||void 0,production_type:g.value||void 0},{preserveState:!0,replace:!0})},300);F([u,p,b,g],V);const $=()=>{u.value="",p.value="",b.value="",g.value=""},B=c=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",confirmed:"bg-blue-500/20 text-blue-400 border-blue-500/30",in_progress:"bg-amber-500/20 text-amber-400 border-amber-500/30",completed:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[c]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",j=c=>({draft:"Draft",confirmed:"Confirmed",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled"})[c]||c,M=c=>({low:"bg-slate-500/20 text-slate-500 dark:text-slate-400",normal:"bg-blue-500/20 text-blue-400",high:"bg-amber-500/20 text-amber-400",urgent:"bg-red-500/20 text-red-400"})[c]||"bg-slate-500/20 text-slate-500 dark:text-slate-400",S=c=>new Date(c).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"});return(c,e)=>(o(),d(x,null,[l(r(I),{title:"Work Orders"}),l(U,{title:"Work Orders"},{default:f(()=>[t("div",K,[t("div",X,[t("div",Y,[l(r(E),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),type:"search",placeholder:"Search work orders...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[N,u.value]])]),t("button",{onClick:e[1]||(e[1]=s=>y.value=!y.value),class:h(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",{"ring-2 ring-blue-500/50":y.value}])},[l(r(z),{class:"h-5 w-5"}),e[5]||(e[5]=n(" Filters ",-1))],2)]),l(r(_),{href:"/manufacturing/work-orders/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:f(()=>[l(r(H),{class:"h-5 w-5"}),e[6]||(e[6]=n(" Create WO ",-1))]),_:1})]),l(L,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:f(()=>[y.value?(o(),d("div",Z,[t("div",tt,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Status",-1)),w(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>p.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[7]||(e[7]=t("option",{value:""},"All Status",-1)),(o(!0),d(x,null,k(i.statuses,s=>(o(),d("option",{key:s.value,value:s.value},a(s.label),9,et))),128))],512),[[T,p.value]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Priority",-1)),w(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>b.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[9]||(e[9]=t("option",{value:""},"All Priority",-1)),(o(!0),d(x,null,k(i.priorities,s=>(o(),d("option",{key:s.value,value:s.value},a(s.label),9,st))),128))],512),[[T,b.value]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Production Type",-1)),w(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>g.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[11]||(e[11]=t("option",{value:""},"All Types",-1)),(o(!0),d(x,null,k(i.productionTypes,s=>(o(),d("option",{key:s.value,value:s.value},a(s.label),9,at))),128))],512),[[T,g.value]])]),t("div",{class:"flex items-end"},[t("button",{onClick:$,class:"w-full rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-colors"}," Clear Filters ")])])])):O("",!0)]),_:1}),t("div",rt,[t("div",lt,[t("table",ot,[e[14]||(e[14]=t("thead",null,[t("tr",{class:"border-b border-slate-200 dark:border-slate-700"},[t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"WO Number"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Product"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Output Qty"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Progress"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Schedule"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Priority"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Type"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Status"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",dt,[(o(!0),d(x,null,k(i.workOrders.data,s=>(o(),d("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",nt,[t("div",it,[t("div",ct,[l(r(D),{class:"h-5 w-5 text-cyan-400"})]),t("div",null,[t("div",xt,a(s.wo_number),1),t("div",ut,a(s.bom?.name),1)])])]),t("td",pt,[t("div",bt,a(s.product?.name),1),t("div",gt,a(s.product?.sku),1)]),t("td",mt,[t("span",ft,a(r(C)(s.qty_produced)),1),t("span",ht,"/ "+a(r(C)(s.qty_planned)),1)]),t("td",kt,[t("div",vt,[t("div",yt,[t("div",wt,[t("div",{class:"bg-gradient-to-r from-cyan-500 to-blue-600 h-full transition-all duration-500",style:W({width:`${s.progress_percent}%`})},null,4)]),t("span",_t,a(Math.round(s.progress_percent))+"%",1)])])]),t("td",Ot,[t("div",Tt,a(S(s.planned_start)),1),t("div",St,"thru "+a(S(s.planned_end)),1)]),t("td",Pt,[t("span",{class:h(["inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-bold uppercase ring-1 ring-inset",M(s.priority)])},a(s.priority),3)]),t("td",Ct,[t("span",{class:h(["inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-bold uppercase ring-1 ring-inset",s.production_type==="subcontract"?"bg-amber-500/20 text-amber-400 ring-amber-500/30":"bg-blue-500/20 text-blue-400 ring-blue-500/30"])},a(s.production_type),3)]),t("td",zt,[t("span",{class:h(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium",B(s.status)])},a(j(s.status)),3)]),t("td",Dt,[l(r(_),{href:c.route("manufacturing.work-orders.show",s.id),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",title:"View Detail"},{default:f(()=>[l(r(G),{class:"h-4 w-4"})]),_:1},8,["href"]),s.status==="draft"?(o(),P(r(_),{key:0,href:c.route("manufacturing.work-orders.edit",s.id),class:"p-2 rounded-lg text-blue-400 hover:text-blue-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",title:"Edit Work Order"},{default:f(()=>[l(r(Q),{class:"h-4 w-4"})]),_:1},8,["href"])):O("",!0)])]))),128)),i.workOrders.data.length===0?(o(),d("tr",Vt,[...e[13]||(e[13]=[t("td",{colspan:"9",class:"px-4 py-12 text-center text-slate-500 italic"},"No active production runs found.",-1)])])):O("",!0)])])]),i.workOrders.last_page>1?(o(),d("div",$t,[t("p",Bt," Showing "+a(i.workOrders.from)+" to "+a(i.workOrders.to)+" of "+a(i.workOrders.total)+" orders ",1),t("div",jt,[(o(!0),d(x,null,k(i.workOrders.links,s=>(o(),P(r(_),{key:s.label,href:s.url||"#",class:h(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-slate-900 dark:text-white":s.url?"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white":"text-white cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):O("",!0)]),t("div",Mt,[e[23]||(e[23]=t("div",{class:"flex items-center gap-2 mb-4 px-1"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Production execution Guide"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",At,[t("div",Ft,[t("div",It,[t("div",Nt,[l(r(D),{class:"h-5 w-5"})]),e[15]||(e[15]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Execution Control",-1))]),e[16]||(e[16]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[n(" Transition Work Orders from "),t("strong",null,"Draft"),n(" to "),t("strong",null,"Started"),n(" to signal the floor team. The system will automatically allocate components based on the BOM. ")],-1))]),t("div",Lt,[t("div",Wt,[t("div",Ut,[l(r(R),{class:"h-5 w-5"})]),e[17]||(e[17]=t("h4",{class:"font-bold text-slate-200 text-sm"},"In-Progress Tracking",-1))]),e[18]||(e[18]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[n(" Monitor "),t("strong",null,"Real-time Progress"),n(" as production units are confirmed. High visibility avoids bottlenecks and helps management adjust schedules dynamically. ")],-1))]),t("div",qt,[t("div",Et,[t("div",Ht,[l(r(J),{class:"h-5 w-5"})]),e[19]||(e[19]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Output Validation",-1))]),e[20]||(e[20]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[n(" Completing a work order "),t("strong",null,"Increases Inventory"),n(" for the finished good and "),t("strong",null,"Decreases Inventory"),n(" for raw materials according to the BOM. ")],-1))]),t("div",Gt,[t("div",Qt,[t("div",Rt,[l(r(z),{class:"h-5 w-5"})]),e[21]||(e[21]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Priority Dispatch",-1))]),e[22]||(e[22]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[n(" Categorize orders by "),t("strong",null,"Priority (Urgent to Low)"),n(". This helps the production manager sequence jobs to meet critical customer deadlines. ")],-1))])])])]),_:1})],64))}};export{ge as default};
