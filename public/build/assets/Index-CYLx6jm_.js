import{f as K,c as n,a as u,u as a,h as A,w as B,b as t,l as G,d as g,t as d,p as O,n as D,o as r,F as v,g as E,i as z,x as h,y as _,j as p,e as c,E as w,v as R,M as H,B as J,m as y,N as W}from"./app-CKQzvzyf.js";import{k as q,h as Q,_ as X}from"./AppLayout-CK2fh2JM.js";import{r as U}from"./ArrowDownTrayIcon-Co_eSiyB.js";import{r as j}from"./CheckCircleIcon-BObHF1cH.js";import{r as C}from"./XCircleIcon-C1p-eqNZ.js";import{r as V}from"./ExclamationCircleIcon-Bq2vnLj6.js";import{r as Y}from"./ChevronUpIcon-ehReS_WZ.js";import{r as Z}from"./PencilSquareIcon-CK41VVQL.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-B2KJaphs.js";import"./SunIcon-dsrw8a58.js";import"./WrenchScrewdriverIcon-Dr4pPQtT.js";import"./DocumentPlusIcon-CNFF2MCw.js";import"./TruckIcon-BqdSAK_u.js";import"./DocumentTextIcon-Dex0qltP.js";import"./ShoppingCartIcon-B7yQfjtQ.js";import"./MapPinIcon-jVm1FI58.js";import"./SparklesIcon-DHNBQV1A.js";import"./CubeIcon-DADqMiG3.js";import"./ClockIcon-WdBsPvPQ.js";import"./ShieldCheckIcon-D39uRVh3.js";const tt={class:"max-w-7xl mx-auto"},et={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8"},st={class:"flex items-center gap-3"},at={class:"mb-8 grid grid-cols-1 md:grid-cols-4 gap-4"},lt={class:"glass-card p-6 rounded-2xl flex flex-col items-center justify-center text-center"},rt={class:"text-3xl font-bold text-slate-900 dark:text-white mb-1"},ot={class:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2 mb-2 overflow-hidden"},dt={class:"glass-card p-6 rounded-2xl flex items-center justify-between border-l-4 border-emerald-500"},nt={class:"text-2xl font-bold text-emerald-600 dark:text-emerald-400"},it={class:"glass-card p-6 rounded-2xl flex items-center justify-between border-l-4 border-red-500"},ut={class:"text-2xl font-bold text-red-600 dark:text-red-400"},xt={class:"glass-card p-6 rounded-2xl flex items-center justify-between border-l-4 border-slate-400"},ct={class:"text-2xl font-bold text-slate-600 dark:text-slate-400"},bt={class:"space-y-4"},gt=["onClick"],pt={class:"flex items-center gap-3"},mt={class:"text-lg font-bold text-slate-900 dark:text-white"},ft={class:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300"},kt={class:"flex items-center gap-3"},vt=["href"],ht={class:"border-t border-slate-100 dark:border-slate-800"},_t={class:"flex flex-col md:flex-row gap-4"},wt={class:"shrink-0 pt-1"},yt={class:"flex-1"},jt={class:"flex items-start justify-between gap-4 mb-2"},Ct={class:"flex items-center gap-2 mb-1"},St={class:"text-xs font-mono font-bold text-slate-400"},$t={class:"text-xs px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-800 text-slate-500"},Pt={class:"text-base font-bold text-slate-900 dark:text-white"},Tt={class:"flex items-center gap-2 shrink-0"},Bt=["onClick"],Dt=["onClick"],Et=["onClick"],Ut={class:"text-sm text-slate-600 dark:text-slate-400 mb-3"},Vt={class:"bg-slate-50 dark:bg-slate-900 rounded-lg p-3 text-sm border border-slate-100 dark:border-slate-800"},It={class:"text-slate-600 dark:text-slate-400"},Mt={key:0,class:"mt-3 flex items-start gap-2 text-xs text-slate-500"},Ft={key:0,class:"flex-1 bg-amber-50 dark:bg-amber-500/10 text-amber-700 dark:text-amber-400 p-2 rounded border border-amber-100 dark:border-amber-500/20"},Lt={key:1,class:"shrink-0 flex flex-col items-end"},Nt={key:1,class:"mt-4 p-4 bg-white dark:bg-slate-950 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg animate-in fade-in slide-in-from-top-2"},Kt={class:"mb-3"},At={class:"flex gap-2"},Gt={class:"flex items-center gap-2 cursor-pointer"},Ot={class:"flex items-center gap-2 cursor-pointer"},zt={class:"flex items-center gap-2 cursor-pointer"},Rt={class:"block text-xs font-bold text-slate-500 mb-1"},Ht={key:0,class:"text-red-500"},Jt={class:"flex justify-end gap-2"},Wt=["onClick"],fe={__name:"Index",props:{groupedScenarios:Object,stats:Object},setup(x){const S=x,m=y("Sales"),I=l=>{m.value=m.value===l?null:l},M=l=>{switch(l){case"passed":return"text-emerald-500 bg-emerald-50 dark:bg-emerald-500/10 border-emerald-200 dark:border-emerald-500/20";case"failed":return"text-red-500 bg-red-50 dark:bg-red-500/10 border-red-200 dark:border-red-500/20";default:return"text-slate-500 bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700"}},F=l=>{switch(l){case"passed":return j;case"failed":return C;default:return V}},f=y(null),$=y(null),o=K({notes:"",status:""}),P=(l,e=null)=>{f.value=l.id,o.notes=l.notes||"",o.status=e||l.status,W(()=>{$.value})},k=(l,e=null)=>{if(e==="failed"){P(l,"failed");return}e&&(o.status=e),o.put(route("settings.uat.update",l.id),{preserveScroll:!0,onSuccess:()=>{f.value=null}})},L=()=>{f.value=null,o.reset()},N=J(()=>S.stats.progress>=100?"bg-emerald-500":S.stats.progress>=50?"bg-blue-500":"bg-amber-500");return(l,e)=>(r(),n(v,null,[u(a(A),{title:"Pengujian Sistem (UAT)"}),u(X,{title:"Pengujian Sistem (UAT)"},{default:B(()=>[t("div",tt,[t("div",et,[e[6]||(e[6]=t("div",null,[t("h1",{class:"text-2xl font-black text-slate-900 dark:text-white uppercase tracking-tight"},"Pengujian Sistem (UAT)"),t("p",{class:"text-sm text-slate-500"},"Pantau dan verifikasi kesiapan fitur sistem JICOS ERP.")],-1)),t("div",st,[u(a(G),{href:l.route("settings.uat.export"),class:"px-5 py-2.5 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold text-sm shadow-lg shadow-slate-900/20 dark:shadow-white/10 hover:scale-105 transition-all flex items-center gap-2"},{default:B(()=>[u(a(U),{class:"h-4 w-4"}),e[5]||(e[5]=g(" Export Laporan ",-1))]),_:1},8,["href"])])]),t("div",at,[t("div",lt,[t("div",rt,d(x.stats.progress)+"%",1),t("div",ot,[t("div",{class:D(["h-full rounded-full transition-all duration-500",N.value]),style:O({width:`${x.stats.progress}%`})},null,6)]),e[7]||(e[7]=t("div",{class:"text-xs text-slate-500 uppercase font-bold tracking-wider"},"Progres Total",-1))]),t("div",dt,[t("div",null,[t("div",nt,d(x.stats.passed),1),e[8]||(e[8]=t("div",{class:"text-xs text-slate-500 uppercase font-bold tracking-wider"},"Lulus (Passed)",-1))]),u(a(j),{class:"h-8 w-8 text-emerald-500/20"})]),t("div",it,[t("div",null,[t("div",ut,d(x.stats.failed),1),e[9]||(e[9]=t("div",{class:"text-xs text-slate-500 uppercase font-bold tracking-wider"},"Gagal (Failed)",-1))]),u(a(C),{class:"h-8 w-8 text-red-500/20"})]),t("div",xt,[t("div",null,[t("div",ct,d(x.stats.pending),1),e[10]||(e[10]=t("div",{class:"text-xs text-slate-500 uppercase font-bold tracking-wider"},"Belum Diuji",-1))]),u(a(V),{class:"h-8 w-8 text-slate-500/20"})])]),t("div",bt,[(r(!0),n(v,null,E(x.groupedScenarios,(T,b)=>(r(),n("div",{key:b,class:"glass-card rounded-2xl overflow-hidden"},[t("button",{onClick:s=>I(b),class:"w-full flex items-center justify-between p-5 bg-slate-50/50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"},[t("div",pt,[u(a(q),{class:"h-6 w-6 text-blue-500"}),t("h3",mt,"Modul "+d(b),1),t("span",ft,d(T.length)+" Skenario ",1)]),t("div",kt,[t("a",{href:l.route("settings.uat.export",{module:b}),target:"_blank",class:"p-1 px-3 rounded-lg bg-slate-200 text-slate-600 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600 text-xs font-bold transition-colors flex items-center gap-1",onClick:e[0]||(e[0]=z(()=>{},["stop"]))},[(r(),h(_(a(U)),{class:"h-3 w-3"})),e[11]||(e[11]=g(" Export ",-1))],8,vt),(r(),h(_(m.value===b?a(Y):a(Q)),{class:"h-5 w-5 text-slate-400"}))])],8,gt),p(t("div",ht,[(r(!0),n(v,null,E(T,s=>(r(),n("div",{key:s.id,class:"p-5 border-b last:border-0 border-slate-100 dark:border-slate-800 hover:bg-slate-50/30 dark:hover:bg-slate-800/30 transition-colors"},[t("div",_t,[t("div",wt,[t("div",{class:D(["w-8 h-8 rounded-full flex items-center justify-center border-2 transition-colors",M(s.status).replace("text-","border-").replace("bg-","text-")])},[(r(),h(_(F(s.status)),{class:"h-5 w-5"}))],2)]),t("div",yt,[t("div",jt,[t("div",null,[t("div",Ct,[t("span",St,d(s.code),1),t("span",$t,d(s.feature),1)]),t("h4",Pt,d(s.title),1)]),t("div",Tt,[s.status!=="passed"?(r(),n("button",{key:0,onClick:i=>k(s,"passed"),class:"p-2 rounded-lg bg-emerald-50 text-emerald-600 hover:bg-emerald-100 dark:bg-emerald-500/10 dark:text-emerald-400 dark:hover:bg-emerald-500/20 transition-colors",title:"Tandai Lulus (Passed)"},[u(a(j),{class:"h-5 w-5"})],8,Bt)):c("",!0),s.status!=="failed"?(r(),n("button",{key:1,onClick:i=>k(s,"failed"),class:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-500/10 dark:text-red-400 dark:hover:bg-red-500/20 transition-colors",title:"Tandai Gagal (Failed) & Isi Keterangan"},[u(a(C),{class:"h-5 w-5"})],8,Dt)):c("",!0),t("button",{onClick:i=>P(s),class:"p-2 rounded-lg bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700 transition-colors",title:"Edit Keterangan"},[u(a(Z),{class:"h-5 w-5"})],8,Et)])]),t("p",Ut,d(s.description),1),t("div",Vt,[e[12]||(e[12]=t("span",{class:"font-bold text-slate-700 dark:text-slate-300 block mb-1"},"Kriteria Penerimaan (Acceptance Criteria):",-1)),t("span",It,d(s.acceptance_criteria),1)]),s.notes||s.tested_by?(r(),n("div",Mt,[s.notes?(r(),n("div",Ft,[e[13]||(e[13]=t("strong",null,"Keterangan:",-1)),g(" "+d(s.notes),1)])):c("",!0),s.tested_by?(r(),n("div",Lt,[t("span",null,[e[14]||(e[14]=g("Diuji oleh: ",-1)),t("strong",null,d(s.tester?.name||"Unknown"),1)]),t("span",null,d(new Date(s.tested_at).toLocaleString("id-ID")),1)])):c("",!0)])):c("",!0),f.value===s.id?(r(),n("div",Nt,[t("div",Kt,[e[18]||(e[18]=t("label",{class:"block text-xs font-bold text-slate-500 mb-1"},"Status Pengujian",-1)),t("div",At,[t("label",Gt,[p(t("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=i=>a(o).status=i),value:"passed",class:"text-emerald-500 focus:ring-emerald-500"},null,512),[[w,a(o).status]]),e[15]||(e[15]=t("span",{class:"text-sm text-slate-700 dark:text-slate-300"},"Lulus",-1))]),t("label",Ot,[p(t("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=i=>a(o).status=i),value:"failed",class:"text-red-500 focus:ring-red-500"},null,512),[[w,a(o).status]]),e[16]||(e[16]=t("span",{class:"text-sm text-slate-700 dark:text-slate-300"},"Gagal",-1))]),t("label",zt,[p(t("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=i=>a(o).status=i),value:"pending",class:"text-slate-500 focus:ring-slate-500"},null,512),[[w,a(o).status]]),e[17]||(e[17]=t("span",{class:"text-sm text-slate-700 dark:text-slate-300"},"Belum Diuji",-1))])])]),t("label",Rt,[e[19]||(e[19]=g(" Keterangan / Catatan ",-1)),a(o).status==="failed"?(r(),n("span",Ht,"* (Wajib diisi jika Gagal)")):c("",!0)]),p(t("textarea",{ref_for:!0,ref_key:"noteInput",ref:$,"onUpdate:modelValue":e[4]||(e[4]=i=>a(o).notes=i),class:"w-full rounded-lg border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-sm focus:ring-blue-500 mb-3",rows:"3",placeholder:"Tuliskan hasil pengujian atau alasan kegagalan..."},null,512),[[R,a(o).notes]]),t("div",Jt,[t("button",{onClick:L,class:"px-3 py-1.5 rounded-lg text-sm text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"}," Batal "),t("button",{onClick:i=>k(s),class:"px-3 py-1.5 rounded-lg text-sm bg-blue-600 text-white hover:bg-blue-500 transition-colors font-medium shadow-lg shadow-blue-500/20"}," Simpan Hasil ",8,Wt)])])):c("",!0)])])]))),128))],512),[[H,m.value===b]])]))),128))])])]),_:1})],64))}};export{fe as default};
