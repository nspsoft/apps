import{p as B,c as u,b as n,u as s,h as M,d as y,e,y as $,l as V,j as d,f as o,v as i,o as b,t as m,k as v,F as g,g as h,i as N,A as j,D as A,r as F}from"./app-Cof15h51.js";import{_ as W}from"./AppLayout-DTRSdW2J.js";import{_ as I}from"./MapPicker-BceF90Bj.js";import{r as q}from"./ArrowLeftIcon-f7G-ynnE.js";import{r as k}from"./QuestionMarkCircleIcon-ACqKcwch.js";import{r as z}from"./MapIcon-CW2SA2rT.js";import{r as O}from"./PlusIcon-BEBvXblu.js";import{r as K}from"./TrashIcon-BvRFfLjI.js";/* empty css            */import"./XMarkIcon-BXFWqVE7.js";import"./SunIcon-DHuZ9kAd.js";import"./WrenchScrewdriverIcon-gLywtRcf.js";import"./CheckBadgeIcon-MQgsnSG9.js";import"./ShoppingCartIcon-4nHghyp0.js";import"./CubeIcon-7-btXyr7.js";import"./TruckIcon-CEa-1eR1.js";import"./MagnifyingGlassIcon-Cbikt1FL.js";const L={class:"flex items-center gap-4"},H={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},J={class:"lg:col-span-2 space-y-6"},R={class:"rounded-2xl glass-card"},G={class:"p-6 space-y-4"},Q={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},X={class:"flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},Y={class:"group relative cursor-help"},Z={key:0,class:"mt-1 text-sm text-red-400"},ee={key:0,class:"mt-1 text-sm text-red-400"},te={class:"relative group"},se={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},le={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ae={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},oe={class:"flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},re={class:"group relative cursor-help"},de={class:"flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},ie={class:"group relative cursor-help"},ne={class:"rounded-2xl glass-card"},pe={class:"border-b border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},ue={class:"p-6 space-y-4"},be={key:0,class:"text-center text-slate-500 py-4 text-sm"},xe=["onClick"],me={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ce=["onUpdate:modelValue"],ge=["onUpdate:modelValue"],ke={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},fe=["onUpdate:modelValue"],ye=["onUpdate:modelValue"],ve={class:"rounded-2xl glass-card"},he={class:"p-6"},we={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},_e={class:"flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},Ce={class:"group relative cursor-help"},Ve=["value"],Ne={class:"space-y-6"},Ue={class:"rounded-2xl glass-card"},Pe={class:"p-6"},Se=["value"],Te={class:"rounded-2xl glass-card"},De={class:"p-6"},Ee={class:"flex items-center gap-3 cursor-pointer group"},Be={class:"flex flex-col gap-3"},Me=["disabled"],Ye={__name:"Form",props:{supplier:Object,subcontWarehouses:Array},setup(w){const r=w,c=A(()=>!!r.supplier),a=B({code:r.supplier?.code||"",name:r.supplier?.name||"",contact_person:r.supplier?.contact_person||"",address:r.supplier?.address||"",city:r.supplier?.city||"",phone:r.supplier?.phone||"",fax:r.supplier?.fax||"",email:r.supplier?.email||"",tax_id:r.supplier?.tax_id||"",npwp:r.supplier?.npwp||"",payment_terms:r.supplier?.payment_terms||"NET30",payment_days:r.supplier?.payment_days||30,is_active:r.supplier?.is_active??!0,subcontract_warehouse_id:r.supplier?.subcontract_warehouse_id||null,contacts:r.supplier?.contacts||[]}),U=()=>{c.value?a.put(`/purchasing/suppliers/${r.supplier.id}`):a.post("/purchasing/suppliers")},_=[{value:"COD",label:"Cash on Delivery",days:0},{value:"NET7",label:"Net 7 Days",days:7},{value:"NET14",label:"Net 14 Days",days:14},{value:"NET30",label:"Net 30 Days",days:30},{value:"NET45",label:"Net 45 Days",days:45},{value:"NET60",label:"Net 60 Days",days:60},{value:"NET90",label:"Net 90 Days",days:90}],P=()=>{const p=_.find(t=>t.value===a.payment_terms);p&&(a.payment_days=p.days)},S=()=>{a.contacts.push({name:"",phone:"",email:"",position:""})},T=p=>{a.contacts.splice(p,1)},f=F(!1),D=()=>{f.value=!0},E=p=>{a.address=p.address,p.city&&(a.city=p.city)};return(p,t)=>(b(),u(g,null,[n(s(M),{title:c.value?"Edit Supplier":"Create Supplier"},null,8,["title"]),n(W,{title:c.value?"Edit Supplier":"Create Supplier"},{default:y(()=>[e("form",{onSubmit:$(U,["prevent"]),class:"space-y-6"},[e("div",L,[n(s(V),{href:"/purchasing/suppliers",class:"flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white transition-colors"},{default:y(()=>[n(s(q),{class:"h-5 w-5"}),t[15]||(t[15]=d(" Back to Suppliers ",-1))]),_:1})]),e("div",H,[e("div",J,[e("div",R,[t[30]||(t[30]=e("div",{class:"border-b border-slate-200 dark:border-slate-800 px-6 py-4"},[e("h2",{class:"text-lg font-semibold text-slate-900 dark:text-white"},"Basic Information")],-1)),e("div",G,[e("div",Q,[e("div",null,[e("label",X,[t[17]||(t[17]=d(" Supplier Code * ",-1)),e("div",Y,[n(s(k),{class:"h-4 w-4 text-slate-500 hover:text-blue-400 transition-colors"}),t[16]||(t[16]=e("div",{class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50"},[e("p",{class:"text-xs text-slate-900 dark:text-white"},[e("span",{class:"font-bold block mb-1"},"Kode Supplier"),d(" Kode unik untuk identifikasi supplier. "),e("br"),e("br"),e("span",{class:"text-slate-500 dark:text-slate-400"},"Contoh: SUP-001, PT-ABC")]),e("div",{class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2 bg-slate-50 dark:bg-slate-800 border-r border-b border-slate-200 dark:border-slate-700"})],-1))])]),o(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s(a).code=l),type:"text",required:"",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"e.g., SUP-001"},null,512),[[i,s(a).code]]),s(a).errors.code?(b(),u("p",Z,m(s(a).errors.code),1)):v("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Contact Person",-1)),o(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>s(a).contact_person=l),type:"text",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"Contact name"},null,512),[[i,s(a).contact_person]])])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Supplier Name *",-1)),o(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s(a).name=l),type:"text",required:"",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"Company name"},null,512),[[i,s(a).name]]),s(a).errors.name?(b(),u("p",ee,m(s(a).errors.name),1)):v("",!0)]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Address",-1)),e("div",te,[o(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=l=>s(a).address=l),rows:"2",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"Street address"},null,512),[[i,s(a).address]]),e("button",{type:"button",onClick:D,class:"absolute right-2 bottom-2 p-1.5 rounded-lg bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-600 hover:text-slate-900 dark:text-white transition-colors flex items-center gap-1 text-xs font-bold shadow-lg"},[n(s(z),{class:"h-4 w-4 text-blue-400"}),t[20]||(t[20]=d(" Pick from Map ",-1))])])]),e("div",se,[e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"City",-1)),o(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>s(a).city=l),type:"text",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"City"},null,512),[[i,s(a).city]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Phone",-1)),o(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>s(a).phone=l),type:"text",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"Phone number"},null,512),[[i,s(a).phone]])])]),e("div",le,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Fax",-1)),o(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>s(a).fax=l),type:"text",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"Fax number"},null,512),[[i,s(a).fax]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Email",-1)),o(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>s(a).email=l),type:"email",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"supplier@company.com"},null,512),[[i,s(a).email]])])]),e("div",ae,[e("div",null,[e("label",oe,[t[27]||(t[27]=d(" Tax ID ",-1)),e("div",re,[n(s(k),{class:"h-4 w-4 text-slate-500 hover:text-blue-400 transition-colors"}),t[26]||(t[26]=e("div",{class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50"},[e("p",{class:"text-xs text-slate-900 dark:text-white"},[e("span",{class:"font-bold block mb-1"},"Nomor Identitas Pajak"),d(" Nomor registrasi perpajakan perusahaan. ")]),e("div",{class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2 bg-slate-50 dark:bg-slate-800 border-r border-b border-slate-200 dark:border-slate-700"})],-1))])]),o(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>s(a).tax_id=l),type:"text",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"Tax ID"},null,512),[[i,s(a).tax_id]])]),e("div",null,[e("label",de,[t[29]||(t[29]=d(" NPWP ",-1)),e("div",ie,[n(s(k),{class:"h-4 w-4 text-slate-500 hover:text-blue-400 transition-colors"}),t[28]||(t[28]=e("div",{class:"absolute bottom-full right-0 mb-2 w-64 p-3 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50"},[e("p",{class:"text-xs text-slate-900 dark:text-white"},[e("span",{class:"font-bold block mb-1"},"Nomor Pokok Wajib Pajak"),d(" Format: 15/16 digit angka. "),e("br"),e("br"),e("span",{class:"text-slate-500 dark:text-slate-400"},"Contoh: 01.234.567.8-901.000")]),e("div",{class:"absolute bottom-0 right-4 translate-y-1/2 rotate-45 w-2 h-2 bg-slate-50 dark:bg-slate-800 border-r border-b border-slate-200 dark:border-slate-700"})],-1))])]),o(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>s(a).npwp=l),type:"text",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50",placeholder:"00.000.000.0-000.000"},null,512),[[i,s(a).npwp]])])])])]),e("div",ne,[e("div",pe,[t[32]||(t[32]=e("h2",{class:"text-lg font-semibold text-slate-900 dark:text-white"},"Contact Persons (PIC)",-1)),e("button",{type:"button",onClick:S,class:"text-sm text-blue-400 hover:text-blue-300 transition-colors font-medium flex items-center gap-1"},[n(s(O),{class:"h-4 w-4"}),t[31]||(t[31]=d(" Add Consumer ",-1))])]),e("div",ue,[s(a).contacts.length===0?(b(),u("div",be," No contact persons added yet. ")):v("",!0),(b(!0),u(g,null,h(s(a).contacts,(l,C)=>(b(),u("div",{key:C,class:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 space-y-3 relative group"},[e("button",{type:"button",onClick:x=>T(C),class:"absolute top-2 right-2 p-1 text-slate-500 hover:text-red-400 transition-colors opacity-0 group-hover:opacity-100",title:"Remove Contact"},[n(s(K),{class:"h-4 w-4"})],8,xe),e("div",me,[e("div",null,[o(e("input",{"onUpdate:modelValue":x=>l.name=x,type:"text",required:"",class:"block w-full rounded-lg border-0 bg-white dark:bg-slate-950 py-2 px-3 text-slate-900 dark:text-white text-sm placeholder:text-slate-600 focus:ring-1 focus:ring-blue-500/50",placeholder:"PIC Name *"},null,8,ce),[[i,l.name]])]),e("div",null,[o(e("input",{"onUpdate:modelValue":x=>l.position=x,type:"text",class:"block w-full rounded-lg border-0 bg-white dark:bg-slate-950 py-2 px-3 text-slate-900 dark:text-white text-sm placeholder:text-slate-600 focus:ring-1 focus:ring-blue-500/50",placeholder:"Position"},null,8,ge),[[i,l.position]])])]),e("div",ke,[e("div",null,[o(e("input",{"onUpdate:modelValue":x=>l.phone=x,type:"text",class:"block w-full rounded-lg border-0 bg-white dark:bg-slate-950 py-2 px-3 text-slate-900 dark:text-white text-sm placeholder:text-slate-600 focus:ring-1 focus:ring-blue-500/50",placeholder:"Mobile / Phone"},null,8,fe),[[i,l.phone]])]),e("div",null,[o(e("input",{"onUpdate:modelValue":x=>l.email=x,type:"email",class:"block w-full rounded-lg border-0 bg-white dark:bg-slate-950 py-2 px-3 text-slate-900 dark:text-white text-sm placeholder:text-slate-600 focus:ring-1 focus:ring-blue-500/50",placeholder:"Email Address"},null,8,ye),[[i,l.email]])])])]))),128))])]),e("div",ve,[t[36]||(t[36]=e("div",{class:"border-b border-slate-200 dark:border-slate-800 px-6 py-4"},[e("h2",{class:"text-lg font-semibold text-slate-900 dark:text-white"},"Payment Terms")],-1)),e("div",he,[e("div",we,[e("div",null,[e("label",_e,[t[34]||(t[34]=d(" Payment Terms * ",-1)),e("div",Ce,[n(s(k),{class:"h-4 w-4 text-slate-500 hover:text-blue-400 transition-colors"}),t[33]||(t[33]=e("div",{class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50"},[e("p",{class:"text-xs text-slate-900 dark:text-white"},[e("span",{class:"font-bold block mb-1"},"Syarat Pembayaran"),d(" Jangka waktu pembayaran tagihan. "),e("br"),e("br"),e("span",{class:"text-slate-500 dark:text-slate-400"},[d("COD: Bayar saat terima barang."),e("br"),d("NET 30: Bayar dalam 30 hari.")])]),e("div",{class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2 bg-slate-50 dark:bg-slate-800 border-r border-b border-slate-200 dark:border-slate-700"})],-1))])]),o(e("select",{"onUpdate:modelValue":t[10]||(t[10]=l=>s(a).payment_terms=l),required:"",onChange:P,class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[(b(),u(g,null,h(_,l=>e("option",{key:l.value,value:l.value},m(l.label),9,Ve)),64))],544),[[N,s(a).payment_terms]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Payment Days",-1)),o(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>s(a).payment_days=l),type:"number",min:"0",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},null,512),[[i,s(a).payment_days,void 0,{number:!0}]])])])])])]),e("div",Ne,[e("div",Ue,[t[40]||(t[40]=e("div",{class:"border-b border-slate-200 dark:border-slate-800 px-6 py-4"},[e("h2",{class:"text-lg font-semibold text-slate-900 dark:text-white"},"Subcontracting")],-1)),e("div",Pe,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Virtual Warehouse",-1)),o(e("select",{"onUpdate:modelValue":t[12]||(t[12]=l=>s(a).subcontract_warehouse_id=l),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[t[37]||(t[37]=e("option",{value:null},"-- No Virtual Warehouse --",-1)),(b(!0),u(g,null,h(w.subcontWarehouses,l=>(b(),u("option",{key:l.id,value:l.id},m(l.name),9,Se))),128))],512),[[N,s(a).subcontract_warehouse_id]]),t[39]||(t[39]=e("p",{class:"text-xs text-slate-500 mt-2"},[d(" Link this supplier to a Virtual Warehouse to enable automated "),e("strong",null,"Stock Transfer"),d(" and "),e("strong",null,"Backflush"),d(" features. ")],-1))])]),e("div",Te,[t[42]||(t[42]=e("div",{class:"border-b border-slate-200 dark:border-slate-800 px-6 py-4"},[e("h2",{class:"text-lg font-semibold text-slate-900 dark:text-white"},"Status")],-1)),e("div",De,[e("label",Ee,[o(e("input",{"onUpdate:modelValue":t[13]||(t[13]=l=>s(a).is_active=l),type:"checkbox",class:"rounded border-slate-600 bg-slate-50 dark:bg-slate-800 text-blue-500 focus:ring-blue-500/50"},null,512),[[j,s(a).is_active]]),t[41]||(t[41]=e("div",{class:"flex-1"},[e("span",{class:"text-sm text-slate-600 dark:text-slate-300"},"Active"),e("p",{class:"text-xs text-slate-500 mt-0.5"},"Uncheck untuk menonaktifkan supplier (Hidden).")],-1))])])]),e("div",Be,[e("button",{type:"submit",disabled:s(a).processing,class:"w-full rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 disabled:opacity-50 transition-all"},m(s(a).processing?"Saving...":c.value?"Update Supplier":"Create Supplier"),9,Me),n(s(V),{href:"/purchasing/suppliers",class:"w-full text-center rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-3 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-colors"},{default:y(()=>[...t[43]||(t[43]=[d(" Cancel ",-1)])]),_:1})])])])],32),n(I,{show:f.value,onClose:t[14]||(t[14]=l=>f.value=!1),onConfirm:E},null,8,["show"])]),_:1},8,["title"])],64))}};export{Ye as default};
