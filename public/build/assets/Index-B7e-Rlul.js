import{m as u,s as w,q as U,c as d,a as l,u as a,h as P,w as b,b as e,j,v as G,o,F as y,g as C,t as n,k as H,d as r,l as g,T as O,e as m,n as $,x as S}from"./app-C5ximnk4.js";import{x as I,_ as q}from"./AppLayout-D5QuRGji.js";import{d as K}from"./debounce-CnHylb7D.js";import{_ as W}from"./MapPicker-nE-bpxPN.js";import{r as J}from"./MagnifyingGlassIcon-BuUiOviB.js";import{r as Q}from"./ArrowDownTrayIcon-CJy0s8hj.js";import{r as V}from"./ArrowUpTrayIcon-Buys681m.js";import{r as A}from"./PlusIcon-Bd842UDf.js";import{r as X}from"./XMarkIcon-B7pvIQ3F.js";import{r as Y}from"./StarIcon-CRSKt4Zr.js";import{r as Z}from"./PhoneIcon-BMf_0XXi.js";import{r as ee}from"./EnvelopeIcon-DsLimUbw.js";import{r as te}from"./MapPinIcon-8kcJKsWq.js";import{r as se}from"./EyeIcon-CFEj1Fpd.js";import{r as le}from"./PencilSquareIcon-De4Z_wjR.js";import{r as ae}from"./TrashIcon-RN8aKH4k.js";import{r as re}from"./UserIcon-U12BUhW1.js";import{r as oe}from"./CreditCardIcon-Dmn2XeG3.js";import{r as de}from"./ShieldCheckIcon-CbPtSxMM.js";/* empty css            */import"./SunIcon-C5gTgNQq.js";import"./WrenchScrewdriverIcon-RtRwy9Ag.js";import"./DocumentPlusIcon-CWq_U-0k.js";import"./TruckIcon-BXY3Yds0.js";import"./DocumentTextIcon-CfQwu5gU.js";import"./ShoppingCartIcon-Du7CHGMj.js";import"./SparklesIcon-XzH1SGLv.js";import"./CubeIcon-DlNRGXgC.js";import"./ClockIcon-CA0tSliu.js";import"./CheckCircleIcon-DdA7BM8M.js";const ie={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},ne={class:"flex items-center gap-3"},ce={class:"relative flex-1 sm:w-80"},xe=["value"],ue={class:"flex items-center gap-3"},me={class:"relative group"},pe={class:"inline-flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"},ve={class:"relative group"},be={class:"inline-flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"},fe={class:"absolute right-0 pt-2 w-48 hidden group-hover:block z-20"},ge={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl overflow-hidden"},he={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-white dark:bg-slate-950/80 backdrop-blur-sm"},ke={class:"glass-card rounded-2xl w-full max-w-md p-6 shadow-2xl"},we={class:"flex items-center justify-between mb-4"},ye={class:"text-lg font-bold text-slate-900 dark:text-white"},_e={class:"mb-6"},Ce={class:"flex flex-col items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl p-8 hover:border-violet-500/50 transition-colors relative"},$e={class:"text-sm text-slate-500 dark:text-slate-400 font-medium"},Ie={class:"mt-4 z-10 relative"},Te=["href"],Me={class:"flex items-center gap-3"},je=["disabled"],Se={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Ve={class:"p-6"},Ae={class:"flex items-start justify-between mb-4"},Ee={class:"flex items-center gap-3"},Fe={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-violet-600/20 to-purple-600/20 border border-violet-500/30"},ze={class:"text-lg font-semibold text-slate-900 dark:text-white"},Be={class:"text-sm font-medium text-slate-700 dark:text-slate-400"},De={class:"space-y-2 mb-4"},Le={key:0,class:"text-sm text-slate-700 dark:text-slate-400"},Ne={key:1,class:"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-400"},Re={key:2,class:"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-400"},Ue={class:"flex items-center justify-between pt-4 border-t border-slate-200 dark:border-slate-800"},Pe={class:"flex items-center gap-1"},Ge=["onClick"],He=["onClick"],Oe={key:0,class:"glass-card rounded-2xl p-12 text-center"},qe={class:"mt-4"},Ke={key:0,class:"mt-6 flex items-center justify-center gap-2"},We={class:"mt-12"},Je={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Qe={class:"glass-card rounded-2xl p-5"},Xe={class:"flex items-center gap-3 mb-3"},Ye={class:"p-2.5 rounded-xl bg-violet-500/10 text-violet-400"},Ze={class:"glass-card rounded-2xl p-5"},et={class:"flex items-center gap-3 mb-3"},tt={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},st={class:"glass-card rounded-2xl p-5"},lt={class:"flex items-center gap-3 mb-3"},at={class:"p-2.5 rounded-xl bg-amber-500/10 text-amber-400"},rt={class:"glass-card rounded-2xl p-5"},ot={class:"flex items-center gap-3 mb-3"},dt={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},Lt={__name:"Index",props:{customers:Object,filters:Object,customerTypes:Array},setup(v){const T=v,h=u(T.filters.search||""),k=u(T.filters.type||""),p=u(!1),f=u("customer"),c=u(null),x=u(!1),E=K(()=>{w.get("/sales/customers",{search:h.value||void 0,type:k.value||void 0},{preserveState:!0,replace:!0})},300);U([h,k],E);const F=i=>{confirm(`Are you sure you want to delete "${i.name}"?`)&&w.delete(`/sales/customers/${i.id}`)},z=()=>{c.value&&(x.value=!0,w.post("/sales/customers-import",{file:c.value},{onSuccess:()=>{p.value=!1,c.value=null,x.value=!1},onError:()=>{x.value=!1},forceFormData:!0}))},B=()=>{c.value&&(x.value=!0,w.post("/sales/customers-contacts-import",{file:c.value},{onSuccess:()=>{p.value=!1,c.value=null,x.value=!1},onError:()=>{x.value=!1},forceFormData:!0}))},D=i=>{c.value=i.target.files[0]},L=i=>({regular:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",vip:"bg-amber-500/20 text-amber-400 border-amber-500/30",wholesale:"bg-purple-500/20 text-purple-400 border-purple-500/30"})[i]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",_=u(!1),M=u(""),N=(i,t)=>{i&&(M.value=`${i}, ${t||""}`,_.value=!0)};return(i,t)=>(o(),d(y,null,[l(a(P),{title:"Customers"}),l(q,{title:"Customers"},{default:b(()=>[e("div",ie,[e("div",ne,[e("div",ce,[l(a(J),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),j(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>h.value=s),type:"search",placeholder:"Search customers...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:focus:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[G,h.value]])]),j(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>k.value=s),class:"rounded-xl border-0 bg-slate-50 dark:bg-slate-800/50 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[t[8]||(t[8]=e("option",{value:""},"All Types",-1)),(o(!0),d(y,null,C(v.customerTypes,s=>(o(),d("option",{key:s.value,value:s.value},n(s.label),9,xe))),128))],512),[[H,k.value]])]),e("div",ue,[e("div",me,[e("button",pe,[l(a(Q),{class:"h-5 w-5"}),t[9]||(t[9]=r(" Export ",-1))]),t[10]||(t[10]=e("div",{class:"absolute right-0 pt-2 w-48 hidden group-hover:block z-20"},[e("div",{class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl overflow-hidden"},[e("a",{href:"/sales/customers-export",class:"block px-4 py-3 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white"}," Export Customers "),e("a",{href:"/sales/customers-contacts-export",class:"block px-4 py-3 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white"}," Export Contacts ")])],-1))]),e("div",ve,[e("button",be,[l(a(V),{class:"h-5 w-5"}),t[11]||(t[11]=r(" Import ",-1))]),e("div",fe,[e("div",ge,[e("button",{onClick:t[2]||(t[2]=s=>{p.value=!0,f.value="customer"}),class:"block w-full text-left px-4 py-3 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white"}," Import Customers "),e("button",{onClick:t[3]||(t[3]=s=>{p.value=!0,f.value="contact"}),class:"block w-full text-left px-4 py-3 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white"}," Import Contacts ")])])]),l(a(g),{href:i.route("sales.customers.create"),class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:b(()=>[l(a(A),{class:"h-5 w-5"}),t[12]||(t[12]=r(" Add Customer ",-1))]),_:1},8,["href"])])]),l(O,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:b(()=>[p.value?(o(),d("div",he,[e("div",ke,[e("div",we,[e("h3",ye," Import "+n(f.value==="customer"?"Customers":"Contacts"),1),e("button",{onClick:t[4]||(t[4]=s=>p.value=!1),class:"text-slate-500 hover:text-slate-900 dark:text-white transition-colors"},[l(a(X),{class:"h-6 w-6"})])]),e("div",_e,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Excel/CSV File",-1)),e("div",Ce,[e("input",{type:"file",onChange:D,class:"absolute inset-0 opacity-0 cursor-pointer",accept:".xlsx,.xls,.csv"},null,32),l(a(V),{class:"h-10 w-10 text-slate-600 mb-2"}),e("p",$e,n(c.value?c.value.name:"Click or drag file to upload"),1),t[13]||(t[13]=e("p",{class:"text-xs text-slate-600 mt-1"},"Maximum size: 2MB",-1)),e("div",Ie,[e("a",{href:f.value==="customer"?"/sales/customers-template":"/sales/customers-contacts-template",class:"text-xs text-blue-400 hover:text-blue-300 underline"}," Download Template ",8,Te)])])]),e("div",Me,[e("button",{onClick:t[5]||(t[5]=s=>f.value==="customer"?z():B()),disabled:!c.value||x.value,class:"flex-1 rounded-xl bg-blue-600 py-2.5 text-sm font-semibold text-white hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},n(x.value?"Importing...":"Start Import"),9,je),e("button",{onClick:t[6]||(t[6]=s=>p.value=!1),class:"flex-1 rounded-xl bg-slate-50 dark:bg-slate-800 py-2.5 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-all"}," Cancel ")])])])):m("",!0)]),_:1}),e("div",Se,[(o(!0),d(y,null,C(v.customers.data,s=>(o(),d("div",{key:s.id,class:"glass-card rounded-2xl overflow-hidden"},[e("div",Ve,[e("div",Ae,[e("div",Ee,[e("div",Fe,[l(a(I),{class:"h-6 w-6 text-violet-400"})]),e("div",null,[e("h3",ze,n(s.name),1),e("p",Be,n(s.code),1)])]),e("span",{class:$(["inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-medium",L(s.customer_type)])},[s.customer_type==="vip"?(o(),S(a(Y),{key:0,class:"h-3 w-3"})):m("",!0),r(" "+n(s.customer_type.toUpperCase()),1)],2)]),e("div",De,[s.contact_person?(o(),d("div",Le,[t[15]||(t[15]=e("span",{class:"font-medium"},"Contact:",-1)),r(" "+n(s.contact_person),1)])):m("",!0),s.phone?(o(),d("div",Ne,[l(a(Z),{class:"h-4 w-4 text-slate-500 dark:text-slate-500"}),r(" "+n(s.phone),1)])):m("",!0),s.email?(o(),d("div",Re,[l(a(ee),{class:"h-4 w-4 text-slate-500 dark:text-slate-500"}),r(" "+n(s.email),1)])):m("",!0)]),e("div",Ue,[e("span",{class:$(["inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium",s.is_active?"bg-emerald-500/20 text-emerald-400":"bg-slate-500/20 text-slate-500 dark:text-slate-400"])},n(s.is_active?"Active":"Inactive"),3),e("div",Pe,[s.address?(o(),d("button",{key:0,onClick:R=>N(s.address,s.city),class:"p-2 rounded-lg text-slate-600 dark:text-slate-400 hover:text-emerald-500 dark:hover:text-emerald-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",title:"View on Map"},[l(a(te),{class:"h-4 w-4"})],8,Ge)):m("",!0),l(a(g),{href:`/sales/customers/${s.id}`,class:"p-2 rounded-lg text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:b(()=>[l(a(se),{class:"h-4 w-4"})]),_:1},8,["href"]),l(a(g),{href:`/sales/customers/${s.id}/edit`,class:"p-2 rounded-lg text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:b(()=>[l(a(le),{class:"h-4 w-4"})]),_:1},8,["href"]),e("button",{onClick:R=>F(s),class:"p-2 rounded-lg text-slate-600 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},[l(a(ae),{class:"h-4 w-4"})],8,He)])])])]))),128)),v.customers.data.length===0?(o(),d("div",Oe,[l(a(I),{class:"mx-auto h-12 w-12 text-slate-600"}),t[17]||(t[17]=e("h3",{class:"mt-2 text-sm font-medium text-slate-600 dark:text-slate-300"},"No customers found",-1)),t[18]||(t[18]=e("p",{class:"mt-1 text-sm text-slate-500"},"Get started by adding a new customer.",-1)),e("div",qe,[l(a(g),{href:"/sales/customers/create",class:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500 transition-colors"},{default:b(()=>[l(a(A),{class:"h-4 w-4"}),t[16]||(t[16]=r(" Add Customer ",-1))]),_:1})])])):m("",!0)]),v.customers.last_page>1?(o(),d("div",Ke,[(o(!0),d(y,null,C(v.customers.links,s=>(o(),S(a(g),{key:s.label,href:s.url||"#",class:$(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-slate-900 dark:text-white":s.url?"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white":"text-white cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])):m("",!0),l(W,{show:_.value,"initial-address":M.value,onClose:t[7]||(t[7]=s=>_.value=!1)},null,8,["show","initial-address"]),e("div",We,[t[27]||(t[27]=e("div",{class:"flex items-center gap-2 mb-4 px-1"},[e("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),e("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Customer & CRM Guide"),e("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),e("div",Je,[e("div",Qe,[e("div",Xe,[e("div",Ye,[l(a(I),{class:"h-5 w-5"})]),t[19]||(t[19]=e("h4",{class:"font-bold text-slate-900 dark:text-slate-200 text-sm"},"Segmentation",-1))]),t[20]||(t[20]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[r(" Tag customers as "),e("strong",null,"VIP"),r(", "),e("strong",null,"Wholesale"),r(", or "),e("strong",null,"Regular"),r(". Use this to apply specific pricing policies or priority service. ")],-1))]),e("div",Ze,[e("div",et,[e("div",tt,[l(a(re),{class:"h-5 w-5"})]),t[21]||(t[21]=e("h4",{class:"font-bold text-slate-900 dark:text-slate-200 text-sm"},"Key Relationships",-1))]),t[22]||(t[22]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[r(" Manage multiple "),e("strong",null,"Stakeholders"),r(" for each company. Perfect for tracking purchasing managers, finance teams, and warehouse contacts. ")],-1))]),e("div",st,[e("div",lt,[e("div",at,[l(a(oe),{class:"h-5 w-5"})]),t[23]||(t[23]=e("h4",{class:"font-bold text-slate-900 dark:text-slate-200 text-sm"},"Credit Limits",-1))]),t[24]||(t[24]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[r(" Set "),e("strong",null,"Payment Terms"),r(" and monitor limits to prevent over-extension. Important for maintaining healthy cash flow and reducing risk. ")],-1))]),e("div",rt,[e("div",ot,[e("div",dt,[l(a(de),{class:"h-5 w-5"})]),t[25]||(t[25]=e("h4",{class:"font-bold text-slate-900 dark:text-slate-200 text-sm"},"Activity Logs",-1))]),t[26]||(t[26]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[r(" Every modification or import is "),e("strong",null,"audited"),r(". Inactive customers can be archived to keep your CRM clean without losing historical data. ")],-1))])])])]),_:1})],64))}};export{Lt as default};
