import{m as v,s as T,q as R,f as V,c as d,a as i,u as a,h as E,w as _,b as e,j as U,v as q,n as $,d as l,o as r,x as n,e as c,F as C,g as A,t as u,l as D,i as G,T as H}from"./app-IVoQJucO.js";import{e as J,h as g,_ as K}from"./AppLayout-CB6itj69.js";import{d as Q}from"./debounce-OcYcB6V6.js";import{f as W}from"./helpers-DnzC1tLX.js";import{r as X}from"./MagnifyingGlassIcon-DsL3jw1f.js";import{r as Y}from"./ArrowDownTrayIcon-Cqx1nQvd.js";import{r as Z}from"./ArrowUpTrayIcon-QTbFRtlD.js";import{r as h}from"./ChevronUpIcon-j3BRxtpQ.js";import{r as S}from"./SunIcon-CYbLoLnh.js";import{r as L}from"./PrinterIcon-Dahw9cMz.js";import{r as ee}from"./EyeIcon-D96GIeVu.js";import{r as te}from"./TrashIcon-C7R2rb67.js";import{r as se}from"./CalendarIcon-Cd7FAg6Y.js";import{r as ae}from"./DocumentArrowUpIcon-t84gGEdz.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-D_woVOUk.js";import"./WrenchScrewdriverIcon-BFnYhfSI.js";import"./DocumentPlusIcon-DG_g0Qf-.js";import"./TruckIcon-B37qipaX.js";import"./DocumentTextIcon-Bwhp7UlT.js";import"./ShoppingCartIcon-C8LltAfz.js";import"./MapPinIcon-3JoXjwIr.js";import"./SparklesIcon-CkSh7JIs.js";import"./CubeIcon-C_ydCMqF.js";import"./ClockIcon-C7llT3BY.js";import"./CheckCircleIcon-BsWlH7Rj.js";import"./ShieldCheckIcon-Dg1cl82W.js";const re={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},le={class:"flex items-center gap-3"},oe={class:"relative flex-1 sm:w-80"},ie={class:"flex items-center gap-2"},de=["href"],ne={class:"rounded-2xl glass-card overflow-hidden"},ce={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},ue={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},xe={class:"border-b border-slate-200 dark:border-slate-700"},pe={class:"flex items-center gap-1"},be={key:0,class:"text-blue-600 dark:text-blue-400"},me={class:"flex items-center gap-1"},ge={key:0,class:"text-blue-600 dark:text-blue-400"},he={class:"flex items-center gap-1"},ve={key:0,class:"text-blue-600 dark:text-blue-400"},fe={class:"flex items-center gap-1"},ke={key:0,class:"text-blue-600 dark:text-blue-400"},we={class:"flex items-center gap-1"},ye={key:0,class:"text-blue-600 dark:text-blue-400"},_e={class:"flex items-center justify-end gap-1"},Ie={key:0,class:"text-blue-600 dark:text-blue-400"},$e={class:"flex items-center justify-center gap-1"},Ce={key:0,class:"text-blue-600 dark:text-blue-400"},De={class:"divide-y divide-slate-100 dark:divide-slate-800"},Se={class:"px-4 py-2 whitespace-nowrap"},Fe={class:"flex items-center gap-3"},je={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 dark:bg-slate-800"},ze={class:"text-sm font-medium text-slate-900 dark:text-white"},Te={class:"px-4 py-2 whitespace-nowrap"},Ae={key:0,class:"text-[10px] text-slate-500 uppercase tracking-tighter"},Le={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-white"},Me={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},Ne={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},Oe={class:"px-4 py-2 whitespace-nowrap text-right text-sm text-slate-900 dark:text-white font-medium"},Be={class:"px-4 py-2 whitespace-nowrap text-center"},Pe=["title"],Re={class:"px-4 py-2 whitespace-nowrap text-right"},Ve={class:"flex items-center justify-end gap-2"},Ee=["href"],Ue=["onClick"],qe={key:0},Ge={colspan:"7",class:"px-4 py-12 text-center"},He={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},Je={class:"text-sm text-slate-500 dark:text-slate-400"},Ke={class:"flex items-center gap-2"},Qe={class:"mt-12"},We={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Xe={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Ye={class:"flex items-center gap-3 mb-3"},Ze={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},et={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},tt={class:"flex items-center gap-3 mb-3"},st={class:"p-2.5 rounded-xl bg-amber-500/10 text-amber-400"},at={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},rt={class:"flex items-center gap-3 mb-3"},lt={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},ot={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},it={class:"flex items-center gap-3 mb-3"},dt={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},nt={key:0,class:"fixed inset-0 z-[100] overflow-y-auto"},ct={class:"flex min-h-screen items-center justify-center p-4"},ut={class:"relative w-full max-w-md rounded-2xl bg-white dark:bg-slate-900 p-6 border border-slate-200 dark:border-slate-800 shadow-2xl"},xt={class:"text-xs text-slate-500 dark:text-slate-400"},pt=["href"],bt={class:"flex justify-end gap-3 pt-2"},mt=["disabled"],Gt={__name:"Index",props:{invoices:Object,filters:Object,statuses:Array},setup(b){const w=b,y=v(w.filters.search||""),F=v(w.filters.status||""),I=v(!1),p=v(w.filters.sort||"invoice_date"),x=v(w.filters.direction||"desc"),j=Q(()=>{T.get(route("sales.invoices.index"),{search:y.value||void 0,status:F.value||void 0,sort:p.value,direction:x.value},{preserveState:!0,replace:!0})},300),m=o=>{p.value===o?x.value=x.value==="asc"?"desc":"asc":(p.value=o,x.value="asc"),j()};R([y,F],j);const M=o=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",issued:"bg-blue-500/20 text-blue-400 border-blue-500/30",paid:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[o]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",N=o=>({draft:"Invoice masih dalam draft, belum diterbitkan ke customer",issued:"Invoice sudah diterbitkan ke customer, menunggu pembayaran",paid:"Invoice sudah lunas dibayar oleh customer",cancelled:"Invoice dibatalkan dan tidak berlaku"})[o]||"",z=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",O=o=>{confirm("Apakah Anda yakin ingin menghapus invoice ini?")&&T.delete(route("sales.invoices.destroy",o),{onSuccess:()=>{}})},f=v(!1),k=V({file:null}),B=o=>{k.file=o.target.files[0]},P=()=>{k.post(route("sales.invoices.import"),{onSuccess:()=>{f.value=!1,k.reset()},forceFormData:!0})};return(o,t)=>(r(),d(C,null,[i(a(E),{title:"Sales Invoices"}),i(K,{title:"Sales Invoices"},{default:_(()=>[e("div",re,[e("div",le,[e("div",oe,[i(a(X),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),U(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>y.value=s),type:"search",placeholder:"Search Invoice number...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[q,y.value]])]),e("button",{onClick:t[1]||(t[1]=s=>I.value=!I.value),class:$(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",{"ring-2 ring-blue-500/50":I.value}])},[i(a(J),{class:"h-5 w-5"}),t[12]||(t[12]=l(" Filters ",-1))],2)]),e("div",ie,[e("a",{href:o.route("sales.invoices.export"),class:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-emerald-500/25 hover:bg-emerald-500 transition-all"},[i(a(Y),{class:"h-5 w-5"}),t[13]||(t[13]=l(" Export ",-1))],8,de),e("button",{onClick:t[2]||(t[2]=s=>f.value=!0),class:"inline-flex items-center gap-2 rounded-xl bg-amber-600 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-amber-500/25 hover:bg-amber-500 transition-all"},[i(a(Z),{class:"h-5 w-5"}),t[14]||(t[14]=l(" Import ",-1))])])]),e("div",ne,[e("div",ce,[e("table",ue,[e("thead",null,[e("tr",xe,[e("th",{onClick:t[3]||(t[3]=s=>m("invoice_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",pe,[t[15]||(t[15]=l(" Inv Number ",-1)),p.value==="invoice_number"?(r(),d("span",be,[x.value==="asc"?(r(),n(a(h),{key:0,class:"h-3 w-3"})):(r(),n(a(g),{key:1,class:"h-3 w-3"}))])):c("",!0)])]),e("th",{onClick:t[4]||(t[4]=s=>m("customer_po_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",me,[t[16]||(t[16]=l(" Ref (SO/PO) ",-1)),p.value==="customer_po_number"?(r(),d("span",ge,[x.value==="asc"?(r(),n(a(h),{key:0,class:"h-3 w-3"})):(r(),n(a(g),{key:1,class:"h-3 w-3"}))])):c("",!0)])]),e("th",{onClick:t[5]||(t[5]=s=>m("customer_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",he,[t[17]||(t[17]=l(" Customer ",-1)),p.value==="customer_name"?(r(),d("span",ve,[x.value==="asc"?(r(),n(a(h),{key:0,class:"h-3 w-3"})):(r(),n(a(g),{key:1,class:"h-3 w-3"}))])):c("",!0)])]),e("th",{onClick:t[6]||(t[6]=s=>m("invoice_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",fe,[t[18]||(t[18]=l(" Date ",-1)),p.value==="invoice_date"?(r(),d("span",ke,[x.value==="asc"?(r(),n(a(h),{key:0,class:"h-3 w-3"})):(r(),n(a(g),{key:1,class:"h-3 w-3"}))])):c("",!0)])]),e("th",{onClick:t[7]||(t[7]=s=>m("due_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",we,[t[19]||(t[19]=l(" Due Date ",-1)),p.value==="due_date"?(r(),d("span",ye,[x.value==="asc"?(r(),n(a(h),{key:0,class:"h-3 w-3"})):(r(),n(a(g),{key:1,class:"h-3 w-3"}))])):c("",!0)])]),e("th",{onClick:t[8]||(t[8]=s=>m("total")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",_e,[t[20]||(t[20]=l(" Total ",-1)),p.value==="total"?(r(),d("span",Ie,[x.value==="asc"?(r(),n(a(h),{key:0,class:"h-3 w-3"})):(r(),n(a(g),{key:1,class:"h-3 w-3"}))])):c("",!0)])]),e("th",{onClick:t[9]||(t[9]=s=>m("status")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",$e,[t[21]||(t[21]=l(" Status ",-1)),p.value==="status"?(r(),d("span",Ce,[x.value==="asc"?(r(),n(a(h),{key:0,class:"h-3 w-3"})):(r(),n(a(g),{key:1,class:"h-3 w-3"}))])):c("",!0)])]),t[22]||(t[22]=e("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions",-1))])]),e("tbody",De,[(r(!0),d(C,null,A(b.invoices.data,s=>(r(),d("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[e("td",Se,[e("div",Fe,[e("div",je,[i(a(S),{class:"h-5 w-5 text-emerald-400"})]),e("div",ze,u(s.invoice_number),1)])]),e("td",Te,[i(a(D),{href:o.route("sales.orders.show",s.sales_order_id),class:"text-sm font-medium text-blue-400 hover:underline"},{default:_(()=>[l(u(s.sales_order?.so_number),1)]),_:2},1032,["href"]),s.sales_order?.customer_po_number?(r(),d("div",Ae," PO: "+u(s.sales_order.customer_po_number),1)):c("",!0)]),e("td",Le,u(s.sales_order?.customer?.name),1),e("td",Me,u(z(s.invoice_date)),1),e("td",Ne,u(z(s.due_date)),1),e("td",Oe,u(a(W)(s.total)),1),e("td",Be,[e("span",{class:$(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium cursor-help",M(s.status)]),title:N(s.status)},u(s.status?.toUpperCase()),11,Pe)]),e("td",Re,[e("div",Ve,[e("a",{href:o.route("sales.invoices.print",s.id),target:"_blank",class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},[i(a(L),{class:"h-4 w-4"})],8,Ee),i(a(D),{href:o.route("sales.invoices.show",s.id),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:_(()=>[i(a(ee),{class:"h-4 w-4"})]),_:1},8,["href"]),s.status==="draft"?(r(),d("button",{key:0,onClick:gt=>O(s.id),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-red-500 hover:bg-red-500/10 transition-colors"},[i(a(te),{class:"h-4 w-4"})],8,Ue)):c("",!0)])])]))),128)),b.invoices.data.length===0?(r(),d("tr",qe,[e("td",Ge,[i(a(S),{class:"mx-auto h-12 w-12 text-slate-600"}),t[23]||(t[23]=e("h3",{class:"mt-2 text-sm font-medium text-slate-600 dark:text-slate-300"},"No invoices found",-1)),t[24]||(t[24]=e("p",{class:"mt-1 text-sm text-slate-500"},"Invoices are generated from Orders or Deliveries.",-1))])])):c("",!0)])])]),b.invoices.last_page>1?(r(),d("div",He,[e("p",Je," Showing "+u(b.invoices.from)+" to "+u(b.invoices.to)+" of "+u(b.invoices.total)+" invoices ",1),e("div",Ke,[(r(!0),d(C,null,A(b.invoices.links,s=>(r(),n(a(D),{key:s.label,href:s.url||"#",class:$(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-slate-900 dark:text-white":s.url?"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white":"text-white cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):c("",!0)]),e("div",Qe,[t[33]||(t[33]=e("div",{class:"flex items-center gap-2 mb-4 px-1"},[e("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),e("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Financial & Accounting Guide"),e("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),e("div",We,[e("div",Xe,[e("div",Ye,[e("div",Ze,[i(a(S),{class:"h-5 w-5"})]),t[25]||(t[25]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Revenue Tracking",-1))]),t[26]||(t[26]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Track "),e("strong",null,"Accounts Receivable (AR)"),l(" in real-time. Invoices stay as "),e("strong",null,"Unpaid"),l(" until a payment is recorded against them. ")],-1))]),e("div",et,[e("div",tt,[e("div",st,[i(a(se),{class:"h-5 w-5"})]),t[27]||(t[27]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Aging Reports",-1))]),t[28]||(t[28]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Monitor "),e("strong",null,"Due Dates"),l(" closely. Invoices approaching their limit are prioritized to ensure healthy cash flow for the business. ")],-1))]),e("div",at,[e("div",rt,[e("div",lt,[i(a(ae),{class:"h-5 w-5"})]),t[29]||(t[29]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Ledger Integration",-1))]),t[30]||(t[30]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Confirmed invoices automatically post to the "),e("strong",null,"General Ledger"),l(", reducing manual accounting work and potential human error. ")],-1))]),e("div",ot,[e("div",it,[e("div",dt,[i(a(L),{class:"h-5 w-5"})]),t[31]||(t[31]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Professional Invoicing",-1))]),t[32]||(t[32]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Print pixel-perfect "),e("strong",null,"Invoice PDF"),l(" documents to send to your customers. Includes tax breakdowns and payment instructions. ")],-1))])])])]),_:1}),i(H,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:_(()=>[f.value?(r(),d("div",nt,[e("div",ct,[e("div",{class:"fixed inset-0 bg-slate-900/75 backdrop-blur-sm",onClick:t[10]||(t[10]=s=>f.value=!1)}),e("div",ut,[t[36]||(t[36]=e("h3",{class:"text-lg font-bold text-slate-900 dark:text-white mb-4"},"Import Sales Invoices",-1)),e("form",{onSubmit:G(P,["prevent"]),class:"space-y-4"},[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Excel File (.xlsx)",-1)),e("input",{type:"file",onChange:B,accept:".xlsx,.xls,.csv",class:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-slate-800 dark:file:text-blue-400",required:""},null,32)]),e("div",xt,[e("a",{href:o.route("sales.invoices.template"),class:"text-blue-400 hover:underline"},"Download template",8,pt),t[35]||(t[35]=l(" for the correct format. ",-1))]),e("div",bt,[e("button",{type:"button",onClick:t[11]||(t[11]=s=>f.value=!1),class:"px-4 py-2 rounded-xl bg-slate-100 dark:bg-slate-800 text-sm font-semibold text-slate-600 dark:text-slate-300"},"Cancel"),e("button",{type:"submit",disabled:a(k).processing,class:"px-4 py-2 rounded-xl bg-blue-600 text-sm font-semibold text-white hover:bg-blue-500 disabled:opacity-50"},u(a(k).processing?"Importing...":"Import"),9,mt)])],32)])])])):c("",!0)]),_:1})],64))}};export{Gt as default};
