import{r as h,a as D,w as B,c as d,b as n,u as o,h as C,d as _,e as t,f as k,v as F,n as f,j as l,T as V,o as r,F as m,g as v,t as a,i as T,k as y,m as w,l as A}from"./app-nCr6V8nV.js";import{_ as W}from"./AppLayout-BF3Hzu-O.js";import{d as I}from"./debounce-BaLPdYs7.js";import{r as L}from"./MagnifyingGlassIcon-0AP7JulR.js";import{r as N}from"./FunnelIcon-ByWmz-6q.js";import{r as O}from"./CubeIcon-CEtOyRX5.js";import{r as q}from"./ArrowTrendingUpIcon-B_I47LBY.js";import{r as U}from"./ArrowTrendingDownIcon-DMymSGPW.js";import{r as H}from"./SunIcon-DDd9DrJk.js";import{r as P}from"./ClockIcon-CLt_PBr5.js";import{r as R}from"./ArrowPathIcon-D2kQPlxm.js";import{r as E}from"./InformationCircleIcon-faNvEtEc.js";import{r as G}from"./ArrowsRightLeftIcon-BEwws1PL.js";/* empty css            */import"./XMarkIcon-D6rweUQz.js";import"./WrenchScrewdriverIcon-h2FJDbiQ.js";import"./CheckBadgeIcon-DBlE1lYN.js";import"./ShoppingCartIcon-WcwMoklz.js";import"./TruckIcon-D9X79d1Q.js";const K={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},Q={class:"flex items-center gap-3"},J={class:"relative flex-1 sm:w-80"},X={key:0,class:"mb-6 rounded-2xl glass-card p-4"},Y={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Z=["value"],tt=["value"],et={class:"rounded-2xl glass-card overflow-hidden"},st={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},at={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},lt={class:"divide-y divide-slate-100 dark:divide-slate-800"},rt={class:"px-4 py-2 whitespace-nowrap"},ot={class:"text-sm text-slate-600 dark:text-slate-300"},dt={class:"text-xs text-slate-500"},nt={class:"px-4 py-2 whitespace-nowrap"},it={class:"flex items-center gap-3"},ct={class:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-slate-50 dark:bg-slate-800"},xt={class:"text-sm font-medium text-slate-900 dark:text-white"},ut={class:"text-xs text-slate-500 font-mono"},pt={class:"px-4 py-2 whitespace-nowrap"},mt={class:"text-sm text-slate-600 dark:text-slate-300"},bt={class:"px-4 py-2 whitespace-nowrap text-center"},gt={class:"px-4 py-2 whitespace-nowrap text-right"},ht={class:"flex items-center justify-end gap-1"},ft={class:"px-4 py-2 whitespace-nowrap text-right"},vt={class:"text-sm text-slate-600 dark:text-slate-300"},kt={class:"px-4 py-2 whitespace-nowrap"},yt={class:"text-sm text-slate-500 dark:text-slate-400"},wt={key:0},_t={colspan:"7",class:"px-6 py-12 text-center"},Tt={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},Mt={class:"text-sm text-slate-500 dark:text-slate-400"},$t={class:"flex items-center gap-2"},St={class:"mt-12"},jt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},zt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Dt={class:"flex items-center gap-3 mb-3"},Bt={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},Ct={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Ft={class:"flex items-center gap-3 mb-3"},Vt={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},At={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Wt={class:"flex items-center gap-3 mb-3"},It={class:"p-2.5 rounded-xl bg-amber-500/10 text-amber-400"},Lt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Nt={class:"flex items-center gap-3 mb-3"},Ot={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},oe={__name:"Index",props:{movements:Object,warehouses:Array,filters:Object,types:Array},setup(i){const b=i,x=h(b.filters.search||""),u=h(b.filters.type||""),p=h(b.filters.warehouse_id||""),g=h(!1),M=I(()=>{D.get("/inventory/movements",{search:x.value||void 0,type:u.value||void 0,warehouse_id:p.value||void 0},{preserveState:!0,replace:!0})},300);B([x,u,p],M);const $=()=>{x.value="",u.value="",p.value=""},S=c=>new Date(c).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),j=c=>{const e=b.types.find(s=>s.value===c);return e?e.label:c},z=(c,e)=>e>0?"text-emerald-400 bg-emerald-500/10":e<0?"text-red-400 bg-red-500/10":"text-slate-500 dark:text-slate-400 bg-slate-500/10";return(c,e)=>(r(),d(m,null,[n(o(C),{title:"Stock Movements"}),n(W,{title:"Stock Movements"},{default:_(()=>[t("div",K,[t("div",Q,[t("div",J,[n(o(L),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>x.value=s),type:"search",placeholder:"Search product...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[F,x.value]])]),t("button",{onClick:e[1]||(e[1]=s=>g.value=!g.value),class:f(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",{"ring-2 ring-blue-500/50":g.value}])},[n(o(N),{class:"h-5 w-5"}),e[4]||(e[4]=l(" Filters ",-1))],2)])]),n(V,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:_(()=>[g.value?(r(),d("div",X,[t("div",Y,[t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Movement Type",-1)),k(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>u.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[5]||(e[5]=t("option",{value:""},"All Types",-1)),(r(!0),d(m,null,v(i.types,s=>(r(),d("option",{key:s.value,value:s.value},a(s.label),9,Z))),128))],512),[[T,u.value]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Warehouse",-1)),k(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>p.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[7]||(e[7]=t("option",{value:""},"All Warehouses",-1)),(r(!0),d(m,null,v(i.warehouses,s=>(r(),d("option",{key:s.id,value:s.id},a(s.name),9,tt))),128))],512),[[T,p.value]])]),t("div",{class:"flex items-end"},[t("button",{onClick:$,class:"w-full rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-colors"}," Clear Filters ")])])])):y("",!0)]),_:1}),t("div",et,[t("div",st,[t("table",at,[e[11]||(e[11]=t("thead",null,[t("tr",{class:"border-b border-slate-200 dark:border-slate-700"},[t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Date"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Product"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Warehouse"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-center text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Type"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Qty"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Balance"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Reference")])],-1)),t("tbody",lt,[(r(!0),d(m,null,v(i.movements.data,s=>(r(),d("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",rt,[t("span",ot,a(S(s.created_at)),1),t("div",dt,a(s.created_by?.name),1)]),t("td",nt,[t("div",it,[t("div",ct,[n(o(O),{class:"h-5 w-5 text-slate-500 dark:text-slate-400"})]),t("div",null,[t("div",xt,a(s.product?.name),1),t("div",ut,a(s.product?.sku),1)])])]),t("td",pt,[t("span",mt,a(s.warehouse?.name),1)]),t("td",bt,[t("span",{class:f(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",z(s.type,s.qty)])},a(j(s.type)),3)]),t("td",gt,[t("div",ht,[s.qty>0?(r(),w(o(q),{key:0,class:"h-4 w-4 text-emerald-400"})):(r(),w(o(U),{key:1,class:"h-4 w-4 text-red-400"})),t("span",{class:f(["text-sm font-bold",s.qty>0?"text-emerald-400":"text-red-400"])},a(s.qty>0?"+":"")+a(Math.round(s.qty*100)/100),3)])]),t("td",ft,[t("span",vt,a(Math.round(s.balance_after*100)/100),1)]),t("td",kt,[t("span",yt,a(s.notes||"-"),1)])]))),128)),i.movements.data.length===0?(r(),d("tr",wt,[t("td",_t,[n(o(H),{class:"mx-auto h-12 w-12 text-slate-600"}),e[9]||(e[9]=t("h3",{class:"mt-2 text-sm font-medium text-slate-600 dark:text-slate-300"},"No movements found",-1)),e[10]||(e[10]=t("p",{class:"mt-1 text-sm text-slate-500"},"Stock movements will appear here when inventory changes.",-1))])])):y("",!0)])])]),i.movements.last_page>1?(r(),d("div",Tt,[t("p",Mt," Showing "+a(i.movements.from)+" to "+a(i.movements.to)+" of "+a(i.movements.total),1),t("div",$t,[(r(!0),d(m,null,v(i.movements.links,s=>(r(),w(o(A),{key:s.label,href:s.url||"#",class:f(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-slate-900 dark:text-white":s.url?"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white":"text-white cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):y("",!0)]),t("div",St,[e[20]||(e[20]=t("div",{class:"flex items-center gap-2 mb-4 px-1"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Inventory Traceability Guide"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",jt,[t("div",zt,[t("div",Dt,[t("div",Bt,[n(o(P),{class:"h-5 w-5"})]),e[12]||(e[12]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Audit Trail",-1))]),e[13]||(e[13]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Track every change to your inventory with a full history of "),t("strong",null,"In"),l(" and "),t("strong",null,"Out"),l(" movements. Know exactly who did what and when. ")],-1))]),t("div",Ct,[t("div",Ft,[t("div",Vt,[n(o(R),{class:"h-5 w-5"})]),e[14]||(e[14]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Movement Types",-1))]),e[15]||(e[15]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Identify movements by their source: "),t("strong",null,"Adjustment"),l(", "),t("strong",null,"PO Receive"),l(", "),t("strong",null,"SO Delivery"),l(", or "),t("strong",null,"Transfer"),l(". ")],-1))]),t("div",At,[t("div",Wt,[t("div",It,[n(o(E),{class:"h-5 w-5"})]),e[16]||(e[16]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Balance History",-1))]),e[17]||(e[17]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" The "),t("strong",null,"Balance"),l(" column shows the stock level "),t("em",null,"immediately after"),l(" the movement, helping you trace stock level changes over time. ")],-1))]),t("div",Lt,[t("div",Nt,[t("div",Ot,[n(o(G),{class:"h-5 w-5"})]),e[18]||(e[18]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Multi-Warehouse",-1))]),e[19]||(e[19]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Monitor stock flow across different "),t("strong",null,"Warehouses"),l(". Use the filter to see specific site activity accurately. ")],-1))])])])]),_:1})],64))}};export{oe as default};
