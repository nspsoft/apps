import{x as y,w as k,b as e,a as d,u as l,d as w,t as i,o as a,c as o,F as g,g as p,n as v,e as b,l as F,s as B,B as x}from"./app-CCf7_9Wg.js";import{P as C}from"./PortalLayout-Bpfc028n.js";import{r as L}from"./CalendarIcon-DkWoHyaw.js";import{r as N}from"./ChevronLeftIcon-CxAabha_.js";import{r as V}from"./ChevronRightIcon-JUmgFta1.js";import{r as E}from"./ClockIcon-D9nlDPF9.js";import{r as I}from"./ArrowRightIcon-DkB_jEY7.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-CejSBq9U.js";import"./SunIcon-Bj99B8bH.js";import"./ShoppingCartIcon-BGHNwEaG.js";import"./TruckIcon-CP1ruPvc.js";import"./FolderIcon-Bo8nAsnd.js";import"./ArchiveBoxIcon-KcY9O8SP.js";import"./QuestionMarkCircleIcon-BP4TrS0e.js";import"./ArrowRightOnRectangleIcon-GTCUtOuW.js";const j={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8"},Y={class:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-3"},A={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},O={class:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden"},P={class:"p-6 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between bg-slate-50 dark:bg-slate-700/50"},W={class:"text-lg font-bold text-slate-900 dark:text-white"},q={class:"p-4"},z={class:"grid grid-cols-7 gap-1 mb-2"},U={class:"grid grid-cols-7 gap-1"},G={key:1,class:"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex gap-0.5"},H={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden flex flex-col"},J={class:"p-6 border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50"},K={class:"font-bold text-slate-900 dark:text-white flex items-center gap-2"},Q={class:"flex-1 overflow-auto divide-y divide-slate-100 dark:divide-slate-700"},R={class:"flex items-center justify-between"},X={class:"font-bold text-slate-800 dark:text-white text-sm group-hover:text-indigo-600"},Z={class:"text-xs text-slate-500"},ee={key:0,class:"px-6 py-12 text-center text-slate-400 text-sm"},be={__name:"Index",props:{events:Array,upcoming:Array,currentMonth:String,monthLabel:String},setup(c){const h=c,_=new Date,u=x(()=>{const[r,t]=h.currentMonth.split("-");return new Date(r,t-1,1)}),D=x(()=>{const r=u.value.getFullYear(),t=u.value.getMonth();return new Date(r,t+1,0).getDate()}),S=x(()=>u.value.getDay()),M=x(()=>{const r=[];for(let t=0;t<S.value;t++)r.push({day:null,events:[]});for(let t=1;t<=D.value;t++){const s=`${h.currentMonth}-${String(t).padStart(2,"0")}`,n=h.events.filter(m=>m.date===s);r.push({day:t,date:s,events:n,isToday:s===_.toISOString().split("T")[0]})}return r}),f=r=>{const t=u.value,s=new Date(t.getFullYear(),t.getMonth()+r,1),n=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}`;B.get(route("portal.schedule.index"),{month:n},{preserveState:!0})},$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return(r,t)=>(a(),y(C,{title:"Delivery Schedule"},{default:k(()=>[e("div",j,[e("div",null,[e("h1",Y,[d(l(L),{class:"w-7 h-7 text-indigo-500"}),t[2]||(t[2]=w(" Delivery Schedule ",-1))]),t[3]||(t[3]=e("p",{class:"text-slate-500"},"View your upcoming deliveries and expected dates.",-1))])]),e("div",A,[e("div",O,[e("div",P,[e("button",{onClick:t[0]||(t[0]=s=>f(-1)),class:"p-2 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition-colors"},[d(l(N),{class:"w-5 h-5 text-slate-600 dark:text-slate-300"})]),e("h2",W,i(c.monthLabel),1),e("button",{onClick:t[1]||(t[1]=s=>f(1)),class:"p-2 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition-colors"},[d(l(V),{class:"w-5 h-5 text-slate-600 dark:text-slate-300"})])]),e("div",q,[e("div",z,[(a(),o(g,null,p($,s=>e("div",{key:s,class:"text-center text-xs font-bold text-slate-500 py-2"},i(s),1)),64))]),e("div",U,[(a(!0),o(g,null,p(M.value,(s,n)=>(a(),o("div",{key:n,class:v(["aspect-square p-1 rounded-lg relative",{"bg-indigo-100 dark:bg-indigo-900/30":s.isToday,"hover:bg-slate-50 dark:hover:bg-slate-700/30":s.day}])},[s.day?(a(),o("span",{key:0,class:v(["text-sm font-medium",s.isToday?"text-indigo-600 dark:text-indigo-400":"text-slate-700 dark:text-slate-300"])},i(s.day),3)):b("",!0),s.events.length>0?(a(),o("div",G,[(a(!0),o(g,null,p(s.events.slice(0,3),(m,T)=>(a(),o("span",{key:T,class:v(["w-1.5 h-1.5 rounded-full",m.type==="expected"?"bg-purple-500":"bg-orange-500"])},null,2))),128))])):b("",!0)],2))),128))])]),t[4]||(t[4]=e("div",{class:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 flex gap-6"},[e("div",{class:"flex items-center gap-2"},[e("span",{class:"w-3 h-3 rounded-full bg-purple-500"}),e("span",{class:"text-xs text-slate-600 dark:text-slate-400"},"Expected Delivery")]),e("div",{class:"flex items-center gap-2"},[e("span",{class:"w-3 h-3 rounded-full bg-orange-500"}),e("span",{class:"text-xs text-slate-600 dark:text-slate-400"},"Dispatched")])],-1))]),e("div",H,[e("div",J,[e("h3",K,[d(l(E),{class:"w-5 h-5 text-indigo-500"}),t[5]||(t[5]=w(" Upcoming (14 Days) ",-1))])]),e("div",Q,[(a(!0),o(g,null,p(c.upcoming,s=>(a(),y(l(F),{key:s.id,href:r.route("portal.purchase-orders.show",s.id),class:"block px-6 py-4 hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors group"},{default:k(()=>[e("div",R,[e("div",null,[e("p",X,i(s.po_number),1),e("p",Z," Expected: "+i(new Date(s.expected_date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})),1)]),d(l(I),{class:"w-4 h-4 text-slate-400 group-hover:text-indigo-600"})])]),_:2},1032,["href"]))),128)),c.upcoming.length===0?(a(),o("div",ee," No upcoming deliveries ")):b("",!0)])])])]),_:1}))}};export{be as default};
