import{m,d as f,e as t,b as c,u as i,j as x,o as r,c as d,k as n,l as b,n as g,t as u,F as h,g as k,E as M,a as p}from"./app-CVskXPlE.js";import{P as $}from"./PortalLayout-BkiM_5od.js";import{e as v,a as D}from"./SunIcon-CH0hNqUR.js";import{r as S}from"./CheckIcon-DIgNtzZ_.js";import{r as j}from"./ArrowRightIcon-C3Cq-q0I.js";import{r as L}from"./DocumentIcon-px2s-vbo.js";import{r as V}from"./TruckIcon-RPY9s92d.js";import{r as A}from"./ShoppingCartIcon-C3CFwejV.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-B0wnv3NP.js";import"./CalendarIcon-Dyc_ZYpx.js";import"./FolderIcon-pgxc5W3u.js";import"./ArchiveBoxIcon-B1WjcrKy.js";import"./ClipboardDocumentListIcon-Bf20xCAi.js";import"./QuestionMarkCircleIcon-BHgTsy9e.js";import"./ChevronRightIcon-CV7D925X.js";import"./ChevronLeftIcon-DvxXJOqN.js";import"./ArrowRightOnRectangleIcon-DcMWrpxL.js";const B={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8"},T={class:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-3"},E={class:"flex items-center gap-3"},F={class:"flex gap-2 mb-6"},H={key:0,class:"px-1.5 py-0.5 rounded-full text-xs bg-red-500 text-white"},I={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden"},P={class:"divide-y divide-slate-100 dark:divide-slate-700"},R={class:"flex items-start gap-4"},z={class:"flex-1 min-w-0"},J={class:"flex items-start justify-between gap-4"},O={class:"text-sm text-slate-600 dark:text-slate-400 mt-0.5"},U={class:"text-xs text-slate-400 shrink-0"},q={class:"flex items-center gap-3 mt-3"},G=["onClick"],K={key:0,class:"w-2 h-2 rounded-full bg-indigo-500 shrink-0 mt-2"},Q={key:0,class:"py-16 text-center"},W={key:0,class:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 flex items-center justify-center"},X={class:"flex gap-1"},he={__name:"Index",props:{notifications:Object,unread_count:Number,filter:String},setup(a){const _=o=>{switch(o){case"new_po":return A;case"delivery_received":return V;case"invoice_paid":return D;default:return L}},w=(o,s)=>{if(s)return"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400";const e={indigo:"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400",emerald:"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400",green:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",orange:"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400"};return e[o]||e.indigo},y=o=>{p.post(route("portal.notifications.read",o),{},{preserveScroll:!0})},C=()=>{p.post(route("portal.notifications.mark-all-read"),{},{preserveScroll:!0})},N=o=>{const s=new Date(o),l=new Date-s;return l<6e4?"Just now":l<36e5?Math.floor(l/6e4)+"m ago":l<864e5?Math.floor(l/36e5)+"h ago":l<6048e5?Math.floor(l/864e5)+"d ago":s.toLocaleDateString()};return(o,s)=>(r(),m($,{title:"Notifications"},{default:f(()=>[t("div",B,[t("div",null,[t("h1",T,[c(i(v),{class:"w-7 h-7 text-indigo-500"}),s[0]||(s[0]=x(" Notifications ",-1))]),s[1]||(s[1]=t("p",{class:"text-slate-500"},"Stay updated with your latest activities.",-1))]),t("div",E,[a.unread_count>0?(r(),d("button",{key:0,onClick:C,class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-colors"},[c(i(S),{class:"w-4 h-4"}),s[2]||(s[2]=x(" Mark all as read ",-1))])):n("",!0)])]),t("div",F,[c(i(b),{href:o.route("portal.notifications.index"),class:g(["px-4 py-2 rounded-xl text-sm font-semibold transition-colors",a.filter==="all"?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300"])},{default:f(()=>[...s[3]||(s[3]=[x(" All ",-1)])]),_:1},8,["href","class"]),c(i(b),{href:o.route("portal.notifications.index",{filter:"unread"}),class:g(["px-4 py-2 rounded-xl text-sm font-semibold transition-colors flex items-center gap-2",a.filter==="unread"?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300"])},{default:f(()=>[s[4]||(s[4]=x(" Unread ",-1)),a.unread_count>0?(r(),d("span",H,u(a.unread_count),1)):n("",!0)]),_:1},8,["href","class"])]),t("div",I,[t("div",P,[(r(!0),d(h,null,k(a.notifications.data,e=>(r(),d("div",{key:e.id,class:g(["p-4 hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",{"bg-indigo-50/50 dark:bg-indigo-900/10":!e.read_at}])},[t("div",R,[t("div",{class:g(["p-2.5 rounded-xl shrink-0",w(e.data.color,e.read_at)])},[(r(),m(M(_(e.data.type)),{class:"w-5 h-5"}))],2),t("div",z,[t("div",J,[t("div",null,[t("h3",{class:g(["font-bold text-slate-900 dark:text-white",{"font-extrabold":!e.read_at}])},u(e.data.title),3),t("p",O,u(e.data.message),1)]),t("span",U,u(N(e.created_at)),1)]),t("div",q,[e.data.action_url?(r(),m(i(b),{key:0,href:e.data.action_url,class:"inline-flex items-center gap-1 text-sm font-semibold text-indigo-600 hover:text-indigo-800"},{default:f(()=>[x(u(e.data.action_text||"View")+" ",1),c(i(j),{class:"w-3 h-3"})]),_:2},1032,["href"])):n("",!0),e.read_at?n("",!0):(r(),d("button",{key:1,onClick:l=>y(e.id),class:"text-sm text-slate-500 hover:text-slate-700"}," Mark as read ",8,G))])]),e.read_at?n("",!0):(r(),d("div",K))])],2))),128)),a.notifications.data.length===0?(r(),d("div",Q,[c(i(v),{class:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s[5]||(s[5]=t("p",{class:"text-slate-500"},"No notifications yet.",-1))])):n("",!0)]),a.notifications.links&&a.notifications.links.length>3?(r(),d("div",W,[t("div",X,[(r(!0),d(h,null,k(a.notifications.links,(e,l)=>(r(),m(i(b),{key:l,href:e.url||"#",innerHTML:e.label,class:g(["px-3 py-1 rounded-lg text-xs font-medium transition-colors",[e.active?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",e.url?"":"opacity-50 cursor-not-allowed"]])},null,8,["href","innerHTML","class"]))),128))])])):n("",!0)])]),_:1}))}};export{he as default};
