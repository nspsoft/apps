import{p as M,c as n,b as u,u as a,h as N,d as P,e as t,l as A,j as f,t as d,B as G,n as T,o,F as v,g as D,m as B,E as U,f as g,k as x,a2 as h,v as O,H as R,D as z,r as _,R as H}from"./app-nCr6V8nV.js";import{e as J,_ as W}from"./AppLayout-BF3Hzu-O.js";import{r as q}from"./ArrowDownTrayIcon-BVJC4eNB.js";import{r as w}from"./CheckCircleIcon-BmfGIxsn.js";import{r as y}from"./XCircleIcon-mA_DtdHX.js";import{r as V}from"./ExclamationCircleIcon-CwBk-Nkl.js";import{r as Q}from"./ClipboardDocumentCheckIcon-DHzukB6R.js";import{r as X}from"./ChevronUpIcon-DidV-OjW.js";import{r as Y}from"./PencilSquareIcon-B6Kgx5JJ.js";/* empty css            */import"./XMarkIcon-D6rweUQz.js";import"./SunIcon-DDd9DrJk.js";import"./WrenchScrewdriverIcon-h2FJDbiQ.js";import"./CheckBadgeIcon-DBlE1lYN.js";import"./ShoppingCartIcon-WcwMoklz.js";import"./CubeIcon-CEtOyRX5.js";import"./TruckIcon-D9X79d1Q.js";const Z={class:"max-w-7xl mx-auto"},tt={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8"},et={class:"flex items-center gap-3"},st={class:"mb-8 grid grid-cols-1 md:grid-cols-4 gap-4"},at={class:"glass-card p-6 rounded-2xl flex flex-col items-center justify-center text-center"},lt={class:"text-3xl font-bold text-slate-900 dark:text-white mb-1"},rt={class:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2 mb-2 overflow-hidden"},dt={class:"glass-card p-6 rounded-2xl flex items-center justify-between border-l-4 border-emerald-500"},ot={class:"text-2xl font-bold text-emerald-600 dark:text-emerald-400"},nt={class:"glass-card p-6 rounded-2xl flex items-center justify-between border-l-4 border-red-500"},it={class:"text-2xl font-bold text-red-600 dark:text-red-400"},ut={class:"glass-card p-6 rounded-2xl flex items-center justify-between border-l-4 border-slate-400"},ct={class:"text-2xl font-bold text-slate-600 dark:text-slate-400"},xt={class:"space-y-4"},bt=["onClick"],gt={class:"flex items-center gap-3"},mt={class:"text-lg font-bold text-slate-900 dark:text-white"},pt={class:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300"},ft={class:"border-t border-slate-100 dark:border-slate-800"},kt={class:"flex flex-col md:flex-row gap-4"},vt={class:"shrink-0 pt-1"},ht={class:"flex-1"},_t={class:"flex items-start justify-between gap-4 mb-2"},wt={class:"flex items-center gap-2 mb-1"},yt={class:"text-xs font-mono font-bold text-slate-400"},jt={class:"text-xs px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-800 text-slate-500"},Ct={class:"text-base font-bold text-slate-900 dark:text-white"},St={class:"flex items-center gap-2 shrink-0"},$t=["onClick"],Pt=["onClick"],Tt=["onClick"],Dt={class:"text-sm text-slate-600 dark:text-slate-400 mb-3"},Bt={class:"bg-slate-50 dark:bg-slate-900 rounded-lg p-3 text-sm border border-slate-100 dark:border-slate-800"},Ut={class:"text-slate-600 dark:text-slate-400"},Vt={key:0,class:"mt-3 flex items-start gap-2 text-xs text-slate-500"},Et={key:0,class:"flex-1 bg-amber-50 dark:bg-amber-500/10 text-amber-700 dark:text-amber-400 p-2 rounded border border-amber-100 dark:border-amber-500/20"},It={key:1,class:"shrink-0 flex flex-col items-end"},Ft={key:1,class:"mt-4 p-4 bg-white dark:bg-slate-950 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg animate-in fade-in slide-in-from-top-2"},Lt={class:"mb-3"},Kt={class:"flex gap-2"},Mt={class:"flex items-center gap-2 cursor-pointer"},Nt={class:"flex items-center gap-2 cursor-pointer"},At={class:"flex items-center gap-2 cursor-pointer"},Gt={class:"block text-xs font-bold text-slate-500 mb-1"},Ot={key:0,class:"text-red-500"},Rt={class:"flex justify-end gap-2"},zt=["onClick"],ie={__name:"Index",props:{groupedScenarios:Object,stats:Object},setup(c){const j=c,m=_("Sales"),E=l=>{m.value=m.value===l?null:l},I=l=>{switch(l){case"passed":return"text-emerald-500 bg-emerald-50 dark:bg-emerald-500/10 border-emerald-200 dark:border-emerald-500/20";case"failed":return"text-red-500 bg-red-50 dark:bg-red-500/10 border-red-200 dark:border-red-500/20";default:return"text-slate-500 bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700"}},F=l=>{switch(l){case"passed":return w;case"failed":return y;default:return V}},p=_(null),C=_(null),r=M({notes:"",status:""}),S=(l,e=null)=>{p.value=l.id,r.notes=l.notes||"",r.status=e||l.status,H(()=>{C.value})},k=(l,e=null)=>{if(e==="failed"){S(l,"failed");return}e&&(r.status=e),r.put(route("settings.uat.update",l.id),{preserveScroll:!0,onSuccess:()=>{p.value=null}})},L=()=>{p.value=null,r.reset()},K=z(()=>j.stats.progress>=100?"bg-emerald-500":j.stats.progress>=50?"bg-blue-500":"bg-amber-500");return(l,e)=>(o(),n(v,null,[u(a(N),{title:"Pengujian Sistem (UAT)"}),u(W,{title:"Pengujian Sistem (UAT)"},{default:P(()=>[t("div",Z,[t("div",tt,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-2xl font-black text-slate-900 dark:text-white uppercase tracking-tight"},"Pengujian Sistem (UAT)"),t("p",{class:"text-sm text-slate-500"},"Pantau dan verifikasi kesiapan fitur sistem JICOS ERP.")],-1)),t("div",et,[u(a(A),{href:l.route("settings.uat.export"),class:"px-5 py-2.5 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold text-sm shadow-lg shadow-slate-900/20 dark:shadow-white/10 hover:scale-105 transition-all flex items-center gap-2"},{default:P(()=>[u(a(q),{class:"h-4 w-4"}),e[4]||(e[4]=f(" Export Laporan ",-1))]),_:1},8,["href"])])]),t("div",st,[t("div",at,[t("div",lt,d(c.stats.progress)+"%",1),t("div",rt,[t("div",{class:T(["h-full rounded-full transition-all duration-500",K.value]),style:G({width:`${c.stats.progress}%`})},null,6)]),e[6]||(e[6]=t("div",{class:"text-xs text-slate-500 uppercase font-bold tracking-wider"},"Progres Total",-1))]),t("div",dt,[t("div",null,[t("div",ot,d(c.stats.passed),1),e[7]||(e[7]=t("div",{class:"text-xs text-slate-500 uppercase font-bold tracking-wider"},"Lulus (Passed)",-1))]),u(a(w),{class:"h-8 w-8 text-emerald-500/20"})]),t("div",nt,[t("div",null,[t("div",it,d(c.stats.failed),1),e[8]||(e[8]=t("div",{class:"text-xs text-slate-500 uppercase font-bold tracking-wider"},"Gagal (Failed)",-1))]),u(a(y),{class:"h-8 w-8 text-red-500/20"})]),t("div",ut,[t("div",null,[t("div",ct,d(c.stats.pending),1),e[9]||(e[9]=t("div",{class:"text-xs text-slate-500 uppercase font-bold tracking-wider"},"Belum Diuji",-1))]),u(a(V),{class:"h-8 w-8 text-slate-500/20"})])]),t("div",xt,[(o(!0),n(v,null,D(c.groupedScenarios,($,b)=>(o(),n("div",{key:b,class:"glass-card rounded-2xl overflow-hidden"},[t("button",{onClick:s=>E(b),class:"w-full flex items-center justify-between p-5 bg-slate-50/50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"},[t("div",gt,[u(a(Q),{class:"h-6 w-6 text-blue-500"}),t("h3",mt,"Modul "+d(b),1),t("span",pt,d($.length)+" Skenario ",1)]),(o(),B(U(m.value===b?a(X):a(J)),{class:"h-5 w-5 text-slate-400"}))],8,bt),g(t("div",ft,[(o(!0),n(v,null,D($,s=>(o(),n("div",{key:s.id,class:"p-5 border-b last:border-0 border-slate-100 dark:border-slate-800 hover:bg-slate-50/30 dark:hover:bg-slate-800/30 transition-colors"},[t("div",kt,[t("div",vt,[t("div",{class:T(["w-8 h-8 rounded-full flex items-center justify-center border-2 transition-colors",I(s.status).replace("text-","border-").replace("bg-","text-")])},[(o(),B(U(F(s.status)),{class:"h-5 w-5"}))],2)]),t("div",ht,[t("div",_t,[t("div",null,[t("div",wt,[t("span",yt,d(s.code),1),t("span",jt,d(s.feature),1)]),t("h4",Ct,d(s.title),1)]),t("div",St,[s.status!=="passed"?(o(),n("button",{key:0,onClick:i=>k(s,"passed"),class:"p-2 rounded-lg bg-emerald-50 text-emerald-600 hover:bg-emerald-100 dark:bg-emerald-500/10 dark:text-emerald-400 dark:hover:bg-emerald-500/20 transition-colors",title:"Tandai Lulus (Passed)"},[u(a(w),{class:"h-5 w-5"})],8,$t)):x("",!0),s.status!=="failed"?(o(),n("button",{key:1,onClick:i=>k(s,"failed"),class:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-500/10 dark:text-red-400 dark:hover:bg-red-500/20 transition-colors",title:"Tandai Gagal (Failed) & Isi Keterangan"},[u(a(y),{class:"h-5 w-5"})],8,Pt)):x("",!0),t("button",{onClick:i=>S(s),class:"p-2 rounded-lg bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700 transition-colors",title:"Edit Keterangan"},[u(a(Y),{class:"h-5 w-5"})],8,Tt)])]),t("p",Dt,d(s.description),1),t("div",Bt,[e[10]||(e[10]=t("span",{class:"font-bold text-slate-700 dark:text-slate-300 block mb-1"},"Kriteria Penerimaan (Acceptance Criteria):",-1)),t("span",Ut,d(s.acceptance_criteria),1)]),s.notes||s.tested_by?(o(),n("div",Vt,[s.notes?(o(),n("div",Et,[e[11]||(e[11]=t("strong",null,"Keterangan:",-1)),f(" "+d(s.notes),1)])):x("",!0),s.tested_by?(o(),n("div",It,[t("span",null,[e[12]||(e[12]=f("Diuji oleh: ",-1)),t("strong",null,d(s.tester?.name||"Unknown"),1)]),t("span",null,d(new Date(s.tested_at).toLocaleString("id-ID")),1)])):x("",!0)])):x("",!0),p.value===s.id?(o(),n("div",Ft,[t("div",Lt,[e[16]||(e[16]=t("label",{class:"block text-xs font-bold text-slate-500 mb-1"},"Status Pengujian",-1)),t("div",Kt,[t("label",Mt,[g(t("input",{type:"radio","onUpdate:modelValue":e[0]||(e[0]=i=>a(r).status=i),value:"passed",class:"text-emerald-500 focus:ring-emerald-500"},null,512),[[h,a(r).status]]),e[13]||(e[13]=t("span",{class:"text-sm text-slate-700 dark:text-slate-300"},"Lulus",-1))]),t("label",Nt,[g(t("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=i=>a(r).status=i),value:"failed",class:"text-red-500 focus:ring-red-500"},null,512),[[h,a(r).status]]),e[14]||(e[14]=t("span",{class:"text-sm text-slate-700 dark:text-slate-300"},"Gagal",-1))]),t("label",At,[g(t("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=i=>a(r).status=i),value:"pending",class:"text-slate-500 focus:ring-slate-500"},null,512),[[h,a(r).status]]),e[15]||(e[15]=t("span",{class:"text-sm text-slate-700 dark:text-slate-300"},"Belum Diuji",-1))])])]),t("label",Gt,[e[17]||(e[17]=f(" Keterangan / Catatan ",-1)),a(r).status==="failed"?(o(),n("span",Ot,"* (Wajib diisi jika Gagal)")):x("",!0)]),g(t("textarea",{ref_for:!0,ref_key:"noteInput",ref:C,"onUpdate:modelValue":e[3]||(e[3]=i=>a(r).notes=i),class:"w-full rounded-lg border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-sm focus:ring-blue-500 mb-3",rows:"3",placeholder:"Tuliskan hasil pengujian atau alasan kegagalan..."},null,512),[[O,a(r).notes]]),t("div",Rt,[t("button",{onClick:L,class:"px-3 py-1.5 rounded-lg text-sm text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"}," Batal "),t("button",{onClick:i=>k(s),class:"px-3 py-1.5 rounded-lg text-sm bg-blue-600 text-white hover:bg-blue-500 transition-colors font-medium shadow-lg shadow-blue-500/20"}," Simpan Hasil ",8,zt)])])):x("",!0)])])]))),128))],512),[[R,m.value===b]])]))),128))])])]),_:1})],64))}};export{ie as default};
