import{m,d as f,e as t,b as c,u as n,j as x,o as r,c as d,k as i,l as b,n as g,t as u,F as h,g as k,E as $,a as p}from"./app-BszLOBk4.js";import{_ as M}from"./PortalLayout-BaO0Obhb.js";import{e as v,b as D}from"./SunIcon-Cuvaf8BH.js";import{r as S}from"./CheckIcon-DTE5gWlB.js";import{r as j}from"./ArrowRightIcon-D7c9C17n.js";import{r as V}from"./DocumentIcon-CuebCcd0.js";import{r as A}from"./TruckIcon-oft1N8YT.js";import{r as B}from"./ShoppingCartIcon-DauUMbc7.js";/* empty css            */import"./XMarkIcon-CxWQtgCH.js";import"./CalendarIcon-CEQpBiIp.js";import"./FolderIcon-5UwQyj-K.js";import"./ArchiveBoxIcon-Db2xkoSZ.js";import"./ClipboardDocumentListIcon-C6R6Fsfu.js";import"./QuestionMarkCircleIcon-DApLCLlS.js";import"./ArrowRightOnRectangleIcon-CdQRvKva.js";const L={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8"},T={class:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-3"},E={class:"flex items-center gap-3"},F={class:"flex gap-2 mb-6"},H={key:0,class:"px-1.5 py-0.5 rounded-full text-xs bg-red-500 text-white"},I={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden"},R={class:"divide-y divide-slate-100 dark:divide-slate-700"},z={class:"flex items-start gap-4"},J={class:"flex-1 min-w-0"},O={class:"flex items-start justify-between gap-4"},U={class:"text-sm text-slate-600 dark:text-slate-400 mt-0.5"},q={class:"text-xs text-slate-400 shrink-0"},G={class:"flex items-center gap-3 mt-3"},K=["onClick"],P={key:0,class:"w-2 h-2 rounded-full bg-indigo-500 shrink-0 mt-2"},Q={key:0,class:"py-16 text-center"},W={key:0,class:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 flex items-center justify-center"},X={class:"flex gap-1"},me={__name:"Index",props:{notifications:Object,unread_count:Number,filter:String},setup(a){const _=o=>{switch(o){case"new_po":return B;case"delivery_received":return A;case"invoice_paid":return D;default:return V}},w=(o,s)=>{if(s)return"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400";const e={indigo:"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400",emerald:"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400",green:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",orange:"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400"};return e[o]||e.indigo},y=o=>{p.post(route("portal.notifications.read",o),{},{preserveScroll:!0})},C=()=>{p.post(route("portal.notifications.mark-all-read"),{},{preserveScroll:!0})},N=o=>{const s=new Date(o),l=new Date-s;return l<6e4?"Just now":l<36e5?Math.floor(l/6e4)+"m ago":l<864e5?Math.floor(l/36e5)+"h ago":l<6048e5?Math.floor(l/864e5)+"d ago":s.toLocaleDateString()};return(o,s)=>(r(),m(M,{title:"Notifications"},{default:f(()=>[t("div",L,[t("div",null,[t("h1",T,[c(n(v),{class:"w-7 h-7 text-indigo-500"}),s[0]||(s[0]=x(" Notifications ",-1))]),s[1]||(s[1]=t("p",{class:"text-slate-500"},"Stay updated with your latest activities.",-1))]),t("div",E,[a.unread_count>0?(r(),d("button",{key:0,onClick:C,class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-colors"},[c(n(S),{class:"w-4 h-4"}),s[2]||(s[2]=x(" Mark all as read ",-1))])):i("",!0)])]),t("div",F,[c(n(b),{href:o.route("portal.notifications.index"),class:g(["px-4 py-2 rounded-xl text-sm font-semibold transition-colors",a.filter==="all"?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300"])},{default:f(()=>[...s[3]||(s[3]=[x(" All ",-1)])]),_:1},8,["href","class"]),c(n(b),{href:o.route("portal.notifications.index",{filter:"unread"}),class:g(["px-4 py-2 rounded-xl text-sm font-semibold transition-colors flex items-center gap-2",a.filter==="unread"?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300"])},{default:f(()=>[s[4]||(s[4]=x(" Unread ",-1)),a.unread_count>0?(r(),d("span",H,u(a.unread_count),1)):i("",!0)]),_:1},8,["href","class"])]),t("div",I,[t("div",R,[(r(!0),d(h,null,k(a.notifications.data,e=>(r(),d("div",{key:e.id,class:g(["p-4 hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",{"bg-indigo-50/50 dark:bg-indigo-900/10":!e.read_at}])},[t("div",z,[t("div",{class:g(["p-2.5 rounded-xl shrink-0",w(e.data.color,e.read_at)])},[(r(),m($(_(e.data.type)),{class:"w-5 h-5"}))],2),t("div",J,[t("div",O,[t("div",null,[t("h3",{class:g(["font-bold text-slate-900 dark:text-white",{"font-extrabold":!e.read_at}])},u(e.data.title),3),t("p",U,u(e.data.message),1)]),t("span",q,u(N(e.created_at)),1)]),t("div",G,[e.data.action_url?(r(),m(n(b),{key:0,href:e.data.action_url,class:"inline-flex items-center gap-1 text-sm font-semibold text-indigo-600 hover:text-indigo-800"},{default:f(()=>[x(u(e.data.action_text||"View")+" ",1),c(n(j),{class:"w-3 h-3"})]),_:2},1032,["href"])):i("",!0),e.read_at?i("",!0):(r(),d("button",{key:1,onClick:l=>y(e.id),class:"text-sm text-slate-500 hover:text-slate-700"}," Mark as read ",8,K))])]),e.read_at?i("",!0):(r(),d("div",P))])],2))),128)),a.notifications.data.length===0?(r(),d("div",Q,[c(n(v),{class:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s[5]||(s[5]=t("p",{class:"text-slate-500"},"No notifications yet.",-1))])):i("",!0)]),a.notifications.links&&a.notifications.links.length>3?(r(),d("div",W,[t("div",X,[(r(!0),d(h,null,k(a.notifications.links,(e,l)=>(r(),m(n(b),{key:l,href:e.url||"#",innerHTML:e.label,class:g(["px-3 py-1 rounded-lg text-xs font-medium transition-colors",[e.active?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",e.url?"":"opacity-50 cursor-not-allowed"]])},null,8,["href","innerHTML","class"]))),128))])])):i("",!0)])]),_:1}))}};export{me as default};
