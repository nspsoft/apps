import{x as f,w as u,b as e,a as l,u as d,l as x,t as r,n as D,o as a,c as i,F as N,g as S,e as g,d as c,j as P,v as I,s as p,m as w}from"./app-B5d77gTM.js";import{P as O}from"./PortalLayout-DmZCuKmt.js";import{r as R}from"./ArrowLeftIcon-Dt-aboG2.js";import{r as k}from"./CheckCircleIcon-j_tksVyl.js";import{r as v}from"./XCircleIcon-ATOYXPii.js";import{r as $}from"./TruckIcon-Y5UkbuZE.js";import{r as y}from"./SunIcon-DFlRWVtv.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-B4bnmJPQ.js";import"./ShoppingCartIcon-CqxvSC7y.js";import"./CalendarIcon-BO7qrlHT.js";import"./FolderIcon-CkUaY293.js";import"./ArchiveBoxIcon-DXaPRPlt.js";import"./QuestionMarkCircleIcon-BYaxaoYN.js";import"./ChevronRightIcon-BcudzpSG.js";import"./ChevronLeftIcon-DmaPq_JC.js";import"./ArrowRightOnRectangleIcon-UYStIhJ6.js";const L={class:"max-w-4xl mx-auto"},B={class:"flex items-center gap-4 mb-6"},T={class:"text-2xl font-bold text-slate-900 dark:text-white"},V={class:"text-sm text-slate-500"},q={class:"ml-auto"},z={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},A={class:"lg:col-span-2 space-y-6"},F={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden"},E={class:"p-4"},M={class:"h-12 w-12 rounded-lg bg-slate-100 dark:bg-slate-700 flex items-center justify-center shrink-0"},U={class:"text-xs font-bold text-slate-500"},J={class:"flex-1 min-w-0"},K={class:"font-bold text-slate-900 dark:text-white"},Y={class:"text-sm text-slate-500"},G={class:"text-right"},H={class:"font-bold text-slate-900 dark:text-white"},Q={class:"text-sm text-slate-500"},W={class:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50 flex justification-between items-center text-right justify-end gap-3"},X={class:"text-lg font-bold text-indigo-600"},Z={key:0,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-4"},_={class:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-line"},ee={class:"space-y-6"},te={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-4"},se={class:"space-y-3 text-sm"},re={class:"font-medium text-slate-900 dark:text-white"},oe={class:"text-slate-500 text-xs mt-1"},de={key:0,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-4"},ae={class:"space-y-3"},le={key:1,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-4"},ie={key:2,class:"bg-slate-50 dark:bg-slate-700/50 border border-slate-100 dark:border-slate-600 rounded-2xl p-6 text-center"},ne={class:"font-bold text-slate-900 dark:text-white mb-1"},ue={key:2,class:"mt-4"},ce={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},be={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl max-w-md w-full relative z-10 p-6"},xe={class:"flex justify-end gap-3 mt-4"},$e={__name:"Show",props:{order:Object},setup(s){const h=s,n=w(!1),b=w(""),j=()=>{confirm("Are you sure you want to acknowledge this order? This confirms you can fulfill the items and delivery date.")&&p.post(route("portal.purchase-orders.acknowledge",h.order.id))},C=()=>{if(!b.value){alert("Please provide a reason for rejection.");return}p.post(route("portal.purchase-orders.reject",h.order.id),{reason:b.value},{onSuccess:()=>n.value=!1})};return(m,t)=>(a(),f(O,{title:`PO #${s.order.po_number}`},{default:u(()=>[e("div",L,[e("div",B,[l(d(x),{href:"/portal/purchase-orders",class:"p-2 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-slate-700 dark:hover:text-white transition-colors"},{default:u(()=>[l(d(R),{class:"h-5 w-5"})]),_:1}),e("div",null,[e("h1",T,"Order #"+r(s.order.po_number),1),e("p",V," Date: "+r(new Date(s.order.order_date).toLocaleDateString()),1)]),e("div",q,[e("span",{class:D(["px-3 py-1.5 rounded-full text-sm font-bold capitalize",{"bg-purple-100 text-purple-700":s.order.status==="ordered"||s.order.status==="approved","bg-teal-100 text-teal-700":s.order.status==="acknowledged","bg-rose-100 text-rose-700":s.order.status==="rejected"}])},r(s.order.status),3)])]),e("div",z,[e("div",A,[e("div",F,[t[5]||(t[5]=e("div",{class:"p-4 border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50"},[e("h2",{class:"font-bold text-slate-800 dark:text-white"},"Order Items")],-1)),e("div",E,[(a(!0),i(N,null,S(s.order.items,o=>(a(),i("div",{key:o.id,class:"flex items-start gap-4 py-4 border-b border-slate-100 dark:border-slate-700/50 last:border-0"},[e("div",M,[e("span",U,r(o.id),1)]),e("div",J,[e("p",K,r(o.product?.name||o.description),1),e("p",Y,"SKU: "+r(o.product?.sku||"-"),1)]),e("div",G,[e("p",H,r(Number(o.qty).toLocaleString("id-ID"))+" "+r(o.unit?.code||"Pcs"),1),e("p",Q,"x Rp "+r(Number(o.unit_price).toLocaleString("id-ID")),1)])]))),128))]),e("div",W,[t[4]||(t[4]=e("span",{class:"text-sm text-slate-500"},"Total Amount:",-1)),e("span",X,"Rp "+r(Number(s.order.total).toLocaleString("id-ID")),1)])]),s.order.notes?(a(),i("div",Z,[t[6]||(t[6]=e("h3",{class:"font-bold text-slate-800 dark:text-white mb-2"},"Notes",-1)),e("p",_,r(s.order.notes),1)])):g("",!0)]),e("div",ee,[e("div",te,[t[8]||(t[8]=e("h3",{class:"font-bold text-slate-800 dark:text-white mb-4"},"Delivery Information",-1)),e("div",se,[e("div",null,[t[7]||(t[7]=e("span",{class:"block text-slate-500 text-xs"},"Ship To:",-1)),e("span",re,r(s.order.warehouse?.name),1),e("p",oe,r(s.order.warehouse?.address||"See warehouse details"),1)])])]),["ordered","approved"].includes(s.order.status)?(a(),i("div",de,[t[11]||(t[11]=e("h3",{class:"font-bold text-slate-800 dark:text-white mb-4"},"Required Action",-1)),e("div",ae,[e("button",{onClick:j,class:"w-full flex items-center justify-center gap-2 py-2.5 rounded-xl bg-emerald-600 text-white font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-500/20"},[l(d(k),{class:"h-5 w-5"}),t[9]||(t[9]=c(" Acknowledge PO ",-1))]),e("button",{onClick:t[0]||(t[0]=o=>n.value=!0),class:"w-full flex items-center justify-center gap-2 py-2.5 rounded-xl bg-red-50 text-red-600 font-bold hover:bg-red-100 transition-colors border border-red-200"},[l(d(v),{class:"h-5 w-5"}),t[10]||(t[10]=c(" Reject PO ",-1))])]),t[12]||(t[12]=e("p",{class:"text-xs text-slate-500 mt-4 text-center"}," By acknowledging, you agree to the price and delivery timeline. ",-1))])):["acknowledged","partial"].includes(s.order.status)?(a(),i("div",le,[t[15]||(t[15]=e("h3",{class:"font-bold text-slate-800 dark:text-white mb-4"},"Fulfillment",-1)),t[16]||(t[16]=e("div",{class:"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 p-3 rounded-lg text-xs mb-4"}," You can send items partially. Just adjust the quantity in the next step. ",-1)),l(d(x),{href:m.route("portal.deliveries.create",s.order.id),class:"w-full flex items-center justify-center gap-2 py-2.5 rounded-xl bg-indigo-600 text-white font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/20"},{default:u(()=>[l(d($),{class:"h-5 w-5"}),t[13]||(t[13]=c(" Create Delivery Note ",-1))]),_:1},8,["href"]),l(d(x),{href:m.route("portal.invoices.create",{po_id:s.order.id}),class:"w-full flex items-center justify-center gap-2 py-2.5 rounded-xl bg-white border-2 border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors mt-3"},{default:u(()=>[l(d(y),{class:"h-5 w-5"}),t[14]||(t[14]=c(" Create Invoice ",-1))]),_:1},8,["href"])])):(a(),i("div",ie,[s.order.status==="received"||s.order.status==="completed"?(a(),f(d(k),{key:0,class:"h-10 w-10 text-emerald-500 mx-auto mb-3"})):(a(),f(d(v),{key:1,class:"h-10 w-10 text-slate-400 mx-auto mb-3"})),e("p",ne,"Order "+r(s.order.status),1),t[18]||(t[18]=e("p",{class:"text-sm text-slate-500"},"No further action required.",-1)),["received","completed"].includes(s.order.status)?(a(),i("div",ue,[l(d(x),{href:m.route("portal.invoices.create",{po_id:s.order.id}),class:"inline-flex items-center gap-2 text-sm font-bold text-indigo-600 hover:text-indigo-800"},{default:u(()=>[l(d(y),{class:"h-4 w-4"}),t[17]||(t[17]=c(" Create Invoice ",-1))]),_:1},8,["href"])])):g("",!0)]))])])]),n.value?(a(),i("div",ce,[e("div",{class:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:t[1]||(t[1]=o=>n.value=!1)}),e("div",be,[t[19]||(t[19]=e("h3",{class:"text-lg font-bold text-slate-900 dark:text-white mb-4"},"Reject Purchase Order",-1)),t[20]||(t[20]=e("p",{class:"text-sm text-slate-500 mb-4"},"Please specify why you cannot fulfill this order.",-1)),P(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>b.value=o),class:"w-full h-32 p-3 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-red-500 outline-none text-sm",placeholder:"E.g., Item out of stock, price discrepancy..."},null,512),[[I,b.value]]),e("div",xe,[e("button",{onClick:t[3]||(t[3]=o=>n.value=!1),class:"px-4 py-2 rounded-lg text-slate-500 hover:bg-slate-100 transition-colors font-medium"}," Cancel "),e("button",{onClick:C,class:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors font-bold shadow-lg shadow-red-500/20"}," Confirm Rejection ")])])])):g("",!0)]),_:1},8,["title"]))}};export{$e as default};
