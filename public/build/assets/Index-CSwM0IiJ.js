import{r as f,a as N,w as j,c as l,b as a,u as o,h as A,d as h,o as r,F as u,e as t,f as k,v as V,n as w,j as n,l as D,T as C,g as y,t as i,i as I,k as x}from"./app-ql1HZfdt.js";import{_ as O}from"./AppLayout-Dv1Sz7Oj.js";import{d as R}from"./debounce-o-UfQv83.js";import{a as B}from"./helpers-BjqMQcOq.js";import{_ as U}from"./Pagination-Br-VFCH4.js";import{r as L}from"./MagnifyingGlassIcon-3fDEr61W.js";import{r as M}from"./FunnelIcon-BjE7QnkK.js";import{r as T}from"./PlusIcon-BRox6BEj.js";import{r as _}from"./DocumentTextIcon-DfaBM8DS.js";import{r as G}from"./EyeIcon-DYLWIIaz.js";import{r as K}from"./CheckBadgeIcon-DRkA2eOL.js";/* empty css            */import"./XMarkIcon-5N1STuMt.js";import"./SunIcon-B1hXUsOB.js";import"./WrenchScrewdriverIcon-vBtkexfH.js";import"./ShoppingCartIcon-B8Fx3enm.js";import"./CubeIcon-CtYYPlEg.js";import"./TruckIcon-DvHrC9a6.js";const z={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},E={class:"flex items-center gap-3"},H={class:"relative flex-1 sm:w-80"},J={key:0,class:"mb-6 rounded-2xl glass-card p-4"},q={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Q=["value"],W=["value"],X={class:"rounded-2xl glass-card overflow-hidden shadow-sm"},Y={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},Z={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800 text-left"},tt={class:"divide-y divide-slate-100 dark:divide-slate-800"},et={class:"px-4 py-4 whitespace-nowrap"},st={class:"flex items-center gap-3"},at={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-500/10 text-emerald-400"},lt={class:"text-sm font-bold text-slate-900 dark:text-white"},rt={key:0,class:"text-[10px] text-slate-500 font-mono mt-0.5"},ot={class:"px-4 py-4 whitespace-nowrap"},dt={class:"text-sm font-medium text-slate-900 dark:text-white"},it={class:"text-[10px] text-slate-500 mt-0.5"},nt={class:"px-4 py-4 whitespace-nowrap"},pt={class:"flex flex-col gap-1"},ut={class:"flex items-center gap-1.5 text-xs text-slate-600 dark:text-slate-300"},xt={key:0,class:"bg-red-500/10 text-red-500 px-1.5 py-0.5 rounded text-[8px] font-bold ml-1 uppercase"},ct={class:"px-4 py-4 whitespace-nowrap text-right"},gt={class:"text-sm font-bold text-slate-900 dark:text-white"},bt={class:"text-[10px] text-slate-500 mt-0.5"},mt={class:"px-4 py-4 whitespace-nowrap text-center text-xs"},ft={class:"px-4 py-4 whitespace-nowrap text-right"},ht={key:0},vt={colspan:"6",class:"px-4 py-16 text-center text-slate-500 italic bg-white dark:bg-slate-950/50"},kt={class:"flex flex-col items-center gap-3"},wt={key:0,class:"border-t border-slate-200 dark:border-slate-800/80 px-6 py-4 bg-white dark:bg-slate-950"},yt={class:"mt-12"},_t={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},St={class:"bg-white dark:bg-slate-950/50 border border-slate-200 dark:border-slate-800 rounded-3xl p-6 relative overflow-hidden group"},Pt={class:"flex items-center gap-4 mb-4"},Dt={class:"p-3 rounded-2xl bg-blue-500/10 text-blue-400 group-hover:bg-blue-500 group-hover:text-slate-900 dark:text-white transition-all duration-300"},It={class:"bg-white dark:bg-slate-950/50 border border-slate-200 dark:border-slate-800 rounded-3xl p-6 relative overflow-hidden group"},Tt={class:"flex items-center gap-4 mb-4"},$t={class:"p-3 rounded-2xl bg-amber-500/10 text-amber-400 group-hover:bg-amber-500 group-hover:text-slate-900 dark:text-white transition-all duration-300"},Ft={class:"bg-white dark:bg-slate-950/50 border border-slate-200 dark:border-slate-800 rounded-3xl p-6 relative overflow-hidden group"},Nt={class:"flex items-center gap-4 mb-4"},jt={class:"p-3 rounded-2xl bg-emerald-500/10 text-emerald-400 group-hover:bg-emerald-500 group-hover:text-slate-900 dark:text-white transition-all duration-300"},At={key:1,class:"text-slate-900 dark:text-white text-center py-20"},Yt={__name:"Index",props:{invoices:Object,suppliers:Array,filters:Object,statuses:Array},setup(p){const v=p,c=f(v.filters?.search||""),g=f(v.filters?.status||""),b=f(v.filters?.supplier||""),m=f(!1),$=R(()=>{N.get("/purchasing/invoices",{search:c.value||void 0,status:g.value||void 0,supplier:b.value||void 0},{preserveState:!0,replace:!0})},300);j([c,g,b],$);const F=d=>d&&{unpaid:"bg-red-500/20 text-red-400 border-red-500/30",partial:"bg-amber-500/20 text-amber-400 border-amber-500/30",paid:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30"}[d]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",S=d=>{if(!d)return"-";try{return new Date(d).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}catch{return d}},P=d=>d.status==="paid"||d.status==="cancelled"||!d.due_date?!1:new Date(d.due_date)<new Date;return(d,e)=>(r(),l(u,null,[a(o(A),{title:"Purchase Invoices"}),a(O,{title:"Purchase Invoices"},{default:h(()=>[p.invoices?(r(),l(u,{key:0},[t("div",z,[t("div",E,[t("div",H,[a(o(L),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),type:"search",placeholder:"Search invoice or PO number...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[V,c.value]])]),t("button",{onClick:e[1]||(e[1]=s=>m.value=!m.value),class:w(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",{"ring-2 ring-blue-500/50":m.value}])},[a(o(M),{class:"h-5 w-5"}),e[4]||(e[4]=n(" Filters ",-1))],2)]),a(o(D),{href:"/purchasing/invoices/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-emerald-600 to-emerald-500 px-4 py-2.5 text-sm font-semibold text-slate-900 dark:text-white shadow-lg shadow-emerald-500/25 hover:from-emerald-500 hover:to-emerald-400 transition-all"},{default:h(()=>[a(o(T),{class:"h-5 w-5"}),e[5]||(e[5]=n(" Record Supplier Invoice ",-1))]),_:1})]),a(C,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:h(()=>[m.value?(r(),l("div",J,[t("div",q,[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Status",-1)),k(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>g.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[6]||(e[6]=t("option",{value:""},"All Status",-1)),(r(!0),l(u,null,y(p.statuses,s=>(r(),l("option",{key:s.value,value:s.value},i(s.label),9,Q))),128))],512),[[I,g.value]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Supplier",-1)),k(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>b.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[8]||(e[8]=t("option",{value:""},"All Suppliers",-1)),(r(!0),l(u,null,y(p.suppliers,s=>(r(),l("option",{key:s.id,value:s.id},i(s.name),9,W))),128))],512),[[I,b.value]])])])])):x("",!0)]),_:1}),t("div",X,[t("div",Y,[t("table",Z,[e[13]||(e[13]=t("thead",null,[t("tr",{class:"bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50"},[t("th",{class:"px-4 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Invoice Info"),t("th",{class:"px-4 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Supplier"),t("th",{class:"px-4 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Dates"),t("th",{class:"px-4 py-4 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Amount"),t("th",{class:"px-4 py-4 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Status"),t("th",{class:"px-4 py-4 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",tt,[(r(!0),l(u,null,y(p.invoices.data,s=>(r(),l("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",et,[t("div",st,[t("div",at,[a(o(_),{class:"h-5 w-5"})]),t("div",null,[t("div",lt,i(s.invoice_number),1),s.purchase_order?(r(),l("div",rt," PO: "+i(s.purchase_order.po_number),1)):x("",!0)])])]),t("td",ot,[t("div",dt,i(s.supplier?.name||"Unknown"),1),t("div",it,i(s.supplier?.code),1)]),t("td",nt,[t("div",pt,[t("div",ut,[e[10]||(e[10]=t("span",{class:"text-slate-500 text-[10px] font-bold uppercase w-8"},"Inv",-1)),n(" "+i(S(s.invoice_date)),1)]),t("div",{class:w(["flex items-center gap-1.5 text-xs",P(s)?"text-red-400":"text-slate-600 dark:text-slate-300"])},[e[11]||(e[11]=t("span",{class:"text-slate-500 text-[10px] font-bold uppercase w-8"},"Due",-1)),n(" "+i(S(s.due_date))+" ",1),P(s)?(r(),l("span",xt,"Overdue")):x("",!0)],2)])]),t("td",ct,[t("div",gt,i(o(B)(s.total_amount)),1),t("div",bt,i(s.items_count)+" items",1)]),t("td",mt,[t("span",{class:w(["inline-flex items-center rounded-full border px-2.5 py-0.5 font-bold uppercase tracking-wider scale-90",F(s.status)])},i(s.status),3)]),t("td",ft,[a(o(D),{underline:!1,href:`/purchasing/invoices/${s.id}`,class:"p-2.5 rounded-xl text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-all border border-transparent hover:border-slate-200 dark:border-slate-700"},{default:h(()=>[a(o(G),{class:"h-4 w-4"})]),_:1},8,["href"])])]))),128)),p.invoices.data&&p.invoices.data.length===0?(r(),l("tr",ht,[t("td",vt,[t("div",kt,[a(o(_),{class:"h-12 w-12 text-slate-700 opacity-50"}),e[12]||(e[12]=t("p",null,"No purchase invoices found.",-1))])])])):x("",!0)])])]),p.invoices.last_page>1?(r(),l("div",wt,[a(U,{links:p.invoices.links},null,8,["links"])])):x("",!0)]),t("div",yt,[e[23]||(e[23]=t("div",{class:"flex items-center gap-3 mb-6"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest px-2"},"Panduan Penggunaan Fitur Tagihan"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",_t,[t("div",St,[e[15]||(e[15]=t("div",{class:"absolute -right-2 -top-2 text-6xl font-black text-slate-800 opacity-20 pointer-events-none"},"01",-1)),t("div",Pt,[t("div",Dt,[a(o(T),{class:"h-6 w-6"})]),e[14]||(e[14]=t("h4",{class:"font-bold text-slate-900 dark:text-white uppercase tracking-tight"},"Pilih Supplier",-1))]),e[16]||(e[16]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed"},[n(" Klik tombol "),t("strong",null,'"Record Supplier Invoice"'),n(" lalu pilih nama Supplier. Sistem akan otomatis mencari semua barang yang sudah Anda terima (GRN) tapi belum dibuatkan tagihannya. ")],-1))]),t("div",It,[e[18]||(e[18]=t("div",{class:"absolute -right-2 -top-2 text-6xl font-black text-slate-800 opacity-20 pointer-events-none"},"02",-1)),t("div",Tt,[t("div",$t,[a(o(_),{class:"h-6 w-6"})]),e[17]||(e[17]=t("h4",{class:"font-bold text-slate-900 dark:text-white uppercase tracking-tight"},"Pilih GRN & Cek Harga",-1))]),e[19]||(e[19]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed"},[n(" Pilih daftar "),t("strong",null,"Pending Receipts"),n(" yang ingin ditagihkan. Masukkan nomor invoice asli dari supplier, cek kembali harga satuan, diskon, dan pajak (PPN). ")],-1))]),t("div",Ft,[e[21]||(e[21]=t("div",{class:"absolute -right-2 -top-2 text-6xl font-black text-slate-800 opacity-20 pointer-events-none"},"03",-1)),t("div",Nt,[t("div",jt,[a(o(K),{class:"h-6 w-6"})]),e[20]||(e[20]=t("h4",{class:"font-bold text-slate-900 dark:text-white uppercase tracking-tight"},"Finalisasi Tagihan",-1))]),e[22]||(e[22]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed"},[n(" Tentukan "),t("strong",null,"Tanggal Jatuh Tempo"),n(" agar Finance bisa memantau jadwal pembayaran. Klik simpan untuk mencatat hutang perusahaan ke supplier. ")],-1))])])])],64)):(r(),l("div",At,[...e[24]||(e[24]=[t("div",{class:"flex flex-col items-center gap-4"},[t("div",{class:"h-10 w-10 border-4 border-slate-200 dark:border-slate-800 border-t-blue-500 rounded-full animate-spin"}),t("p",{class:"text-slate-500 animate-pulse"},"Loading billing data...")],-1)])]))]),_:1})],64))}};export{Yt as default};
