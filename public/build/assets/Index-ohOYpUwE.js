import{c as d,e as t,o as l,r as f,a as y,w as j,b as r,u as a,h as z,d as c,f as _,v as N,j as o,l as k,T,F as b,g as v,t as n,i as M,k as u,n as $,m as C}from"./app-Bw0H9ESC.js";import{_ as Q}from"./AppLayout-3pCOLbDy.js";import{a as U}from"./helpers-BjqMQcOq.js";import{d as A}from"./debounce-CASApKU6.js";import{r as B}from"./MagnifyingGlassIcon-BoOhbauT.js";import{r as H}from"./FunnelIcon-BkGQYqhQ.js";import{r as F}from"./PlusIcon-Do9sa5h-.js";import{r as O}from"./EyeIcon-ClYeSP_O.js";import{r as I}from"./PencilSquareIcon-CQ1xPGhs.js";import{r as L}from"./TrashIcon-COMUNzPk.js";import{r as E}from"./ClockIcon-CbxJVP5u.js";import{r as G}from"./CheckCircleIcon-BsOS4yQ4.js";import{r as K}from"./ClipboardDocumentCheckIcon-fvCWBQJP.js";import{r as R}from"./ShieldCheckIcon-Buqn2wRu.js";/* empty css            */import"./XMarkIcon-C7UzD_1X.js";import"./SunIcon-B4CySSBA.js";import"./WrenchScrewdriverIcon-DHxM4v6h.js";import"./CheckBadgeIcon-D_9l_0HZ.js";import"./ShoppingCartIcon-N-hkVahq.js";import"./CubeIcon-DrmTRc40.js";import"./TruckIcon-BJDri2b6.js";function S(i,g){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}const W={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},J={class:"flex items-center gap-3"},P={class:"relative flex-1 sm:w-80"},X={key:0,class:"mb-6 rounded-2xl glass-card p-4 shadow-sm"},Y={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Z=["value"],tt={class:"rounded-2xl glass-card overflow-hidden shadow-sm"},et={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},st={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-100 dark:divide-slate-800"},at={class:"divide-y divide-slate-100 dark:divide-slate-100 dark:divide-slate-800"},rt={class:"px-4 py-4 whitespace-nowrap"},lt={class:"flex items-center gap-3"},ot={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-100 dark:bg-slate-900 dark:bg-slate-800"},dt={class:"text-sm font-medium text-slate-900 dark:text-white"},it={class:"px-4 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-white"},nt={class:"px-4 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-600 dark:text-slate-300"},xt={class:"px-4 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-600 dark:text-slate-300"},ct={class:"px-4 py-4 whitespace-nowrap text-sm text-right text-slate-900 dark:text-white font-medium"},ut={class:"px-4 py-4 whitespace-nowrap text-center"},pt={class:"px-4 py-4 whitespace-nowrap text-right"},mt={class:"flex items-center justify-end gap-2"},kt=["onClick"],bt={key:0},gt={colspan:"7",class:"px-4 py-12 text-center"},ht={key:0,class:"border-t border-slate-100 dark:border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},ft={class:"text-sm text-slate-500 dark:text-slate-500 dark:text-slate-400"},vt={class:"flex items-center gap-2"},wt={class:"mt-12"},yt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},_t={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-300 dark:hover:border-slate-600 transition-colors"},$t={class:"flex items-center gap-3 mb-3"},Ct={class:"p-2.5 rounded-xl bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 dark:text-indigo-400"},St={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-300 dark:hover:border-slate-600 transition-colors"},Vt={class:"flex items-center gap-3 mb-3"},qt={class:"p-2.5 rounded-xl bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400"},Dt={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-300 dark:hover:border-slate-600 transition-colors"},jt={class:"flex items-center gap-3 mb-3"},zt={class:"p-2.5 rounded-xl bg-blue-50 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400"},Nt={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-300 dark:hover:border-slate-600 transition-colors"},Tt={class:"flex items-center gap-3 mb-3"},Mt={class:"p-2.5 rounded-xl bg-purple-50 dark:bg-purple-500/10 text-purple-600 dark:text-purple-400"},re={__name:"Index",props:{quotations:Object,filters:Object,statuses:Array},setup(i){const g=i,p=f(g.filters.search||""),m=f(g.filters.status||""),h=f(!1),V=A(()=>{y.get("/sales/quotations",{search:p.value||void 0,status:m.value||void 0},{preserveState:!0,replace:!0})},300);j([p,m],V);const q=x=>({draft:"bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-9000/20 dark:text-slate-500 dark:text-slate-400 dark:border-slate-500/30",sent:"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-500/20 dark:text-blue-400 dark:border-blue-500/30",accepted:"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-500/20 dark:text-emerald-400 dark:border-emerald-500/30",rejected:"bg-red-50 text-red-600 border-red-100 dark:bg-red-500/20 dark:text-red-400 dark:border-red-500/30",expired:"bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-500/20 dark:text-amber-400 dark:border-amber-500/30"})[x]||"bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-9000/20 dark:text-slate-500 dark:text-slate-400 dark:border-slate-500/30",w=x=>new Date(x).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}),D=x=>{confirm(`Are you sure you want to delete quotation "${x.number}"?`)&&y.delete(`/sales/quotations/${x.id}`)};return(x,e)=>(l(),d(b,null,[r(a(z),{title:"Quotations"}),r(Q,{title:"Quotations"},{default:c(()=>[t("div",W,[t("div",J,[t("div",P,[r(a(B),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500 dark:text-slate-400"}),_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),type:"search",placeholder:"Search quotation...",class:"block w-full rounded-xl border-0 bg-white dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 dark:placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50 shadow-sm dark:shadow-none ring-1 ring-slate-200 dark:ring-0 transition-all"},null,512),[[N,p.value]])]),t("button",{onClick:e[1]||(e[1]=s=>h.value=!h.value),class:"flex items-center gap-2 rounded-xl bg-white dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 border border-slate-200 dark:border-0 transition-colors shadow-sm dark:shadow-none"},[r(a(H),{class:"h-5 w-5"}),e[3]||(e[3]=o(" Filters ",-1))])]),r(a(k),{href:"/sales/quotations/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:c(()=>[r(a(F),{class:"h-5 w-5"}),e[4]||(e[4]=o(" New Quotation ",-1))]),_:1})]),r(T,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:c(()=>[h.value?(l(),d("div",X,[t("div",Y,[t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-500 dark:text-slate-400 mb-2"},"Status",-1)),_(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>m.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50 ring-1 ring-slate-200 dark:ring-0"},[e[5]||(e[5]=t("option",{value:""},"All Status",-1)),(l(!0),d(b,null,v(i.statuses,s=>(l(),d("option",{key:s.value,value:s.value},n(s.label),9,Z))),128))],512),[[M,m.value]])])])])):u("",!0)]),_:1}),t("div",tt,[t("div",et,[t("table",st,[e[9]||(e[9]=t("thead",null,[t("tr",{class:"border-b border-slate-200 dark:border-slate-700"},[t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Number"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Customer"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Date"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Valid Until"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-right text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Total"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Status"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-right text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",at,[(l(!0),d(b,null,v(i.quotations.data,s=>(l(),d("tr",{key:s.id,class:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",rt,[t("div",lt,[t("div",ot,[r(a(S),{class:"h-5 w-5 text-indigo-500 dark:text-indigo-400"})]),t("div",dt,n(s.number),1)])]),t("td",it,n(s.customer?.name),1),t("td",nt,n(w(s.quotation_date)),1),t("td",xt,n(w(s.valid_until)),1),t("td",ct,n(a(U)(s.total)),1),t("td",ut,[t("span",{class:$(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium",q(s.status)])},n(s.status?.toUpperCase()),3)]),t("td",pt,[t("div",mt,[r(a(k),{href:`/sales/quotations/${s.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-100 dark:hover:bg-slate-800/50 transition-colors",title:"View Details"},{default:c(()=>[r(a(O),{class:"h-4 w-4"})]),_:1},8,["href"]),s.status==="draft"?(l(),C(a(k),{key:0,href:`/sales/quotations/${s.id}/edit`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-blue-500 hover:bg-slate-100 dark:hover:bg-slate-800/50 transition-colors",title:"Edit Quotation"},{default:c(()=>[r(a(I),{class:"h-4 w-4"})]),_:1},8,["href"])):u("",!0),s.status==="draft"?(l(),d("button",{key:1,onClick:Qt=>D(s),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-red-500 hover:bg-slate-100 dark:hover:bg-slate-800/50 transition-colors",title:"Delete Quotation"},[r(a(L),{class:"h-4 w-4"})],8,kt)):u("",!0)])])]))),128)),i.quotations.data.length===0?(l(),d("tr",bt,[t("td",gt,[r(a(S),{class:"mx-auto h-12 w-12 text-slate-600 dark:text-slate-300 dark:text-slate-600"}),e[7]||(e[7]=t("h3",{class:"mt-2 text-sm font-medium text-slate-600 dark:text-slate-600 dark:text-slate-300"},"No quotations found",-1)),e[8]||(e[8]=t("p",{class:"mt-1 text-sm text-slate-500 dark:text-slate-400 dark:text-slate-500"},"Create a new quotation for your customers.",-1))])])):u("",!0)])])]),i.quotations.last_page>1?(l(),d("div",ht,[t("p",ft," Showing "+n(i.quotations.from)+" to "+n(i.quotations.to)+" of "+n(i.quotations.total)+" quotations ",1),t("div",vt,[(l(!0),d(b,null,v(i.quotations.links,s=>(l(),C(a(k),{key:s.label,href:s.url||"#",class:$(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-slate-900 dark:text-white":s.url?"text-slate-500 dark:text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-900 dark:text-white":"text-slate-600 dark:text-slate-300 dark:text-white cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):u("",!0)]),t("div",wt,[e[18]||(e[18]=t("div",{class:"flex items-center gap-2 mb-8 px-1"},[t("div",{class:"h-px flex-1 bg-slate-200 dark:bg-slate-900 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 dark:text-slate-400 dark:text-slate-500 uppercase tracking-widest"},"Quotations & CRM Guide"),t("div",{class:"h-px flex-1 bg-slate-200 dark:bg-slate-900 dark:bg-slate-800"})],-1)),t("div",yt,[t("div",_t,[t("div",$t,[t("div",Ct,[r(a(E),{class:"h-5 w-5"})]),e[10]||(e[10]=t("h4",{class:"font-bold text-slate-900 dark:text-slate-200 text-sm"},"Validity Tracking",-1))]),e[11]||(e[11]=t("p",{class:"text-xs text-slate-600 dark:text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Keep track of "),t("strong",null,"Valid Until"),o(" dates. Expired quotations are automatically flagged, helping you follow up with customers promptly. ")],-1))]),t("div",St,[t("div",Vt,[t("div",qt,[r(a(G),{class:"h-5 w-5"})]),e[12]||(e[12]=t("h4",{class:"font-bold text-slate-900 dark:text-slate-200 text-sm"},"Status Workflow",-1))]),e[13]||(e[13]=t("p",{class:"text-xs text-slate-600 dark:text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Manage the lifecycle from "),t("strong",null,"Draft"),o(" to "),t("strong",null,"Sent"),o(" and "),t("strong",null,"Accepted"),o(". Use this to monitor your sales pipeline. ")],-1))]),t("div",Dt,[t("div",jt,[t("div",zt,[r(a(K),{class:"h-5 w-5"})]),e[14]||(e[14]=t("h4",{class:"font-bold text-slate-900 dark:text-slate-200 text-sm"},"One-Click Conversion",-1))]),e[15]||(e[15]=t("p",{class:"text-xs text-slate-600 dark:text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Once a quotation is "),t("strong",null,"Accepted"),o(", you can quickly convert it into a Sales Order without re-entering any data. ")],-1))]),t("div",Nt,[t("div",Tt,[t("div",Mt,[r(a(R),{class:"h-5 w-5"})]),e[16]||(e[16]=t("h4",{class:"font-bold text-slate-900 dark:text-slate-200 text-sm"},"Internal Notes",-1))]),e[17]||(e[17]=t("p",{class:"text-xs text-slate-600 dark:text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Use the notes field for "),t("strong",null,"Internal Comments"),o(" or specific customer requirements that don't need to appear on the final printout. ")],-1))])])])]),_:1})],64))}};export{re as default};
