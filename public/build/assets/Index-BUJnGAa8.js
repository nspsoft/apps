import{m as h,s as z,q as A,c as o,a as l,u as r,h as B,w,b as e,j as D,v as F,o as a,F as f,g as _,t as i,k as I,l as S,d,x as p,n as N,e as $}from"./app-B_kJPemB.js";import{h as y,k as L,j as M,_ as P}from"./AppLayout-BRWmA8NM.js";import{d as W}from"./debounce-DxsdfPiH.js";import{r as q}from"./MagnifyingGlassIcon-DMqAJZzC.js";import{r as E}from"./PlusIcon-DBlrVdnb.js";import{r as u}from"./ChevronUpIcon-BRQ0Rnxo.js";import{r as H}from"./EyeIcon-NCHcptqK.js";import{r as U}from"./TrashIcon-CZ2dnlzF.js";import{r as G}from"./ClockIcon-CL8p1DZ-.js";import{r as J}from"./DocumentPlusIcon-DUZF8SRU.js";import{r as K}from"./ExclamationCircleIcon-Bh6Miv2j.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-CxvSqsig.js";import"./SunIcon-BruNUn8K.js";import"./WrenchScrewdriverIcon-CG7qG3HX.js";import"./TruckIcon-caEgexK_.js";import"./DocumentTextIcon-V_YCf9t9.js";import"./ShoppingCartIcon-CsQv9ASF.js";import"./MapPinIcon-CwmSa601.js";import"./SparklesIcon-9U9XhE6H.js";import"./CubeIcon-D5fzCcwY.js";import"./CheckCircleIcon-C6qw-E2R.js";import"./ShieldCheckIcon-C7GJHXME.js";const Q={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},R={class:"flex items-center gap-3"},X={class:"relative flex-1 sm:w-80"},Y=["value"],Z={class:"rounded-2xl glass-card overflow-hidden"},ee={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},te={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},se={class:"border-b border-slate-200 dark:border-slate-700"},ae={class:"flex items-center gap-2"},re={key:0,class:"text-blue-500"},oe={key:1,class:"text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"},le={class:"flex items-center gap-2"},de={key:0,class:"text-blue-500"},ie={key:1,class:"text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"},ne={class:"flex items-center gap-2"},ce={key:0,class:"text-blue-500"},pe={key:1,class:"text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"},xe={class:"flex items-center justify-center gap-2"},ue={key:0,class:"text-blue-500"},me={key:1,class:"text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"},be={class:"divide-y divide-slate-100 dark:divide-slate-800"},he={class:"px-4 py-2 whitespace-nowrap"},ge={class:"text-sm font-medium text-slate-900 dark:text-white"},ke={class:"text-xs text-slate-500"},ve={class:"px-4 py-2 whitespace-nowrap"},fe={class:"text-sm text-slate-600 dark:text-slate-300"},ye={class:"px-4 py-2 whitespace-nowrap"},we={class:"text-sm text-slate-600 dark:text-slate-300"},_e={class:"px-4 py-2 whitespace-nowrap text-center"},Se={class:"text-sm text-slate-600 dark:text-slate-300"},$e={class:"px-4 py-2 whitespace-nowrap text-center"},Ce={class:"px-4 py-2 whitespace-nowrap text-right"},je={class:"flex items-center justify-end gap-2"},ze=["onClick"],De={key:0},Ne={colspan:"6",class:"px-6 py-12 text-center"},Oe={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},Te={class:"text-sm text-slate-500 dark:text-slate-400"},Ve={class:"flex items-center gap-2"},Ae={class:"mt-12"},Be={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Fe={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Ie={class:"flex items-center gap-3 mb-3"},Le={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},Me={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Pe={class:"flex items-center gap-3 mb-3"},We={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},qe={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Ee={class:"flex items-center gap-3 mb-3"},He={class:"p-2.5 rounded-xl bg-amber-500/10 text-amber-400"},Ue={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Ge={class:"flex items-center gap-3 mb-3"},Je={class:"p-2.5 rounded-xl bg-red-500/10 text-red-400"},vt={__name:"Index",props:{opnames:Object,warehouses:Array,filters:Object,statuses:Array},setup(n){const b=n,g=h(b.filters.search||""),C=h(b.filters.status||""),k=h(b.filters.warehouse_id||""),m=h(b.filters.sort||"created_at"),x=h(b.filters.direction||"desc"),j=W(()=>{z.get("/inventory/opname",{search:g.value||void 0,status:C.value||void 0,warehouse_id:k.value||void 0,sort:m.value,direction:x.value},{preserveState:!0,replace:!0})},300);A([g,C,k],j);const v=c=>{m.value===c?x.value=x.value==="asc"?"desc":"asc":(m.value=c,x.value="asc"),j()},O=c=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",in_progress:"bg-blue-500/20 text-blue-400 border-blue-500/30",completed:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[c]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",T=c=>new Date(c).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}),V=c=>{confirm("Are you sure you want to delete this session?")&&z.delete(`/inventory/opname/${c.id}`)};return(c,t)=>(a(),o(f,null,[l(r(B),{title:"Stock Opname"}),l(P,{title:"Stock Opname"},{default:w(()=>[e("div",Q,[e("div",R,[e("div",X,[l(r(q),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),D(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>g.value=s),type:"search",placeholder:"Search...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[F,g.value]])]),D(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>k.value=s),class:"rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[t[6]||(t[6]=e("option",{value:""},"All Warehouses",-1)),(a(!0),o(f,null,_(n.warehouses,s=>(a(),o("option",{key:s.id,value:s.id},i(s.name),9,Y))),128))],512),[[I,k.value]])]),l(r(S),{href:"/inventory/opname/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:w(()=>[l(r(E),{class:"h-5 w-5"}),t[7]||(t[7]=d(" New Session ",-1))]),_:1})]),e("div",Z,[e("div",ee,[e("table",te,[e("thead",null,[e("tr",se,[e("th",{onClick:t[2]||(t[2]=s=>v("opname_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group"},[e("div",ae,[t[8]||(t[8]=d(" Number ",-1)),m.value==="opname_number"?(a(),o("span",re,[x.value==="asc"?(a(),p(r(u),{key:0,class:"h-3 w-3"})):(a(),p(r(y),{key:1,class:"h-3 w-3"}))])):(a(),o("span",oe,[l(r(u),{class:"h-3 w-3"})]))])]),e("th",{onClick:t[3]||(t[3]=s=>v("opname_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group"},[e("div",le,[t[9]||(t[9]=d(" Date ",-1)),m.value==="opname_date"?(a(),o("span",de,[x.value==="asc"?(a(),p(r(u),{key:0,class:"h-3 w-3"})):(a(),p(r(y),{key:1,class:"h-3 w-3"}))])):(a(),o("span",ie,[l(r(u),{class:"h-3 w-3"})]))])]),e("th",{onClick:t[4]||(t[4]=s=>v("warehouse_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group"},[e("div",ne,[t[10]||(t[10]=d(" Warehouse ",-1)),m.value==="warehouse_name"?(a(),o("span",ce,[x.value==="asc"?(a(),p(r(u),{key:0,class:"h-3 w-3"})):(a(),p(r(y),{key:1,class:"h-3 w-3"}))])):(a(),o("span",pe,[l(r(u),{class:"h-3 w-3"})]))])]),t[12]||(t[12]=e("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-center text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Items",-1)),e("th",{onClick:t[5]||(t[5]=s=>v("status")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-center text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group"},[e("div",xe,[t[11]||(t[11]=d(" Status ",-1)),m.value==="status"?(a(),o("span",ue,[x.value==="asc"?(a(),p(r(u),{key:0,class:"h-3 w-3"})):(a(),p(r(y),{key:1,class:"h-3 w-3"}))])):(a(),o("span",me,[l(r(u),{class:"h-3 w-3"})]))])]),t[13]||(t[13]=e("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions",-1))])]),e("tbody",be,[(a(!0),o(f,null,_(n.opnames.data,s=>(a(),o("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[e("td",he,[e("div",ge,i(s.opname_number),1),e("div",ke,i(s.created_by?.name),1)]),e("td",ve,[e("span",fe,i(T(s.opname_date)),1)]),e("td",ye,[e("span",we,i(s.warehouse?.name),1)]),e("td",_e,[e("span",Se,i(s.items_count),1)]),e("td",$e,[e("span",{class:N(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium capitalize",O(s.status)])},i(s.status),3)]),e("td",Ce,[e("div",je,[l(r(S),{href:`/inventory/opname/${s.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:w(()=>[l(r(H),{class:"h-4 w-4"})]),_:1},8,["href"]),s.status!=="completed"?(a(),o("button",{key:0,onClick:Ke=>V(s),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-red-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},[l(r(U),{class:"h-4 w-4"})],8,ze)):$("",!0)])])]))),128)),n.opnames.data.length===0?(a(),o("tr",De,[e("td",Ne,[l(r(L),{class:"mx-auto h-12 w-12 text-slate-600"}),t[14]||(t[14]=e("h3",{class:"mt-2 text-sm font-medium text-slate-600 dark:text-slate-300"},"No sessions found",-1)),t[15]||(t[15]=e("p",{class:"mt-1 text-sm text-slate-500"},"Create a session to start stock taking.",-1))])])):$("",!0)])])]),n.opnames.last_page>1?(a(),o("div",Oe,[e("p",Te," Showing "+i(n.opnames.from)+" to "+i(n.opnames.to)+" of "+i(n.opnames.total),1),e("div",Ve,[(a(!0),o(f,null,_(n.opnames.links,s=>(a(),p(r(S),{key:s.label,href:s.url||"#",class:N(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-slate-900 dark:text-white":s.url?"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white":"text-white cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):$("",!0)]),e("div",Ae,[t[24]||(t[24]=e("div",{class:"flex items-center gap-2 mb-4 px-1"},[e("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),e("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Stock Taking Guide"),e("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),e("div",Be,[e("div",Fe,[e("div",Ie,[e("div",Le,[l(r(G),{class:"h-5 w-5"})]),t[16]||(t[16]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Opname Session",-1))]),t[17]||(t[17]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[d(" Start a "),e("strong",null,"New Session"),d(" for a specific warehouse. This creates a snapshot of system stock for verification against physical counts. ")],-1))]),e("div",Me,[e("div",Pe,[e("div",We,[l(r(J),{class:"h-5 w-5"})]),t[18]||(t[18]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Finalize Progress",-1))]),t[19]||(t[19]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[d(" Sessions move from "),e("strong",null,"Draft"),d(" to "),e("strong",null,"In Progress"),d(" as you count. Once "),e("strong",null,"Completed"),d(", stock adjustments are automatically posted. ")],-1))]),e("div",qe,[e("div",Ee,[e("div",He,[l(r(M),{class:"h-5 w-5"})]),t[20]||(t[20]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Discrepancy",-1))]),t[21]||(t[21]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"}," System calculates the difference between system qty and your physical count. Positive or negative adjustments will be made to align inventory. ",-1))]),e("div",Ue,[e("div",Ge,[e("div",Je,[l(r(K),{class:"h-5 w-5"})]),t[22]||(t[22]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Irreversible",-1))]),t[23]||(t[23]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[d(" Once a session is marked as "),e("strong",null,"Completed"),d(", it cannot be edited or deleted. Ensure all counts are triple-checked before finalizing. ")],-1))])])])]),_:1})],64))}};export{vt as default};
