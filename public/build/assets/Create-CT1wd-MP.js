import{_ as m}from"./AppLayout-D5QuRGji.js";import{f as x,x as g,w as d,b as t,o as i,c as n,F as u,g as y,t as o,a as f,u as _,d as h,e as w}from"./app-C5ximnk4.js";import{_ as k}from"./PrimaryButton-5Vrut8FZ.js";import"./XMarkIcon-B7pvIQ3F.js";import"./SunIcon-C5gTgNQq.js";import"./WrenchScrewdriverIcon-RtRwy9Ag.js";import"./DocumentPlusIcon-CWq_U-0k.js";import"./TruckIcon-BXY3Yds0.js";import"./DocumentTextIcon-CfQwu5gU.js";import"./ShoppingCartIcon-Du7CHGMj.js";import"./MapPinIcon-8kcJKsWq.js";import"./SparklesIcon-XzH1SGLv.js";import"./CubeIcon-DlNRGXgC.js";import"./ClockIcon-CA0tSliu.js";import"./CheckCircleIcon-DdA7BM8M.js";import"./ShieldCheckIcon-CbPtSxMM.js";/* empty css            */const b={class:"py-12"},v={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},C={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg p-6"},O={class:"overflow-x-auto"},S={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},D={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},A={class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900 dark:text-white"},$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},N={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},B={class:"px-6 py-4 whitespace-nowrap"},G={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},F={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},M={key:0},Z={__name:"Create",props:{salesOrders:Object},setup(l){const s=x({sales_order_id:null,customer_id:null,issued_date:new Date().toISOString().slice(0,10),coa_number:`COA-${new Date().getFullYear()}${new Date().getMonth()+1}-${Math.floor(Math.random()*1e3)}`}),p=r=>{confirm(`Generate COA for SO #${r.so_number}?`)&&(s.sales_order_id=r.id,s.customer_id=r.customer_id,s.post(route("qc.coa.store")))},c=r=>r?new Date(r).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"";return(r,e)=>(i(),g(m,{title:"Generate COA"},{header:d(()=>[...e[0]||(e[0]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Certificate of Analysis (COA) Generation ",-1)])]),default:d(()=>[t("div",b,[t("div",v,[t("div",C,[e[4]||(e[4]=t("div",{class:"mb-4"},[t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Select a completed Sales Order to generate a Certificate of Analysis. ")],-1)),t("div",O,[t("table",S,[e[3]||(e[3]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"SO Number"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Customer"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Action")])],-1)),t("tbody",D,[(i(!0),n(u,null,y(l.salesOrders.data,a=>(i(),n("tr",{key:a.id},[t("td",A,o(a.so_number),1),t("td",$,o(c(a.order_date)),1),t("td",N,o(a.customer?.name),1),t("td",B,[t("span",G,o(a.status),1)]),t("td",F,[f(k,{onClick:V=>p(a),disabled:_(s).processing},{default:d(()=>[...e[1]||(e[1]=[h(" Generate COA ",-1)])]),_:1},8,["onClick","disabled"])])]))),128)),l.salesOrders.data.length===0?(i(),n("tr",M,[...e[2]||(e[2]=[t("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500"}," No eligible Sales Orders found (Must be Delivered/Shipped). ",-1)])])):w("",!0)])])])])])])]),_:1}))}};export{Z as default};
