import{c as o,b as t,o as d,m as v,s as N,q as Z,a,u as r,h as z,w as x,F as g,j as f,v as A,n as w,d as l,l as h,T as I,g as y,t as n,k as R,e as k}from"./app-Pt64G8qA.js";import{e as C,C as j,_ as D}from"./AppLayout-Cnn_MFyd.js";import{d as F}from"./debounce-GVzfO1j2.js";import{_ as V}from"./Pagination-D_06uHfq.js";import{r as B}from"./MagnifyingGlassIcon-D18ppjlU.js";import{r as G}from"./PlusIcon-GxRdK-we.js";import{r as _}from"./TruckIcon-Glyxz6t8.js";import{r as L}from"./EyeIcon-DIU4Tane.js";import{r as T}from"./CubeIcon-Bx41BQ3s.js";import{r as U}from"./ShieldCheckIcon-Dg2c2PfR.js";/* empty css            */import"./XMarkIcon-DWAqZtbg.js";import"./SunIcon-HunFC8Xf.js";import"./WrenchScrewdriverIcon-D_tWyJnF.js";import"./DocumentPlusIcon-D30f2qj-.js";import"./DocumentTextIcon-dqr5IMiK.js";import"./ShoppingCartIcon-C5mv0T-T.js";import"./MapPinIcon-DN4-E308.js";import"./SparklesIcon-D2YLum-1.js";import"./ClockIcon-BKh-WId8.js";import"./CheckCircleIcon-DFMPmvz4.js";function O(i,m){return d(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"})])}const P={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},q={class:"flex items-center gap-3"},Q={class:"relative flex-1 sm:w-80"},E={class:"flex gap-2"},W={key:0,class:"mb-6 rounded-2xl glass-card p-4"},H={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},J=["value"],K={class:"rounded-2xl glass-card overflow-hidden"},X={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},Y={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},tt={class:"divide-y divide-slate-100 dark:divide-slate-800"},et={class:"px-4 py-2 whitespace-nowrap"},st={class:"flex items-center gap-3"},at={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 dark:bg-slate-800"},rt={class:"text-sm font-medium text-slate-900 dark:text-white"},lt={class:"px-4 py-2 whitespace-nowrap"},ot={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-white"},dt={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},it={class:"flex items-center gap-2"},nt={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},ct={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-slate-600 dark:text-slate-300"},xt={class:"px-4 py-2 whitespace-nowrap text-center text-sm font-bold text-slate-900 dark:text-white"},pt={class:"px-4 py-2 whitespace-nowrap text-center"},ut={class:"px-4 py-2 whitespace-nowrap text-right"},bt={key:0},gt={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4"},ht={class:"mt-12"},mt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},vt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},kt={class:"flex items-center gap-3 mb-3"},ft={class:"p-2.5 rounded-xl bg-indigo-500/10 text-indigo-400"},wt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},yt={class:"flex items-center gap-3 mb-3"},_t={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},St={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Mt={class:"flex items-center gap-3 mb-3"},$t={class:"p-2.5 rounded-xl bg-amber-500/10 text-amber-400"},Nt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Zt={class:"flex items-center gap-3 mb-3"},zt={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},At={key:1,class:"text-slate-900 dark:text-white text-center py-20"},Xt={__name:"Index",props:{receipts:Object,filters:Object,statuses:Array},setup(i){const m=i,p=v(m.filters?.search||""),u=v(m.filters?.status||""),b=v(!1),S=F(()=>{N.get("/purchasing/receipts",{search:p.value||void 0,status:u.value||void 0},{preserveState:!0,replace:!0})},300);Z([p,u],S);const M=c=>c&&{draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",received:"bg-blue-500/20 text-blue-400 border-blue-500/30",inspected:"bg-amber-500/20 text-amber-400 border-amber-500/30",completed:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"}[c]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",$=c=>{if(!c)return"-";try{return new Date(c).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}catch{return c}};return(c,e)=>(d(),o(g,null,[a(r(z),{title:"Goods Receipts"}),a(D,{title:"Goods Receipts"},{default:x(()=>[i.receipts?(d(),o(g,{key:0},[t("div",P,[t("div",q,[t("div",Q,[a(r(B),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),type:"search",placeholder:"Search GRN number...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[A,p.value]])]),t("button",{onClick:e[1]||(e[1]=s=>b.value=!b.value),class:w(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",{"ring-2 ring-blue-500/50":b.value}])},[a(r(C),{class:"h-5 w-5"}),e[3]||(e[3]=l(" Filters ",-1))],2)]),t("div",E,[a(r(h),{href:c.route("purchasing.receipts.scan"),class:"inline-flex items-center gap-2 rounded-xl bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-2.5 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-700 transition-all"},{default:x(()=>[a(r(O),{class:"h-5 w-5"}),e[4]||(e[4]=l(" Scan Inbound ",-1))]),_:1},8,["href"]),a(r(h),{href:"/purchasing/receipts/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:x(()=>[a(r(G),{class:"h-5 w-5"}),e[5]||(e[5]=l(" New Receipt ",-1))]),_:1})])]),a(I,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:x(()=>[b.value?(d(),o("div",W,[t("div",H,[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Status",-1)),f(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>u.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[6]||(e[6]=t("option",{value:""},"All Status",-1)),(d(!0),o(g,null,y(i.statuses,s=>(d(),o("option",{key:s.value,value:s.value},n(s.label),9,J))),128))],512),[[R,u.value]])])])])):k("",!0)]),_:1}),t("div",K,[t("div",X,[t("table",Y,[e[10]||(e[10]=t("thead",null,[t("tr",{class:"border-b border-slate-200 dark:border-slate-700"},[t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Receipt Number"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"PO Reference"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Supplier"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Warehouse"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Date"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Items"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Total Qty"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Status"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",tt,[(d(!0),o(g,null,y(i.receipts.data,s=>(d(),o("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",et,[t("div",st,[t("div",at,[a(r(_),{class:"h-5 w-5 text-indigo-400"})]),t("div",rt,n(s.grn_number),1)])]),t("td",lt,[a(r(h),{href:`/purchasing/orders/${s.purchase_order_id}`,class:"text-sm text-blue-400 hover:underline"},{default:x(()=>[l(n(s.purchase_order?.po_number||"N/A"),1)]),_:2},1032,["href"])]),t("td",ot,n(s.supplier?.name||"N/A"),1),t("td",dt,[t("div",it,[e[8]||(e[8]=t("div",{class:"h-2 w-2 rounded-full bg-blue-500"},null,-1)),l(" "+n(s.warehouse?.name||"N/A"),1)])]),t("td",nt,n($(s.receipt_date)),1),t("td",ct,n(s.items_count),1),t("td",xt,n(parseFloat(s.items_sum_qty_received||0).toLocaleString()),1),t("td",pt,[t("span",{class:w(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium",M(s.status)])},n(s.status?.toUpperCase()),3)]),t("td",ut,[a(r(h),{href:`/purchasing/receipts/${s.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:x(()=>[a(r(L),{class:"h-4 w-4"})]),_:1},8,["href"])])]))),128)),i.receipts.data&&i.receipts.data.length===0?(d(),o("tr",bt,[...e[9]||(e[9]=[t("td",{colspan:"9",class:"px-4 py-12 text-center text-slate-500 italic"},"No goods receipts found.",-1)])])):k("",!0)])])]),i.receipts.last_page>1?(d(),o("div",gt,[a(V,{links:i.receipts.links},null,8,["links"])])):k("",!0)]),t("div",ht,[e[19]||(e[19]=t("div",{class:"flex items-center gap-2 mb-4 px-1"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Inbound Logistics Guide"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",mt,[t("div",vt,[t("div",kt,[t("div",ft,[a(r(_),{class:"h-5 w-5"})]),e[11]||(e[11]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Goods Receiving",-1))]),e[12]||(e[12]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Record "),t("strong",null,"Incoming Items"),l(" against issued POs. ")],-1))]),t("div",wt,[t("div",yt,[t("div",_t,[a(r(T),{class:"h-5 w-5"})]),e[13]||(e[13]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Stock Arrival",-1))]),e[14]||(e[14]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Inventory levels are "),t("strong",null,"Automatically Updated"),l(". ")],-1))]),t("div",St,[t("div",Mt,[t("div",$t,[a(r(j),{class:"h-5 w-5"})]),e[15]||(e[15]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Partial Receipts",-1))]),e[16]||(e[16]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Support for "),t("strong",null,"Split Shipments"),l(". ")],-1))]),t("div",Nt,[t("div",Zt,[t("div",zt,[a(r(U),{class:"h-5 w-5"})]),e[17]||(e[17]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Quality Control",-1))]),e[18]||(e[18]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Use receipts to log "),t("strong",null,"Initial Inspections"),l(". ")],-1))])])])],64)):(d(),o("div",At," Loading receipt data... "))]),_:1})],64))}};export{Xt as default};
