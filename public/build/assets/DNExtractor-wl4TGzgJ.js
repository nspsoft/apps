import{r as v,s as ee,c as i,b as a,u as r,h as te,d as se,e,o,k as m,F as h,g as C,n as I,m as le,t as x,y as F,j as b,f as w,i as V,v as R,B as ae,D as q,G}from"./app-C6adp8Hz.js";import{_ as re}from"./AppLayout-BfNEUiNR.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as de}from"./ChevronLeftIcon-DPlN9eSa.js";import{r as U}from"./SparklesIcon-ClX5xEZE.js";import{r as y}from"./CheckCircleIcon-Dc3LKhRt.js";import{r as ne}from"./EyeIcon-_-TdQPGt.js";import{a as ie}from"./WrenchScrewdriverIcon-C8niOvb8.js";import{r as ue}from"./CloudArrowUpIcon-BMlw8iUm.js";import{r as L}from"./ExclamationTriangleIcon-owKnOteO.js";import{r as ce}from"./ArrowPathIcon-L-ph4zeB.js";import{r as N}from"./PencilIcon-DjeMCFUd.js";import{r as T}from"./DocumentTextIcon-D8ZUJRIq.js";import{r as pe}from"./XMarkIcon-DynOuLIh.js";import{r as me}from"./TrashIcon-zKw-4FS_.js";import{r as xe}from"./PlusIcon-DcY6DOLg.js";import{r as be}from"./PhotoIcon-ClmtlHVr.js";/* empty css            */import"./SunIcon-BOfkvM_E.js";import"./CheckBadgeIcon-xWGDXYzw.js";import"./ShoppingCartIcon-Ci2wYF6M.js";import"./CubeIcon-CxVNFL9x.js";import"./TruckIcon-NYqYEkHG.js";const fe={class:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 space-y-8"},ve={class:"flex flex-col md:flex-row md:items-center justify-between gap-6 pb-2"},ge={class:"flex items-center gap-4"},_e={class:"flex items-center gap-3"},he={class:"p-2.5 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 shadow-lg shadow-blue-500/20"},we={"aria-label":"Progress"},ye={role:"list",class:"flex items-center"},ke={class:"group flex items-center"},De={key:1,class:"text-sm font-bold"},Ce={class:"ml-3 hidden sm:block font-sans"},Ie={class:"text-xs text-slate-500"},Re={key:0,class:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 p-6 shadow-xl h-fit sticky top-6 transition-all duration-500 animate-in fade-in slide-in-from-left-4"},Ue={class:"flex items-center justify-between mb-4"},Ae={class:"flex items-center gap-2"},Ne=["href"],Pe={class:"rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-inner"},je=["src"],Oe=["src"],Se={class:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 p-6 shadow-xl overflow-hidden"},Me={key:0,class:"flex flex-col items-center py-8"},$e={class:"p-5 rounded-full bg-slate-50 dark:bg-slate-800 group-hover:bg-blue-500/10 transition-colors"},Ee={class:"text-center"},Fe={class:"text-lg font-bold text-slate-700 dark:text-slate-200"},Ve={key:0,class:"mt-6 w-full p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-500 text-sm font-medium"},qe=["disabled"],Ge={key:1,class:"flex flex-col items-center py-16"},Le={class:"relative w-28 h-28 mb-10"},Te={class:"absolute inset-0 flex items-center justify-center"},ze={class:"mt-12 w-full max-w-xs space-y-4"},Be={class:"flex items-center gap-3"},Ye={class:"flex items-center gap-3"},Qe={key:2,class:"space-y-6 animate-in fade-in duration-500"},We={class:"bg-emerald-500/10 border border-emerald-500/20 p-4 rounded-2xl flex items-center gap-3 text-emerald-500"},He={class:"text-sm font-bold"},Je={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ke={class:"space-y-2"},Xe={class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1 ml-1"},Ze=["value"],et={class:"space-y-2"},tt={class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1 ml-1"},st={class:"space-y-2"},lt={class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1 ml-1"},at={class:"space-y-1.5"},rt={class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1.5 ml-1"},ot={key:0,class:"flex items-center justify-between px-3 py-2 rounded-xl bg-blue-500/5 border border-blue-500/20 group"},dt={class:"flex items-center gap-3"},nt={class:"text-xs font-bold text-blue-500"},it={key:1,class:"px-3 py-2 rounded-xl border border-dashed border-slate-200 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50 flex items-center gap-2"},ut={class:"rounded-2xl border border-slate-200 dark:border-slate-700 flex flex-col relative overflow-hidden bg-white dark:bg-slate-900 shadow-lg"},ct={class:"overflow-y-auto max-h-[400px] flex-1"},pt={class:"min-w-full table-fixed"},mt={class:"divide-y divide-slate-100 dark:divide-slate-800"},xt={class:"px-2 py-3 text-center w-[6%]"},bt={class:"text-xs font-bold text-slate-300"},ft={class:"px-2 py-3 w-[34%]"},vt=["onUpdate:modelValue"],gt={class:"px-2 py-3 text-center w-[10%]"},_t={class:"text-xs font-mono font-bold text-slate-400"},ht={class:"px-2 py-3 w-[34%]"},wt=["onUpdate:modelValue"],yt=["value"],kt={key:0,class:"mt-1 flex items-center gap-1 ml-1"},Dt={class:"text-[9px] font-bold text-emerald-500 uppercase tracking-tight flex items-center gap-0.5"},Ct={class:"px-2 py-3 text-center w-[10%]"},It=["onUpdate:modelValue"],Rt={class:"px-2 py-3 text-center w-[6%]"},Ut=["onClick"],At={key:0},Nt={colspan:"6",class:"px-6 py-12 text-center"},Pt={class:"flex flex-col items-center"},jt={class:"p-3 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700"},Ot={class:"flex flex-wrap items-center justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-800"},St=["disabled"],Mt={key:3,class:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8"},$t={class:"w-24 h-24 bg-emerald-500/20 rounded-full flex items-center justify-center mb-8 relative"},Et={class:"mt-12 flex justify-center gap-2"},Ft={key:0,class:"max-w-4xl mx-auto flex items-center justify-between px-4 opacity-50"},Vt={class:"flex items-center gap-2 text-xs text-slate-400 font-bold uppercase tracking-tighter"},qt={__name:"DNExtractor",props:{suppliers:Array},setup(P){const z=P,f=v(null),k=v(null),p=v(null),B=v(!1),j=v(!1),u=v(1),g=v(null),A=[{id:1,name:"Upload",description:"Upload DN document"},{id:2,name:"Processing",description:"AI analyzing"},{id:3,name:"Review",description:"Verify & Match"},{id:4,name:"Completion",description:"Goods Receipt"}],l=v({supplier_id:"",supplier_name:"",po_number:"",po_id:"",dn_number:"",date:new Date().toISOString().split("T")[0],items:[]}),_=v(null);ee(()=>{p.value&&URL.revokeObjectURL(p.value)});const Y=q(()=>{if(!f.value)return null;const d=f.value.type;return d==="application/pdf"?"pdf":d.startsWith("image/")?"image":"unknown"}),O=d=>{const t=d.target.files?.[0]||d.dataTransfer?.files?.[0];t&&Q(t)},Q=d=>{if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(d.type)){g.value="Invalid file format. Please upload Image or PDF.";return}if(d.size>5*1024*1024){g.value="File too large (Max 5MB).";return}p.value&&URL.revokeObjectURL(p.value),f.value=d,p.value=URL.createObjectURL(d),g.value=null},W=()=>{f.value=null,k.value&&(k.value.value=null),p.value&&(URL.revokeObjectURL(p.value),p.value=null)},S=()=>{W(),g.value=null,u.value=1,l.value={supplier_id:"",supplier_name:"",po_number:"",po_id:"",dn_number:"",date:new Date().toISOString().split("T")[0],items:[]},_.value=null},H=async()=>{if(!f.value)return;u.value=2,j.value=!0,g.value=null;const d=new FormData;d.append("file",f.value);try{const t=await G.post(route("purchasing.dn-extractor.extract"),d,{headers:{"Content-Type":"multipart/form-data"}}),s=t.data.extracted_data,c=t.data.matched_po;if(l.value.dn_number=s.dn_number||"",l.value.date=s.date||new Date().toISOString().split("T")[0],l.value.po_number=s.po_number||(c?c.po_number:""),l.value.supplier_name=s.supplier_name||"",s.supplier_name){const n=z.suppliers.find(D=>D.name.toLowerCase().includes(s.supplier_name.toLowerCase())||s.supplier_name.toLowerCase().includes(D.name.toLowerCase()));n&&(l.value.supplier_id=n.id)}l.value.items=(s.items||[]).map(n=>({description:n.description,scanned_qty:n.qty||0,scanned_unit:n.unit||"",purchase_order_item_id:"",qty_received:n.qty||0,notes:n.remarks||"",match_status:"unmatched"})),c&&(_.value=c,l.value.po_id=c.id,J(l.value.items,c.items)),u.value=3}catch(t){console.error(t),g.value=t.response?.data?.message||"Failed to analyze document.",u.value=1}finally{j.value=!1}},J=(d,t)=>{d.forEach(s=>{const c=s.description.toLowerCase(),n=t.find(D=>{const E=(D.product?.name||D.description||"").toLowerCase();return E.includes(c)||c.includes(E)});n&&(s.purchase_order_item_id=n.id,s.match_status="matched",s.qty_received>n.qty&&(s.match_status="warning"))})},M=()=>{l.value.items.push({description:"",scanned_qty:0,scanned_unit:"Pcs",purchase_order_item_id:"",qty_received:0,notes:"",match_status:"unmatched"})},K=d=>{l.value.items.splice(d,1)},$=q(()=>{const d=l.value.items.filter(t=>t.purchase_order_item_id&&t.qty_received>0);return{count:d.length,ready:!!l.value.po_id&&!!l.value.dn_number&&d.length>0}}),X=async()=>{if($.value.ready&&confirm("Create Goods Receipt for these items?"))try{const d={purchase_order_id:l.value.po_id,dn_number:l.value.dn_number,date:l.value.date,items:l.value.items.filter(s=>s.purchase_order_item_id).map(s=>({purchase_order_item_id:s.purchase_order_item_id,qty_received:s.qty_received,notes:s.notes}))},t=await G.post(route("purchasing.dn-extractor.store-gr"),d);t.data.redirect_url&&(u.value=4,setTimeout(()=>{window.location.href=t.data.redirect_url},1e3))}catch(d){alert(d.response?.data?.message||"Failed to create GR")}},Z=()=>{k.value&&k.value.click()};return(d,t)=>(o(),i(h,null,[a(r(te),{title:"AI Delivery Note Extractor"}),a(re,{title:"AI Delivery Note Extractor"},{default:se(()=>[e("div",fe,[e("div",ve,[e("div",ge,[u.value>1?(o(),i("button",{key:0,onClick:S,class:"p-2.5 rounded-2xl bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-slate-500 transition-colors",title:"Start Over"},[a(r(de),{class:"h-6 w-6"})])):m("",!0),e("div",_e,[e("div",he,[a(r(U),{class:"h-5 w-5 text-white"})]),t[5]||(t[5]=e("div",null,[e("h2",{class:"text-lg font-bold text-slate-900 dark:text-white leading-tight"}," AI Delivery Note Extractor "),e("p",{class:"text-xs text-slate-500 dark:text-slate-400"}," Powered by Gemini AI - AI Powered Recognition ")],-1))])]),e("nav",we,[e("ol",ye,[(o(),i(h,null,C(A,(s,c)=>e("li",{key:s.name,class:I(["relative",c!==A.length-1?"pr-8 sm:pr-20":""])},[e("div",ke,[e("div",{class:I(["relative z-10 flex h-10 w-10 items-center justify-center rounded-full border-2 transition-all duration-300",u.value>s.id?"border-emerald-500 bg-emerald-500 text-white":u.value===s.id?"border-blue-500 bg-blue-500 text-white":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-500"])},[u.value>s.id?(o(),le(r(y),{key:0,class:"h-5 w-5"})):(o(),i("span",De,x(s.id),1))],2),e("div",Ce,[e("p",{class:I(["text-sm font-bold",u.value>=s.id?"text-slate-900 dark:text-white":"text-slate-400"])},x(s.name),3),e("p",Ie,x(s.description),1)])]),c!==A.length-1?(o(),i("div",{key:0,class:I(["absolute top-5 left-10 -ml-px h-0.5 w-full transition-colors duration-300",u.value>s.id?"bg-emerald-500":"bg-slate-200 dark:bg-slate-700"])},null,2)):m("",!0)],2)),64))])])]),e("div",{class:I(["grid gap-6",u.value>=3&&p.value?"lg:grid-cols-2":"lg:grid-cols-1 max-w-4xl mx-auto"])},[u.value>=3&&p.value?(o(),i("div",Re,[e("div",Ue,[e("div",Ae,[a(r(ne),{class:"h-5 w-5 text-slate-500"}),t[6]||(t[6]=e("span",{class:"text-sm font-bold text-slate-700 dark:text-slate-300"},"Original Document",-1))]),e("a",{href:p.value,target:"_blank",class:"p-2 rounded-xl text-slate-400 hover:text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",title:"Open in new window"},[a(r(ie),{class:"h-5 w-5"})],8,Ne)]),e("div",Pe,[Y.value==="pdf"?(o(),i("iframe",{key:0,src:p.value,class:"w-full h-[650px]",title:"DN Document Preview"},null,8,je)):(o(),i("img",{key:1,src:p.value,class:"w-full h-[650px] object-contain",alt:"DN Document Preview"},null,8,Oe))])])):m("",!0),e("div",Se,[u.value===1?(o(),i("div",Me,[e("div",{onClick:Z,onDragover:t[0]||(t[0]=F(()=>{},["prevent"])),onDrop:F(O,["prevent"]),class:"w-full h-72 border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-3xl flex flex-col items-center justify-center gap-4 cursor-pointer hover:border-blue-500/50 hover:bg-blue-500/5 transition-all group relative overflow-hidden"},[e("div",$e,[a(r(ue),{class:"h-12 w-12 text-slate-400 group-hover:text-blue-500 transition-colors"})]),e("div",Ee,[e("p",Fe,x(f.value?f.value.name:"Click to upload or drag & drop"),1),t[7]||(t[7]=e("p",{class:"text-sm text-slate-500 mt-1"},"PDF or Image (Max 5MB)",-1))]),e("input",{ref_key:"fileInput",ref:k,type:"file",class:"hidden",accept:"application/pdf,image/png,image/jpeg,image/jpg",onChange:O},null,544)],32),g.value?(o(),i("div",Ve,[a(r(L),{class:"h-5 w-5 shrink-0"}),e("span",null,x(g.value),1)])):m("",!0),e("button",{onClick:H,disabled:!f.value||B.value,class:"mt-8 w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold shadow-lg shadow-blue-500/25 dark:shadow-blue-500/10 hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 text-lg"},[a(r(U),{class:"h-6 w-6"}),t[8]||(t[8]=b(" Start AI Extraction ",-1))],8,qe),t[9]||(t[9]=e("div",{class:"mt-6 text-center text-xs text-slate-400 italic"}," Tip: Best results come from high-resolution images or clear PDF documents. ",-1))])):m("",!0),u.value===2?(o(),i("div",Ge,[e("div",Le,[t[10]||(t[10]=e("div",{class:"absolute inset-0 border-4 border-slate-100 dark:border-slate-800 rounded-full"},null,-1)),t[11]||(t[11]=e("div",{class:"absolute inset-0 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"},null,-1)),e("div",Te,[a(r(U),{class:"h-10 w-10 text-amber-500 animate-pulse"})])]),t[15]||(t[15]=e("h3",{class:"text-xl font-bold text-slate-900 dark:text-white"},"AI is reading your document...",-1)),t[16]||(t[16]=e("p",{class:"mt-3 text-sm text-slate-500 text-center max-w-sm px-6"}," Gemini is identifying supplier details, PO numbers, and matching line items. ",-1)),e("div",ze,[e("div",Be,[a(r(y),{class:"h-6 w-6 text-emerald-500"}),t[12]||(t[12]=e("span",{class:"text-sm font-semibold text-slate-400"},"File Uploaded",-1))]),e("div",Ye,[a(r(ce),{class:"h-6 w-6 text-blue-500 animate-spin"}),t[13]||(t[13]=e("span",{class:"text-sm font-semibold text-slate-700 dark:text-slate-200"},"Processing with Vision AI",-1))]),t[14]||(t[14]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"h-6 w-6 rounded-full border-2 border-slate-200 dark:border-slate-700"}),e("span",{class:"text-sm font-semibold text-slate-400"},"Finalizing Data")],-1))])])):m("",!0),u.value===3?(o(),i("div",Qe,[e("div",We,[a(r(y),{class:"h-6 w-6"}),e("div",He,"Extraction Successful! AI found "+x(l.value.items.length)+" items. You can edit the data below.",1)]),e("div",Je,[e("div",Ke,[e("label",Xe,[a(r(N),{class:"h-3 w-3"}),t[17]||(t[17]=b(" Supplier ",-1))]),w(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.supplier_id=s),class:"w-full px-4 py-2.5 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white text-sm font-medium focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"},[t[18]||(t[18]=e("option",{value:""},"Select Supplier...",-1)),(o(!0),i(h,null,C(P.suppliers,s=>(o(),i("option",{key:s.id,value:s.id},x(s.name),9,Ze))),128))],512),[[V,l.value.supplier_id]])]),e("div",et,[e("label",tt,[a(r(N),{class:"h-3 w-3"}),t[19]||(t[19]=b(" DN Number ",-1))]),w(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.dn_number=s),type:"text",class:"w-full px-4 py-2.5 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white text-sm font-medium focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Enter DN Number..."},null,512),[[R,l.value.dn_number]])]),e("div",st,[e("label",lt,[a(r(N),{class:"h-3 w-3"}),t[20]||(t[20]=b(" Receipt Date ",-1))]),w(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.date=s),type:"date",class:"w-full px-4 py-2.5 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white text-sm font-medium focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"},null,512),[[R,l.value.date]])])]),e("div",at,[e("label",rt,[a(r(T),{class:"h-3 w-3"}),t[21]||(t[21]=b(" Reference Purchase Order (PO) ",-1))]),_.value?(o(),i("div",ot,[e("div",dt,[a(r(y),{class:"h-4 w-4 text-blue-500"}),e("span",nt,x(_.value.po_number),1),t[22]||(t[22]=e("span",{class:"text-[10px] text-slate-400"},"Matched PO",-1))]),e("button",{onClick:t[4]||(t[4]=s=>{_.value=null,l.value.po_id=""}),class:"p-1 text-slate-300 hover:text-red-500 transition-colors"},[a(r(pe),{class:"h-3 w-3"})])])):(o(),i("div",it,[a(r(L),{class:"h-3 w-3 text-amber-500"}),t[23]||(t[23]=e("p",{class:"text-[10px] font-bold text-slate-500"},"No PO Matched Automatically",-1))]))]),e("div",ut,[t[28]||(t[28]=e("div",{class:"bg-slate-100 dark:bg-slate-800"},[e("table",{class:"min-w-full table-fixed"},[e("thead",null,[e("tr",null,[e("th",{class:"px-2 py-3 text-center text-[10px] font-bold text-slate-500 uppercase tracking-wider w-[6%]"},"No"),e("th",{class:"px-2 py-3 text-left text-[10px] font-bold text-slate-500 uppercase tracking-wider w-[34%]"},"Description"),e("th",{class:"px-2 py-3 text-center text-[10px] font-bold text-slate-500 uppercase tracking-wider w-[10%]"},"Qty"),e("th",{class:"px-2 py-3 text-center text-[10px] font-bold text-slate-500 uppercase tracking-wider w-[34%]"},"Match PO Item"),e("th",{class:"px-2 py-3 text-center text-[10px] font-bold text-slate-500 uppercase tracking-wider w-[10%]"},"Confirm"),e("th",{class:"px-2 py-3 text-center text-[10px] font-bold text-slate-500 uppercase tracking-wider w-[6%]"},"Act")])])])],-1)),e("div",ct,[e("table",pt,[e("tbody",mt,[(o(!0),i(h,null,C(l.value.items,(s,c)=>(o(),i("tr",{key:c,class:"hover:bg-slate-50/50 dark:hover:bg-slate-800/30 transition-colors"},[e("td",xt,[e("span",bt,x(c+1),1)]),e("td",ft,[w(e("input",{"onUpdate:modelValue":n=>s.description=n,type:"text",class:"w-full px-2 py-1.5 rounded-lg bg-transparent border-0 focus:ring-0 text-xs font-medium text-slate-700 dark:text-slate-300"},null,8,vt),[[R,s.description]])]),e("td",gt,[e("span",_t,x(s.scanned_qty),1)]),e("td",ht,[w(e("select",{"onUpdate:modelValue":n=>s.purchase_order_item_id=n,class:"w-full px-2 py-1.5 rounded-lg bg-slate-50 dark:bg-white/5 border border-slate-200 dark:border-slate-700 text-[10px] font-bold text-slate-600 dark:text-slate-400 focus:ring-2 focus:ring-blue-500/20 outline-none appearance-none"},[t[24]||(t[24]=e("option",{value:""},"-- Manual Match --",-1)),_.value?(o(!0),i(h,{key:0},C(_.value.items,n=>(o(),i("option",{key:n.id,value:n.id},x(n.product?.name||n.description)+" (Ord: "+x(n.qty)+") ",9,yt))),128)):m("",!0)],8,wt),[[V,s.purchase_order_item_id]]),s.purchase_order_item_id?(o(),i("div",kt,[e("span",Dt,[a(r(y),{class:"h-2.5 w-2.5"}),t[25]||(t[25]=b(" Ready ",-1))])])):m("",!0)]),e("td",Ct,[w(e("input",{"onUpdate:modelValue":n=>s.qty_received=n,type:"number",class:"w-full px-1 py-1.5 rounded-lg bg-slate-50 dark:bg-white/5 border border-slate-200 dark:border-slate-700 text-xs font-bold text-slate-900 dark:text-white text-center focus:ring-2 focus:ring-emerald-500/20 outline-none"},null,8,It),[[R,s.qty_received,void 0,{number:!0}]])]),e("td",Rt,[e("button",{onClick:n=>K(c),class:"p-1.5 text-slate-300 hover:text-red-500 transition-colors"},[a(r(me),{class:"h-4 w-4"})],8,Ut)])]))),128)),l.value.items.length===0?(o(),i("tr",At,[e("td",Nt,[e("div",Pt,[a(r(T),{class:"h-10 w-10 text-slate-200 mb-2"}),t[26]||(t[26]=e("p",{class:"text-sm font-medium text-slate-400"},"No items detected.",-1)),e("button",{onClick:M,class:"mt-2 text-xs text-blue-500 hover:underline"},"Add row manually")])])])):m("",!0)])])]),e("div",jt,[e("button",{onClick:M,class:"w-full py-2.5 rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-600 text-slate-500 hover:border-blue-500 hover:text-blue-500 transition-all flex items-center justify-center gap-2 text-sm font-medium"},[a(r(xe),{class:"h-4 w-4"}),t[27]||(t[27]=b(" Add Item ",-1))])])]),t[30]||(t[30]=e("div",{class:"p-4 rounded-xl bg-blue-500/10 border border-blue-500/20 text-sm text-blue-600 dark:text-blue-400"},[e("strong",null,"Edit Mode:"),b(" Anda dapat mengedit semua data di atas sebelum membuat Goods Receipt. Perubahan yang Anda buat akan langsung digunakan untuk pembuatan dokumen penerimaan. ")],-1)),e("div",Ot,[e("button",{onClick:S,class:"px-6 py-3 rounded-2xl bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-200 transition-all font-sans"}," Try Again "),e("button",{onClick:X,disabled:!$.value.ready,class:"px-8 py-3 rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold shadow-lg shadow-blue-500/25 dark:shadow-blue-500/10 hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3"},[a(r(U),{class:"h-5 w-5"}),t[29]||(t[29]=b(" Create Goods Receipt ",-1))],8,St)])])):m("",!0),u.value===4?(o(),i("div",Mt,[e("div",$t,[a(r(y),{class:"w-14 h-14 text-emerald-500"}),t[31]||(t[31]=e("div",{class:"absolute inset-0 bg-emerald-500 rounded-full animate-ping opacity-20"},null,-1))]),t[32]||(t[32]=e("h2",{class:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-teal-500 mb-2"},"GR Successfully Created!",-1)),t[33]||(t[33]=e("p",{class:"text-slate-500 max-w-sm font-medium"},"Redirecting you to the Goods Receipt details page. Great work!",-1)),e("div",Et,[(o(),i(h,null,C(3,s=>e("div",{key:s,class:"h-1.5 w-1.5 bg-emerald-500/50 rounded-full animate-bounce",style:ae(`animation-delay: ${s*200}ms`)},null,4)),64))])])):m("",!0)])],2),u.value===1?(o(),i("div",Ft,[e("div",Vt,[a(r(be),{class:"h-4 w-4"}),t[34]||(t[34]=b(" IMAGE RECOGNITION ACTIVE ",-1))]),t[35]||(t[35]=e("div",{class:"flex items-center gap-2 text-xs text-slate-400 font-bold uppercase tracking-tighter"},[b(" GEMINI 1.5 PRO READY "),e("div",{class:"h-1.5 w-1.5 bg-blue-500 rounded-full animate-pulse"})],-1))])):m("",!0)])]),_:1})],64))}},us=oe(qt,[["__scopeId","data-v-befebdaf"]]);export{us as default};
