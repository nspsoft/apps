import{f as h,c as i,a as l,u as o,h as y,w as u,b as e,l as g,t as d,i as v,o as n,F as b,g as k,j as x,n as w,v as m,e as q,d as N}from"./app-IVoQJucO.js";import{_ as V}from"./AppLayout-CB6itj69.js";import{r as C}from"./ArrowLeftIcon-B_kbiwSh.js";import{r as R}from"./CheckCircleIcon-BsWlH7Rj.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-D_woVOUk.js";import"./SunIcon-CYbLoLnh.js";import"./WrenchScrewdriverIcon-BFnYhfSI.js";import"./DocumentPlusIcon-DG_g0Qf-.js";import"./TruckIcon-B37qipaX.js";import"./DocumentTextIcon-Bwhp7UlT.js";import"./ShoppingCartIcon-C8LltAfz.js";import"./MapPinIcon-3JoXjwIr.js";import"./SparklesIcon-CkSh7JIs.js";import"./CubeIcon-C_ydCMqF.js";import"./ClockIcon-C7llT3BY.js";import"./ShieldCheckIcon-Dg1cl82W.js";const F={class:"max-w-4xl mx-auto"},S={class:"flex items-center gap-4 mb-8"},D={class:"text-slate-500"},j={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden"},U={class:"w-full text-left text-sm"},B={class:"divide-y divide-slate-200 dark:divide-slate-700"},I={class:"px-6 py-4"},T={class:"font-bold text-slate-900 dark:text-white"},z={class:"text-xs text-slate-500"},G={class:"px-6 py-4 text-center font-bold text-slate-500 text-lg"},L={class:"px-6 py-4"},M=["onUpdate:modelValue"],Q={key:0,class:"text-center text-[10px] text-red-500 mt-1 font-bold"},$={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6"},A={class:"flex justify-end pt-4"},E=["disabled"],ce={__name:"Check",props:{receipt:Object},setup(c){const p=c,a=h({items:p.receipt.items.map(s=>({id:s.id,product_name:s.product?.name||s.product_id,sku:s.product?.sku,qty_ordered:parseFloat(s.qty_ordered),qty_received:parseFloat(s.qty_received)>0?parseFloat(s.qty_received):parseFloat(s.qty_ordered),unit:s.product?.unit?.code})),notes:p.receipt.notes}),_=()=>{confirm("Confirm reception? This will finalize the Goods Receipt and update stock.")&&a.post(route("purchasing.receipts.confirm",p.receipt.id))};return(s,r)=>(n(),i(b,null,[l(o(y),{title:"Check Receipt"}),l(V,{title:"Check Receipt"},{default:u(()=>[e("div",F,[e("div",S,[l(o(g),{href:"/purchasing/receipts",class:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"},{default:u(()=>[l(o(C),{class:"w-5 h-5 text-slate-500"})]),_:1}),e("div",null,[r[1]||(r[1]=e("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Verify Delivery",-1)),e("p",D,"GRN: "+d(c.receipt.grn_number)+" â€¢ Supplier: "+d(c.receipt.supplier?.name),1)])]),e("form",{onSubmit:v(_,["prevent"]),class:"space-y-6"},[e("div",j,[r[3]||(r[3]=e("div",{class:"p-6 border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50 flex justify-between items-center"},[e("h2",{class:"font-bold text-slate-800 dark:text-white"},"Items to Receive"),e("span",{class:"text-xs font-mono bg-blue-100 text-blue-700 px-2 py-1 rounded"},"Verify Quantities")],-1)),e("table",U,[r[2]||(r[2]=e("thead",{class:"bg-slate-50 dark:bg-slate-700/50 uppercase text-xs font-bold text-slate-500"},[e("tr",null,[e("th",{class:"px-6 py-4"},"Product"),e("th",{class:"px-6 py-4 text-center"},"Dispatched"),e("th",{class:"px-6 py-4 w-40 text-center"},"Received Qty")])],-1)),e("tbody",B,[(n(!0),i(b,null,k(o(a).items,(t,O)=>(n(),i("tr",{key:t.id},[e("td",I,[e("p",T,d(t.product_name),1),e("p",z,d(t.sku),1)]),e("td",G,d(Number(t.qty_ordered).toLocaleString("id-ID")),1),e("td",L,[x(e("input",{"onUpdate:modelValue":f=>t.qty_received=f,type:"number",min:"0",step:"0.01",class:w(["w-full text-center font-bold text-lg rounded-lg border-2",{"border-slate-200 dark:border-slate-600 focus:border-indigo-500":t.qty_received==t.qty_ordered,"border-red-500 text-red-600 bg-red-50":t.qty_received<t.qty_ordered,"border-orange-500 text-orange-600 bg-orange-50":t.qty_received>t.qty_ordered}])},null,10,M),[[m,t.qty_received]]),t.qty_received<t.qty_ordered?(n(),i("p",Q," Short: "+d(s.formatNumber?s.formatNumber(t.qty_ordered-t.qty_received):t.qty_ordered-t.qty_received),1)):q("",!0)])]))),128))])])]),e("div",$,[r[4]||(r[4]=e("label",{class:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2"},"Internal Receipt Notes",-1)),x(e("textarea",{"onUpdate:modelValue":r[0]||(r[0]=t=>o(a).notes=t),rows:"3",class:"w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 focus:ring-2 focus:ring-indigo-500",placeholder:"Any comments about condition, packaging, etc..."},null,512),[[m,o(a).notes]])]),e("div",A,[e("button",{type:"submit",disabled:o(a).processing,class:"px-8 py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 flex items-center gap-2 transition-all hover:scale-105 active:scale-95 disabled:opacity-50 disabled:scale-100"},[l(o(R),{class:"w-6 h-6"}),r[5]||(r[5]=N(" Confirm Receive & Update Stock ",-1))],8,E)])],32)])]),_:1})],64))}};export{ce as default};
