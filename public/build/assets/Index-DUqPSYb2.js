import{c as o,b as t,o as a,m as v,s as V,q as Q,a as d,u as r,h as U,w as f,j as D,v as A,d as l,l as _,T as B,F as $,g as S,t as u,k as F,e as n,x as i,n as z}from"./app-zJsw02vx.js";import{e as H,h as m,k as I,_ as O}from"./AppLayout-D4BpQC0B.js";import{f as L}from"./helpers-DzPfLsau.js";import{d as E}from"./debounce-teZYwA4X.js";import{r as G}from"./MagnifyingGlassIcon-DDXN0fpe.js";import{r as K}from"./PlusIcon-Cmb2acl8.js";import{r as g}from"./ChevronUpIcon-BnN0Ut6o.js";import{r as R}from"./EyeIcon-CfI74-ZG.js";import{r as W}from"./PencilSquareIcon-CnlBPcfG.js";import{r as J}from"./TrashIcon-XrsR0Tep.js";import{r as P}from"./ClockIcon-C-qVshqO.js";import{r as X}from"./CheckCircleIcon-BYy8QWv7.js";import{r as Y}from"./ShieldCheckIcon-6jFN3elY.js";/* empty css            */import"./XMarkIcon-DfeFp9AX.js";import"./SunIcon-zdIWEs-R.js";import"./WrenchScrewdriverIcon-D_aAqD7I.js";import"./DocumentPlusIcon-pDB4SSRv.js";import"./TruckIcon-DHPnLxIR.js";import"./DocumentTextIcon-Bgyb8RGC.js";import"./ShoppingCartIcon-BP7AbJ38.js";import"./MapPinIcon-CsgHsumu.js";import"./SparklesIcon-Otaa2E01.js";import"./CubeIcon-CZD74TpM.js";function N(c,h){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}const Z={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},tt={class:"flex items-center gap-3"},et={class:"relative flex-1 sm:w-80"},st={key:0,class:"mb-6 rounded-2xl glass-card p-4 shadow-sm"},at={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},rt=["value"],lt={class:"rounded-2xl glass-card overflow-hidden shadow-sm"},ot={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},dt={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-100 dark:divide-slate-800"},it={class:"border-b border-slate-200 dark:border-slate-700"},nt={class:"flex items-center gap-1"},xt={key:0,class:"text-blue-600 dark:text-blue-400"},ut={class:"flex items-center gap-1"},ct={key:0,class:"text-blue-600 dark:text-blue-400"},pt={class:"flex items-center gap-1"},kt={key:0,class:"text-blue-600 dark:text-blue-400"},bt={class:"flex items-center justify-center gap-1"},mt={key:0,class:"text-blue-600 dark:text-blue-400"},gt={class:"flex items-center gap-1"},ht={key:0,class:"text-blue-600 dark:text-blue-400"},vt={class:"flex items-center justify-end gap-1"},ft={key:0,class:"text-blue-600 dark:text-blue-400"},wt={class:"flex items-center justify-center gap-1"},yt={key:0,class:"text-blue-600 dark:text-blue-400"},_t={class:"divide-y divide-slate-100 dark:divide-slate-100 dark:divide-slate-800"},$t={class:"px-4 py-2 whitespace-nowrap"},Ct={class:"flex items-center gap-3"},St={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-100 dark:bg-slate-900 dark:bg-slate-800"},jt={class:"text-sm font-medium text-slate-900 dark:text-white"},qt={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-700 dark:text-white"},Vt={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-500 dark:text-slate-600 dark:text-slate-300"},Dt={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-slate-600 dark:text-slate-300"},zt={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-500 dark:text-slate-600 dark:text-slate-300"},Nt={class:"px-4 py-2 whitespace-nowrap text-sm text-right text-slate-900 dark:text-white font-medium"},Tt={class:"px-4 py-2 whitespace-nowrap text-center"},Mt={class:"px-4 py-2 whitespace-nowrap text-right"},Qt={class:"flex items-center justify-end gap-2"},Ut=["onClick"],At={key:0},Bt={colspan:"7",class:"px-4 py-12 text-center"},Ft={key:0,class:"border-t border-slate-100 dark:border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},Ht={class:"text-sm text-slate-500 dark:text-slate-500 dark:text-slate-400"},It={class:"flex items-center gap-2"},Ot={class:"mt-12"},Lt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Et={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-300 dark:hover:border-slate-600 transition-colors"},Gt={class:"flex items-center gap-3 mb-3"},Kt={class:"p-2.5 rounded-xl bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 dark:text-indigo-400"},Rt={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-300 dark:hover:border-slate-600 transition-colors"},Wt={class:"flex items-center gap-3 mb-3"},Jt={class:"p-2.5 rounded-xl bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400"},Pt={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-300 dark:hover:border-slate-600 transition-colors"},Xt={class:"flex items-center gap-3 mb-3"},Yt={class:"p-2.5 rounded-xl bg-blue-50 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400"},Zt={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-300 dark:hover:border-slate-600 transition-colors"},te={class:"flex items-center gap-3 mb-3"},ee={class:"p-2.5 rounded-xl bg-purple-50 dark:bg-purple-500/10 text-purple-600 dark:text-purple-400"},je={__name:"Index",props:{quotations:Object,filters:Object,statuses:Array},setup(c){const h=c,w=v(h.filters.search||""),y=v(h.filters.status||""),p=v(h.filters.sort||"created_at"),x=v(h.filters.direction||"desc"),C=v(!1),j=E(()=>{V.get("/sales/quotations",{search:w.value||void 0,status:y.value||void 0,sort:p.value,direction:x.value},{preserveState:!0,replace:!0})},300),b=k=>{p.value===k?x.value=x.value==="asc"?"desc":"asc":(p.value=k,x.value="asc"),j()};Q([w,y],j);const T=k=>({draft:"bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-9000/20 dark:text-slate-500 dark:text-slate-400 dark:border-slate-500/30",sent:"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-500/20 dark:text-blue-400 dark:border-blue-500/30",accepted:"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-500/20 dark:text-emerald-400 dark:border-emerald-500/30",rejected:"bg-red-50 text-red-600 border-red-100 dark:bg-red-500/20 dark:text-red-400 dark:border-red-500/30",expired:"bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-500/20 dark:text-amber-400 dark:border-amber-500/30"})[k]||"bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-9000/20 dark:text-slate-500 dark:text-slate-400 dark:border-slate-500/30",q=k=>new Date(k).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}),M=k=>{confirm(`Are you sure you want to delete quotation "${k.number}"?`)&&V.delete(`/sales/quotations/${k.id}`)};return(k,e)=>(a(),o($,null,[d(r(U),{title:"Quotations"}),d(O,{title:"Quotations"},{default:f(()=>[t("div",Z,[t("div",tt,[t("div",et,[d(r(G),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500 dark:text-slate-400"}),D(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>w.value=s),type:"search",placeholder:"Search quotation...",class:"block w-full rounded-xl border-0 bg-white dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 dark:placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500/50 shadow-sm dark:shadow-none ring-1 ring-slate-200 dark:ring-0 transition-all"},null,512),[[A,w.value]])]),t("button",{onClick:e[1]||(e[1]=s=>C.value=!C.value),class:"flex items-center gap-2 rounded-xl bg-white dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 border border-slate-200 dark:border-0 transition-colors shadow-sm dark:shadow-none"},[d(r(H),{class:"h-5 w-5"}),e[10]||(e[10]=l(" Filters ",-1))])]),d(r(_),{href:"/sales/quotations/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:f(()=>[d(r(K),{class:"h-5 w-5"}),e[11]||(e[11]=l(" New Quotation ",-1))]),_:1})]),d(B,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:f(()=>[C.value?(a(),o("div",st,[t("div",at,[t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-500 dark:text-slate-400 mb-2"},"Status",-1)),D(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>y.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50 ring-1 ring-slate-200 dark:ring-0"},[e[12]||(e[12]=t("option",{value:""},"All Status",-1)),(a(!0),o($,null,S(c.statuses,s=>(a(),o("option",{key:s.value,value:s.value},u(s.label),9,rt))),128))],512),[[F,y.value]])])])])):n("",!0)]),_:1}),t("div",lt,[t("div",ot,[t("table",dt,[t("thead",null,[t("tr",it,[t("th",{onClick:e[3]||(e[3]=s=>b("number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",nt,[e[14]||(e[14]=l(" Number ",-1)),p.value==="number"?(a(),o("span",xt,[x.value==="asc"?(a(),i(r(g),{key:0,class:"h-3 w-3"})):(a(),i(r(m),{key:1,class:"h-3 w-3"}))])):n("",!0)])]),t("th",{onClick:e[4]||(e[4]=s=>b("customer_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",ut,[e[15]||(e[15]=l(" Customer ",-1)),p.value==="customer_name"?(a(),o("span",ct,[x.value==="asc"?(a(),i(r(g),{key:0,class:"h-3 w-3"})):(a(),i(r(m),{key:1,class:"h-3 w-3"}))])):n("",!0)])]),t("th",{onClick:e[5]||(e[5]=s=>b("quotation_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",pt,[e[16]||(e[16]=l(" Date ",-1)),p.value==="quotation_date"?(a(),o("span",kt,[x.value==="asc"?(a(),i(r(g),{key:0,class:"h-3 w-3"})):(a(),i(r(m),{key:1,class:"h-3 w-3"}))])):n("",!0)])]),t("th",{onClick:e[6]||(e[6]=s=>b("items_count")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",bt,[e[17]||(e[17]=l(" Items ",-1)),p.value==="items_count"?(a(),o("span",mt,[x.value==="asc"?(a(),i(r(g),{key:0,class:"h-3 w-3"})):(a(),i(r(m),{key:1,class:"h-3 w-3"}))])):n("",!0)])]),t("th",{onClick:e[7]||(e[7]=s=>b("valid_until")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",gt,[e[18]||(e[18]=l(" Valid Until ",-1)),p.value==="valid_until"?(a(),o("span",ht,[x.value==="asc"?(a(),i(r(g),{key:0,class:"h-3 w-3"})):(a(),i(r(m),{key:1,class:"h-3 w-3"}))])):n("",!0)])]),t("th",{onClick:e[8]||(e[8]=s=>b("total")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-right text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",vt,[e[19]||(e[19]=l(" Total ",-1)),p.value==="total"?(a(),o("span",ft,[x.value==="asc"?(a(),i(r(g),{key:0,class:"h-3 w-3"})):(a(),i(r(m),{key:1,class:"h-3 w-3"}))])):n("",!0)])]),t("th",{onClick:e[9]||(e[9]=s=>b("status")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[t("div",wt,[e[20]||(e[20]=l(" Status ",-1)),p.value==="status"?(a(),o("span",yt,[x.value==="asc"?(a(),i(r(g),{key:0,class:"h-3 w-3"})):(a(),i(r(m),{key:1,class:"h-3 w-3"}))])):n("",!0)])]),e[21]||(e[21]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-right text-xs font-bold text-slate-500 dark:text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions",-1))])]),t("tbody",_t,[(a(!0),o($,null,S(c.quotations.data,s=>(a(),o("tr",{key:s.id,class:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",$t,[t("div",Ct,[t("div",St,[d(r(N),{class:"h-5 w-5 text-indigo-500 dark:text-indigo-400"})]),t("div",jt,u(s.number),1)])]),t("td",qt,u(s.customer?.name),1),t("td",Vt,u(q(s.quotation_date)),1),t("td",Dt,u(s.items_count),1),t("td",zt,u(q(s.valid_until)),1),t("td",Nt,u(r(L)(s.total)),1),t("td",Tt,[t("span",{class:z(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium",T(s.status)])},u(s.status?.toUpperCase()),3)]),t("td",Mt,[t("div",Qt,[d(r(_),{href:`/sales/quotations/${s.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-100 dark:hover:bg-slate-800/50 transition-colors",title:"View Details"},{default:f(()=>[d(r(R),{class:"h-4 w-4"})]),_:1},8,["href"]),s.status==="draft"?(a(),i(r(_),{key:0,href:`/sales/quotations/${s.id}/edit`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-blue-500 hover:bg-slate-100 dark:hover:bg-slate-800/50 transition-colors",title:"Edit Quotation"},{default:f(()=>[d(r(W),{class:"h-4 w-4"})]),_:1},8,["href"])):n("",!0),s.status==="draft"?(a(),o("button",{key:1,onClick:se=>M(s),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-red-500 hover:bg-slate-100 dark:hover:bg-slate-800/50 transition-colors",title:"Delete Quotation"},[d(r(J),{class:"h-4 w-4"})],8,Ut)):n("",!0)])])]))),128)),c.quotations.data.length===0?(a(),o("tr",At,[t("td",Bt,[d(r(N),{class:"mx-auto h-12 w-12 text-slate-600 dark:text-slate-300 dark:text-slate-600"}),e[22]||(e[22]=t("h3",{class:"mt-2 text-sm font-medium text-slate-600 dark:text-slate-600 dark:text-slate-300"},"No quotations found",-1)),e[23]||(e[23]=t("p",{class:"mt-1 text-sm text-slate-500 dark:text-slate-400 dark:text-slate-500"},"Create a new quotation for your customers.",-1))])])):n("",!0)])])]),c.quotations.last_page>1?(a(),o("div",Ft,[t("p",Ht," Showing "+u(c.quotations.from)+" to "+u(c.quotations.to)+" of "+u(c.quotations.total)+" quotations ",1),t("div",It,[(a(!0),o($,null,S(c.quotations.links,s=>(a(),i(r(_),{key:s.label,href:s.url||"#",class:z(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-slate-900 dark:text-white":s.url?"text-slate-500 dark:text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-900 dark:text-white":"text-slate-600 dark:text-slate-300 dark:text-white cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):n("",!0)]),t("div",Ot,[e[32]||(e[32]=t("div",{class:"flex items-center gap-2 mb-8 px-1"},[t("div",{class:"h-px flex-1 bg-slate-200 dark:bg-slate-900 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 dark:text-slate-400 dark:text-slate-500 uppercase tracking-widest"},"Quotations & CRM Guide"),t("div",{class:"h-px flex-1 bg-slate-200 dark:bg-slate-900 dark:bg-slate-800"})],-1)),t("div",Lt,[t("div",Et,[t("div",Gt,[t("div",Kt,[d(r(P),{class:"h-5 w-5"})]),e[24]||(e[24]=t("h4",{class:"font-bold text-slate-900 dark:text-slate-200 text-sm"},"Validity Tracking",-1))]),e[25]||(e[25]=t("p",{class:"text-xs text-slate-600 dark:text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Keep track of "),t("strong",null,"Valid Until"),l(" dates. Expired quotations are automatically flagged, helping you follow up with customers promptly. ")],-1))]),t("div",Rt,[t("div",Wt,[t("div",Jt,[d(r(X),{class:"h-5 w-5"})]),e[26]||(e[26]=t("h4",{class:"font-bold text-slate-900 dark:text-slate-200 text-sm"},"Status Workflow",-1))]),e[27]||(e[27]=t("p",{class:"text-xs text-slate-600 dark:text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Manage the lifecycle from "),t("strong",null,"Draft"),l(" to "),t("strong",null,"Sent"),l(" and "),t("strong",null,"Accepted"),l(". Use this to monitor your sales pipeline. ")],-1))]),t("div",Pt,[t("div",Xt,[t("div",Yt,[d(r(I),{class:"h-5 w-5"})]),e[28]||(e[28]=t("h4",{class:"font-bold text-slate-900 dark:text-slate-200 text-sm"},"One-Click Conversion",-1))]),e[29]||(e[29]=t("p",{class:"text-xs text-slate-600 dark:text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Once a quotation is "),t("strong",null,"Accepted"),l(", you can quickly convert it into a Sales Order without re-entering any data. ")],-1))]),t("div",Zt,[t("div",te,[t("div",ee,[d(r(Y),{class:"h-5 w-5"})]),e[30]||(e[30]=t("h4",{class:"font-bold text-slate-900 dark:text-slate-200 text-sm"},"Internal Notes",-1))]),e[31]||(e[31]=t("p",{class:"text-xs text-slate-600 dark:text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Use the notes field for "),t("strong",null,"Internal Comments"),l(" or specific customer requirements that don't need to appear on the final printout. ")],-1))])])])]),_:1})],64))}};export{je as default};
