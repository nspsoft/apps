import{c as d,b as t,o as s,m as f,s as D,q as R,a as o,u as r,h as j,w as m,F as $,j as M,v as F,n as N,d as l,l as S,T as B,g as Z,t as u,k as V,e as b,x as i}from"./app-CmHGKYZj.js";import{e as G,h,D as L,_ as T}from"./AppLayout-CzRMOHcg.js";import{d as U}from"./debounce-B--1HaTe.js";import{_ as O}from"./Pagination-C0UpRggJ.js";import{r as P}from"./MagnifyingGlassIcon-BUzHOc-g.js";import{r as q}from"./PlusIcon-uOkAJB2s.js";import{r as v}from"./ChevronUpIcon-S3MXeq6E.js";import{r as z}from"./TruckIcon-CUCCfv9T.js";import{r as Q}from"./EyeIcon-7Jh6e6Da.js";import{r as E}from"./CubeIcon-DtouJRep.js";import{r as W}from"./ShieldCheckIcon-BpQJQprw.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-DXh7FWmY.js";import"./SunIcon-02OMQ6sZ.js";import"./WrenchScrewdriverIcon-CprG2P8y.js";import"./DocumentPlusIcon-D3fGGAQC.js";import"./DocumentTextIcon-BdIaA6Ll.js";import"./ShoppingCartIcon-BMiDQGoD.js";import"./MapPinIcon-D7atlnzK.js";import"./SparklesIcon-o8BcquHx.js";import"./ClockIcon-BobWk61W.js";import"./CheckCircleIcon-BmBwtu4v.js";function H(p,k){return s(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"})])}const J={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},K={class:"flex items-center gap-3"},X={class:"relative flex-1 sm:w-80"},Y={class:"flex gap-2"},tt={key:0,class:"mb-6 rounded-2xl glass-card p-4"},et={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},st=["value"],at={class:"rounded-2xl glass-card overflow-hidden"},rt={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},lt={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},ot={class:"border-b border-slate-200 dark:border-slate-700"},dt={class:"flex items-center gap-1"},it={key:0,class:"text-blue-600 dark:text-blue-400"},nt={class:"flex items-center gap-1"},ct={key:0,class:"text-blue-600 dark:text-blue-400"},pt={class:"flex items-center gap-1"},xt={key:0,class:"text-blue-600 dark:text-blue-400"},ut={class:"flex items-center gap-1"},bt={key:0,class:"text-blue-600 dark:text-blue-400"},gt={class:"flex items-center gap-1"},mt={key:0,class:"text-blue-600 dark:text-blue-400"},ht={class:"flex items-center justify-center gap-1"},vt={key:0,class:"text-blue-600 dark:text-blue-400"},kt={class:"divide-y divide-slate-100 dark:divide-slate-800"},ft={class:"px-4 py-2 whitespace-nowrap"},wt={class:"flex items-center gap-3"},yt={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 dark:bg-slate-800"},_t={class:"text-sm font-medium text-slate-900 dark:text-white"},$t={class:"px-4 py-2 whitespace-nowrap"},St={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-white"},Ct={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},Mt={class:"flex items-center gap-2"},Nt={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},Zt={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-slate-600 dark:text-slate-300"},zt={class:"px-4 py-2 whitespace-nowrap text-center text-sm font-bold text-slate-900 dark:text-white"},At={class:"px-4 py-2 whitespace-nowrap text-center"},It={class:"px-4 py-2 whitespace-nowrap text-right"},Dt={key:0},Rt={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4"},jt={class:"mt-12"},Ft={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Bt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Vt={class:"flex items-center gap-3 mb-3"},Gt={class:"p-2.5 rounded-xl bg-indigo-500/10 text-indigo-400"},Lt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Tt={class:"flex items-center gap-3 mb-3"},Ut={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},Ot={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Pt={class:"flex items-center gap-3 mb-3"},qt={class:"p-2.5 rounded-xl bg-amber-500/10 text-amber-400"},Qt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Et={class:"flex items-center gap-3 mb-3"},Wt={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},Ht={key:1,class:"text-slate-900 dark:text-white text-center py-20"},ke={__name:"Index",props:{receipts:Object,filters:Object,statuses:Array},setup(p){const k=p,w=f(k.filters?.search||""),y=f(k.filters?.status||""),x=f(k.filters?.sort||"created_at"),c=f(k.filters?.direction||"desc"),_=f(!1),g=n=>{x.value===n?c.value=c.value==="asc"?"desc":"asc":(x.value=n,c.value="asc"),C()},C=U(()=>{D.get("/purchasing/receipts",{search:w.value||void 0,status:y.value||void 0,sort:x.value,direction:c.value},{preserveState:!0,replace:!0})},300);R([w,y],()=>{C()});const A=n=>n&&{draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",received:"bg-blue-500/20 text-blue-400 border-blue-500/30",inspected:"bg-amber-500/20 text-amber-400 border-amber-500/30",completed:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"}[n]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",I=n=>{if(!n)return"-";try{return new Date(n).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}catch{return n}};return(n,e)=>(s(),d($,null,[o(r(j),{title:"Goods Receipts"}),o(T,{title:"Goods Receipts"},{default:m(()=>[p.receipts?(s(),d($,{key:0},[t("div",J,[t("div",K,[t("div",X,[o(r(P),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),M(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>w.value=a),type:"search",placeholder:"Search GRN number...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[F,w.value]])]),t("button",{onClick:e[1]||(e[1]=a=>_.value=!_.value),class:N(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",{"ring-2 ring-blue-500/50":_.value}])},[o(r(G),{class:"h-5 w-5"}),e[9]||(e[9]=l(" Filters ",-1))],2)]),t("div",Y,[o(r(S),{href:n.route("purchasing.receipts.scan"),class:"inline-flex items-center gap-2 rounded-xl bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-2.5 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-700 transition-all"},{default:m(()=>[o(r(H),{class:"h-5 w-5"}),e[10]||(e[10]=l(" Scan Inbound ",-1))]),_:1},8,["href"]),o(r(S),{href:"/purchasing/receipts/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:m(()=>[o(r(q),{class:"h-5 w-5"}),e[11]||(e[11]=l(" New Receipt ",-1))]),_:1})])]),o(B,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:m(()=>[_.value?(s(),d("div",tt,[t("div",et,[t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Status",-1)),M(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>y.value=a),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[12]||(e[12]=t("option",{value:""},"All Status",-1)),(s(!0),d($,null,Z(p.statuses,a=>(s(),d("option",{key:a.value,value:a.value},u(a.label),9,st))),128))],512),[[V,y.value]])])])])):b("",!0)]),_:1}),t("div",at,[t("div",rt,[t("table",lt,[t("thead",null,[t("tr",ot,[t("th",{onClick:e[3]||(e[3]=a=>g("grn_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",dt,[e[14]||(e[14]=l(" Receipt Number ",-1)),x.value==="grn_number"?(s(),d("span",it,[c.value==="asc"?(s(),i(r(v),{key:0,class:"h-3 w-3"})):(s(),i(r(h),{key:1,class:"h-3 w-3"}))])):b("",!0)])]),t("th",{onClick:e[4]||(e[4]=a=>g("po_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",nt,[e[15]||(e[15]=l(" PO Reference ",-1)),x.value==="po_number"?(s(),d("span",ct,[c.value==="asc"?(s(),i(r(v),{key:0,class:"h-3 w-3"})):(s(),i(r(h),{key:1,class:"h-3 w-3"}))])):b("",!0)])]),t("th",{onClick:e[5]||(e[5]=a=>g("supplier_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",pt,[e[16]||(e[16]=l(" Supplier ",-1)),x.value==="supplier_name"?(s(),d("span",xt,[c.value==="asc"?(s(),i(r(v),{key:0,class:"h-3 w-3"})):(s(),i(r(h),{key:1,class:"h-3 w-3"}))])):b("",!0)])]),t("th",{onClick:e[6]||(e[6]=a=>g("warehouse_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",ut,[e[17]||(e[17]=l(" Warehouse ",-1)),x.value==="warehouse_name"?(s(),d("span",bt,[c.value==="asc"?(s(),i(r(v),{key:0,class:"h-3 w-3"})):(s(),i(r(h),{key:1,class:"h-3 w-3"}))])):b("",!0)])]),t("th",{onClick:e[7]||(e[7]=a=>g("receipt_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",gt,[e[18]||(e[18]=l(" Date ",-1)),x.value==="receipt_date"?(s(),d("span",mt,[c.value==="asc"?(s(),i(r(v),{key:0,class:"h-3 w-3"})):(s(),i(r(h),{key:1,class:"h-3 w-3"}))])):b("",!0)])]),e[20]||(e[20]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Items",-1)),e[21]||(e[21]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Total Qty",-1)),t("th",{onClick:e[8]||(e[8]=a=>g("status")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",ht,[e[19]||(e[19]=l(" Status ",-1)),x.value==="status"?(s(),d("span",vt,[c.value==="asc"?(s(),i(r(v),{key:0,class:"h-3 w-3"})):(s(),i(r(h),{key:1,class:"h-3 w-3"}))])):b("",!0)])]),e[22]||(e[22]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions",-1))])]),t("tbody",kt,[(s(!0),d($,null,Z(p.receipts.data,a=>(s(),d("tr",{key:a.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",ft,[t("div",wt,[t("div",yt,[o(r(z),{class:"h-5 w-5 text-indigo-400"})]),t("div",_t,u(a.grn_number),1)])]),t("td",$t,[o(r(S),{href:`/purchasing/orders/${a.purchase_order_id}`,class:"text-sm text-blue-400 hover:underline"},{default:m(()=>[l(u(a.purchase_order?.po_number||"N/A"),1)]),_:2},1032,["href"])]),t("td",St,u(a.supplier?.name||"N/A"),1),t("td",Ct,[t("div",Mt,[e[23]||(e[23]=t("div",{class:"h-2 w-2 rounded-full bg-blue-500"},null,-1)),l(" "+u(a.warehouse?.name||"N/A"),1)])]),t("td",Nt,u(I(a.receipt_date)),1),t("td",Zt,u(a.items_count),1),t("td",zt,u(parseFloat(a.items_sum_qty_received||0).toLocaleString()),1),t("td",At,[t("span",{class:N(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium",A(a.status)])},u(a.status?.toUpperCase()),3)]),t("td",It,[o(r(S),{href:`/purchasing/receipts/${a.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:m(()=>[o(r(Q),{class:"h-4 w-4"})]),_:1},8,["href"])])]))),128)),p.receipts.data&&p.receipts.data.length===0?(s(),d("tr",Dt,[...e[24]||(e[24]=[t("td",{colspan:"9",class:"px-4 py-12 text-center text-slate-500 italic"},"No goods receipts found.",-1)])])):b("",!0)])])]),p.receipts.last_page>1?(s(),d("div",Rt,[o(O,{links:p.receipts.links},null,8,["links"])])):b("",!0)]),t("div",jt,[e[33]||(e[33]=t("div",{class:"flex items-center gap-2 mb-4 px-1"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Inbound Logistics Guide"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",Ft,[t("div",Bt,[t("div",Vt,[t("div",Gt,[o(r(z),{class:"h-5 w-5"})]),e[25]||(e[25]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Goods Receiving",-1))]),e[26]||(e[26]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Record "),t("strong",null,"Incoming Items"),l(" against issued POs. ")],-1))]),t("div",Lt,[t("div",Tt,[t("div",Ut,[o(r(E),{class:"h-5 w-5"})]),e[27]||(e[27]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Stock Arrival",-1))]),e[28]||(e[28]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Inventory levels are "),t("strong",null,"Automatically Updated"),l(". ")],-1))]),t("div",Ot,[t("div",Pt,[t("div",qt,[o(r(L),{class:"h-5 w-5"})]),e[29]||(e[29]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Partial Receipts",-1))]),e[30]||(e[30]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Support for "),t("strong",null,"Split Shipments"),l(". ")],-1))]),t("div",Qt,[t("div",Et,[t("div",Wt,[o(r(W),{class:"h-5 w-5"})]),e[31]||(e[31]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Quality Control",-1))]),e[32]||(e[32]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Use receipts to log "),t("strong",null,"Initial Inspections"),l(". ")],-1))])])])],64)):(s(),d("div",Ht," Loading receipt data... "))]),_:1})],64))}};export{ke as default};
