import{r as k,a as S,w as V,c as n,b as r,u as a,h as L,d as p,e as t,f as O,v as M,n as w,j as x,o as d,t as l,k as u,l as m,T as R,F as h,g as _,i as $,m as C}from"./app-Z6tOaYz2.js";import{c as U,_ as G}from"./AppLayout-DzavhNxD.js";import{d as H}from"./debounce-Ir-oG-Bn.js";import{f as c,a as Q}from"./helpers-BjqMQcOq.js";/* empty css                                                                      */import{r as z}from"./MagnifyingGlassIcon-BNZQq0Dl.js";import{r as E}from"./FunnelIcon-DOkMZjhR.js";import{r as J}from"./ShoppingCartIcon-CLsYFPjD.js";import{r as F}from"./CheckBadgeIcon-B5KitPN2.js";import{r as K}from"./ArrowDownTrayIcon-B8BdYVhD.js";import{r as W}from"./ClockIcon-BMbi9DRC.js";import{r as X}from"./SparklesIcon-CW1VXCzV.js";import{r as D}from"./PlusIcon-RDKd84xK.js";import{r as q}from"./DocumentTextIcon-D1cmXfo_.js";import{r as Y}from"./EyeIcon-IuvOImRW.js";import{r as Z}from"./PencilSquareIcon-CqE6j6W4.js";import{r as tt}from"./TrashIcon-BTRz41TW.js";import{r as et}from"./TruckIcon-Dj-pJi3f.js";import{r as st}from"./ShieldCheckIcon-BBGZ3awv.js";/* empty css            */import"./XMarkIcon-Cx1kkgTP.js";import"./SunIcon-CRBUerBO.js";import"./WrenchScrewdriverIcon-CveU2ZwK.js";import"./CubeIcon-CrMVk51M.js";const at={class:"flex flex-col xl:flex-row xl:items-center justify-between gap-4 mb-6"},rt={class:"flex flex-wrap items-center gap-3"},lt={class:"relative w-full sm:w-64"},ot={key:0,class:"flex flex-wrap items-center gap-2"},dt={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-blue-500 flex items-center gap-3 shadow-sm"},nt={class:"flex items-baseline gap-2"},it={class:"text-sm font-black text-slate-900 dark:text-white"},xt={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-emerald-500 flex items-center gap-3 shadow-sm"},ct={class:"flex items-baseline gap-2"},pt={class:"text-sm font-black text-slate-900 dark:text-white"},ut={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-red-500 flex items-center gap-3 shadow-sm"},mt={class:"flex items-baseline gap-2"},bt={class:"text-sm font-black text-slate-900 dark:text-white"},ft={class:"glass-card px-3 py-2 rounded-xl border-l-4 border-l-amber-500 flex items-center gap-3 shadow-sm"},gt={class:"flex items-baseline gap-2"},ht={class:"text-sm font-black text-slate-900 dark:text-white"},vt={class:"flex items-center gap-2 shrink-0"},kt={key:0,class:"mb-6 rounded-2xl glass-card p-4"},wt={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},_t=["value"],yt=["value"],Ot={class:"rounded-2xl glass-card overflow-hidden"},St={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},$t={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},Ct={class:"divide-y divide-slate-100 dark:divide-slate-800"},Ft={class:"px-4 py-2 whitespace-nowrap"},Dt={class:"flex items-center gap-3"},qt={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 dark:bg-slate-800"},Tt={class:"text-sm font-medium text-slate-900 dark:text-white"},jt={class:"text-xs text-slate-500"},Bt={class:"px-4 py-2 whitespace-nowrap"},It={class:"text-sm text-slate-900 dark:text-white"},Nt={class:"text-xs text-slate-500"},Pt={class:"px-4 py-2 whitespace-nowrap max-w-[180px]"},At=["title"],Vt={class:"px-4 py-2 whitespace-nowrap"},Lt={class:"text-sm text-slate-600 dark:text-slate-300"},Mt={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-slate-600 dark:text-slate-300"},Rt={class:"px-4 py-2 whitespace-nowrap text-center text-sm font-medium text-slate-900 dark:text-white"},Ut={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-slate-600 dark:text-slate-300"},Gt={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-blue-500"},Ht={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-red-400"},Qt={class:"px-4 py-2 whitespace-nowrap text-center"},zt={class:"px-4 py-2 whitespace-nowrap text-right"},Et={class:"text-sm font-medium text-slate-900 dark:text-white"},Jt={class:"px-4 py-2 whitespace-nowrap text-center"},Kt=["title"],Wt={class:"px-4 py-2 whitespace-nowrap text-right"},Xt={class:"flex items-center justify-end gap-2"},Yt=["onClick"],Zt={key:0},te={colspan:"11",class:"px-4 py-12 text-center"},ee={class:"mt-4"},se={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},ae={class:"text-sm text-slate-500 dark:text-slate-400"},re={class:"flex items-center gap-2"},le={class:"mt-12"},oe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},de={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ne={class:"flex items-center gap-3 mb-3"},ie={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},xe={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ce={class:"flex items-center gap-3 mb-3"},pe={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},ue={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},me={class:"flex items-center gap-3 mb-3"},be={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},fe={class:"glass-card rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ge={class:"flex items-center gap-3 mb-3"},he={class:"p-2.5 rounded-xl bg-amber-500/10 text-amber-400"},He={__name:"Index",props:{salesOrders:Object,stats:Object,customers:Array,filters:Object,statuses:Array},setup(o){const y=o,b=k(y.filters.search||""),f=k(y.filters.status||""),g=k(y.filters.customer||""),v=k(!1),T=H(()=>{S.get("/sales/orders",{search:b.value||void 0,status:f.value||void 0,customer:g.value||void 0},{preserveState:!0,replace:!0})},300);V([b,f,g],T);const j=()=>{b.value="",f.value="",g.value=""},B=i=>{confirm(`Are you sure you want to delete "${i.so_number}"?`)&&S.delete(`/sales/orders/${i.id}`)},I=i=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",confirmed:"bg-blue-500/20 text-blue-400 border-blue-500/30",processing:"bg-amber-500/20 text-amber-400 border-amber-500/30",shipped:"bg-purple-500/20 text-purple-400 border-purple-500/30",delivered:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[i]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",N=i=>({draft:"Draft",confirmed:"Confirmed",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"})[i]||i,P=i=>({draft:"Pesanan baru dibuat, belum dikonfirmasi.",confirmed:"Pesanan disetujui, siap diproses.",processing:"Sedang disiapkan di gudang.",shipped:"Barang dalam pengiriman.",delivered:"Pesanan sudah sampai.",cancelled:"Pesanan dibatalkan."})[i]||"",A=i=>new Date(i).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"});return(i,e)=>(d(),n(h,null,[r(a(L),{title:"Sales Orders"}),r(G,{title:"Sales Orders"},{default:p(()=>[t("div",at,[t("div",rt,[t("div",lt,[r(a(z),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),O(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>b.value=s),type:"search",placeholder:"Search SO number...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[M,b.value]])]),t("button",{onClick:e[1]||(e[1]=s=>v.value=!v.value),class:w(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors border border-transparent",{"ring-2 ring-blue-500/50 border-blue-500/50":v.value}])},[r(a(E),{class:"h-5 w-5"}),e[4]||(e[4]=x(" Filters ",-1))],2),o.stats?(d(),n("div",ot,[t("div",dt,[r(a(J),{class:"w-4 h-4 text-blue-500 shrink-0"}),t("div",nt,[e[5]||(e[5]=t("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Ordered",-1)),t("span",it,l(a(c)(o.stats.total_qty||0)),1)])]),t("div",xt,[r(a(F),{class:"w-4 h-4 text-emerald-500 shrink-0"}),t("div",ct,[e[6]||(e[6]=t("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Sent",-1)),t("span",pt,l(a(c)(o.stats.total_delivered||0)),1)])]),t("div",ut,[r(a(K),{class:"w-4 h-4 text-red-500 rotate-180 shrink-0"}),t("div",mt,[e[7]||(e[7]=t("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Return",-1)),t("span",bt,l(a(c)(o.stats.total_returned||0)),1)])]),t("div",ft,[r(a(W),{class:"w-4 h-4 text-amber-500 shrink-0"}),t("div",gt,[e[8]||(e[8]=t("span",{class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Balance",-1)),t("span",ht,l(a(c)(o.stats.total_balance||0)),1)])])])):u("",!0)]),t("div",vt,[r(a(m),{href:"/sales/po-extractor",class:"inline-flex items-center gap-2 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-2 text-sm font-semibold text-slate-700 dark:text-slate-200 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-all group"},{default:p(()=>[r(a(X),{class:"h-5 w-5 text-amber-500 group-hover:scale-110 transition-transform"}),e[9]||(e[9]=x(" Import PO (AI) ",-1))]),_:1}),r(a(m),{href:"/sales/orders/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:p(()=>[r(a(D),{class:"h-5 w-5"}),e[10]||(e[10]=x(" Create SO ",-1))]),_:1})])]),r(R,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:p(()=>[v.value?(d(),n("div",kt,[t("div",wt,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Status",-1)),O(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>f.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[11]||(e[11]=t("option",{value:""},"All Status",-1)),(d(!0),n(h,null,_(o.statuses,s=>(d(),n("option",{key:s.value,value:s.value},l(s.label),9,_t))),128))],512),[[$,f.value]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Customer",-1)),O(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>g.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[13]||(e[13]=t("option",{value:""},"All Customers",-1)),(d(!0),n(h,null,_(o.customers,s=>(d(),n("option",{key:s.id,value:s.id},l(s.name),9,yt))),128))],512),[[$,g.value]])]),t("div",{class:"flex items-end"},[t("button",{onClick:j,class:"w-full rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-colors"}," Clear Filters ")])])])):u("",!0)]),_:1}),t("div",Ot,[t("div",St,[t("table",$t,[e[18]||(e[18]=t("thead",null,[t("tr",{class:"bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50"},[t("th",{class:"px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"SO Number"),t("th",{class:"px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Customer"),t("th",{class:"px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"No PO"),t("th",{class:"px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Order Date"),t("th",{class:"px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Items"),t("th",{class:"px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Qty"),t("th",{class:"px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Sent"),t("th",{class:"px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Invoiced"),t("th",{class:"px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Return"),t("th",{class:"px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Balance"),t("th",{class:"px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Total"),t("th",{class:"px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Status"),t("th",{class:"px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",Ct,[(d(!0),n(h,null,_(o.salesOrders.data,s=>(d(),n("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",Ft,[t("div",Dt,[t("div",qt,[r(a(q),{class:"h-5 w-5 text-slate-500 dark:text-slate-400"})]),t("div",null,[t("div",Tt,l(s.so_number),1),t("div",jt,l(s.warehouse?.name),1)])])]),t("td",Bt,[t("div",It,l(s.customer?.name),1),t("div",Nt,l(s.customer?.code),1)]),t("td",Pt,[t("div",{class:"truncate text-sm font-medium text-slate-600 dark:text-slate-300 font-mono",title:s.customer_po_number},l(s.customer_po_number||"-"),9,At)]),t("td",Vt,[t("span",Lt,l(A(s.order_date)),1)]),t("td",Mt,l(s.items_count),1),t("td",Rt,l(a(c)(s.total_qty_ordered||0)),1),t("td",Ut,l(a(c)(s.total_qty_delivered||0)),1),t("td",Gt,l(a(c)(s.total_qty_invoiced||0)),1),t("td",Ht,l(a(c)(s.total_qty_returned||0)),1),t("td",Qt,[t("span",{class:w(["text-sm font-bold",parseFloat(s.total_qty_ordered)-(parseFloat(s.total_qty_delivered)-parseFloat(s.total_qty_returned||0))>0?"text-amber-400":"text-emerald-500"])},l(a(c)(parseFloat(s.total_qty_ordered||0)-(parseFloat(s.total_qty_delivered||0)-parseFloat(s.total_qty_returned||0)))),3)]),t("td",zt,[t("span",Et,l(a(Q)(s.total)),1)]),t("td",Jt,[t("span",{class:w(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium cursor-help",I(s.status)]),title:P(s.status)},l(N(s.status)),11,Kt)]),t("td",Wt,[t("div",Xt,[r(a(m),{href:`/sales/orders/${s.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},{default:p(()=>[r(a(Y),{class:"h-4 w-4"})]),_:1},8,["href"]),s.status==="draft"?(d(),C(a(m),{key:0,href:`/sales/orders/${s.id}/edit`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},{default:p(()=>[r(a(Z),{class:"h-4 w-4"})]),_:1},8,["href"])):u("",!0),s.status==="draft"?(d(),n("button",{key:1,onClick:ve=>B(s),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-red-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[r(a(tt),{class:"h-4 w-4"})],8,Yt)):u("",!0)])])]))),128)),o.salesOrders.data.length===0?(d(),n("tr",Zt,[t("td",te,[r(a(q),{class:"mx-auto h-12 w-12 text-slate-600"}),e[16]||(e[16]=t("h3",{class:"mt-2 text-sm font-medium text-slate-600 dark:text-slate-300"},"No sales orders found",-1)),e[17]||(e[17]=t("p",{class:"mt-1 text-sm text-slate-500"},"Create a new sales order to get started.",-1)),t("div",ee,[r(a(m),{href:"/sales/orders/create",class:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500 transition-colors"},{default:p(()=>[r(a(D),{class:"h-4 w-4"}),e[15]||(e[15]=x(" Create SO ",-1))]),_:1})])])])):u("",!0)])])]),o.salesOrders.last_page>1?(d(),n("div",se,[t("p",ae," Showing "+l(o.salesOrders.from)+" to "+l(o.salesOrders.to)+" of "+l(o.salesOrders.total)+" orders ",1),t("div",re,[(d(!0),n(h,null,_(o.salesOrders.links,s=>(d(),C(a(m),{key:s.label,href:s.url||"#",class:w(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-white":s.url?"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white":"text-slate-300 dark:text-slate-600 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):u("",!0)]),t("div",le,[e[27]||(e[27]=t("div",{class:"flex items-center gap-2 mb-4 px-1"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Sales Operations Guide"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",oe,[t("div",de,[t("div",ne,[t("div",ie,[r(a(F),{class:"h-5 w-5"})]),e[19]||(e[19]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Order Fulfillment",-1))]),e[20]||(e[20]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[x(" Track "),t("strong",null,"Qty Balance"),x(" to see what's pending. Orders move from Draft to Confirmed before they can be processed for shipping. ")],-1))]),t("div",xe,[t("div",ce,[t("div",pe,[r(a(et),{class:"h-5 w-5"})]),e[21]||(e[21]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Delivery Linking",-1))]),e[22]||(e[22]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[x(" Generate "),t("strong",null,"Delivery Orders (DO)"),x(" directly from confirmed SOs. One SO can have multiple partial deliveries if needed. ")],-1))]),t("div",ue,[t("div",me,[t("div",be,[r(a(U),{class:"h-5 w-5"})]),e[23]||(e[23]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Invoicing Flow",-1))]),e[24]||(e[24]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[x(" Create "),t("strong",null,"Proforma or Final Invoices"),x(" based on ordered or delivered quantities to ensure accurate billing for your customers. ")],-1))]),t("div",fe,[t("div",ge,[t("div",he,[r(a(st),{class:"h-5 w-5"})]),e[25]||(e[25]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Return Tracking",-1))]),e[26]||(e[26]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[x(" Monitor "),t("strong",null,"Returned Items"),x(" in the list view. The system automatically recalculates the balance to prevent over-delivery. ")],-1))])])])]),_:1})],64))}};export{He as default};
