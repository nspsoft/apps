import{c as l,e,o as i,b as a,u as d,h as w,d as x,l as m,j as u,F as p,k as b,m as q,t as r,n as y,g as _,a as g}from"./app-D_UiwwGY.js";import{_ as $}from"./AppLayout-j_bqvUdd.js";import{r as j}from"./ArrowLeftIcon-BRVbvGYF.js";import{r as C}from"./PrinterIcon-BV4g-4iU.js";import{r as D}from"./CheckIcon-DREzn1nY.js";import{r as B}from"./XMarkIcon-Bk2VDfUN.js";import{r as R}from"./PencilSquareIcon-pKJG8Tah.js";import{r as N}from"./DocumentTextIcon-BHkpqEeA.js";/* empty css            */import"./SunIcon-DsBk-RNV.js";import"./WrenchScrewdriverIcon-D2iFWpWW.js";import"./CheckBadgeIcon-CXai5z2u.js";import"./ShoppingCartIcon-Ch4xf8_E.js";import"./CubeIcon-DvVPDFE0.js";import"./TruckIcon-yq9WF2-2.js";function P(s,c){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const S={key:0,class:"max-w-7xl mx-auto"},L={class:"flex items-center justify-between mb-6"},V={class:"flex items-center gap-3"},A=["href"],F={class:"space-y-6"},U={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},E={class:"md:col-span-2 glass-card rounded-2xl p-6"},I={class:"flex items-center gap-4 mb-6"},M={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-500/10"},O={class:"text-xl font-bold text-slate-900 dark:text-white"},z={class:"flex items-center gap-2 mt-1"},Q={class:"text-sm text-slate-500"},T={class:"grid grid-cols-2 sm:grid-cols-4 gap-6 pt-6 border-t border-slate-200 dark:border-slate-800"},Z={class:"text-sm font-medium text-slate-900 dark:text-white"},G={class:"text-sm font-medium text-slate-900 dark:text-white"},H={class:"text-sm font-medium text-slate-900 dark:text-white"},J={class:"glass-card rounded-2xl p-6"},K={class:"text-sm text-slate-600 dark:text-slate-300 whitespace-pre-line"},W={class:"glass-card rounded-2xl overflow-hidden"},X={class:"overflow-x-auto"},Y={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},ee={class:"divide-y divide-slate-100 dark:divide-slate-800"},te={class:"px-6 py-4 whitespace-nowrap"},se={class:"flex items-center"},re={class:"text-sm font-medium text-slate-900 dark:text-white"},ae={class:"text-xs text-slate-500 font-mono"},de={class:"px-6 py-4"},oe={class:"text-sm text-slate-600 dark:text-slate-300 max-w-md truncate"},ie={class:"px-6 py-4 whitespace-nowrap text-right"},le={class:"text-sm font-medium text-slate-900 dark:text-white"},ne={key:1,class:"text-slate-900 dark:text-white text-center py-20"},$e={__name:"Show",props:{request:Object},setup(s){const c=s,f=()=>{c.request?.id&&confirm("Are you sure you want to approve this request?")&&g.post(`/purchasing/requests/${c.request.id}/approve`)},v=()=>{c.request?.id&&confirm("Are you sure you want to reject this request?")&&g.post(`/purchasing/requests/${c.request.id}/reject`)},k=o=>o&&{draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",submitted:"bg-amber-500/20 text-amber-400 border-amber-500/30",approved:"bg-blue-500/20 text-blue-400 border-blue-500/30",processed:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30"}[o]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",h=o=>{if(!o)return"-";try{return new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}catch{return o}};return(o,t)=>(i(),l(p,null,[a(d(w),{title:`PR ${s.request?.pr_number||"Details"}`},null,8,["title"]),a($,{title:"Purchase Requests"},{default:x(()=>[s.request?(i(),l("div",S,[e("div",L,[a(d(m),{href:"/purchasing/requests",class:"inline-flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white"},{default:x(()=>[a(d(j),{class:"h-4 w-4"}),t[0]||(t[0]=u(" Back to List ",-1))]),_:1}),e("div",V,[e("a",{href:o.route("purchasing.requests.print",s.request.id),target:"_blank",class:"hidden sm:inline-flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-700 hover:text-slate-900 dark:text-white transition-colors"},[a(d(C),{class:"h-4 w-4"}),t[1]||(t[1]=u(" Print ",-1))],8,A),s.request.status==="draft"?(i(),l(p,{key:0},[e("button",{onClick:f,class:"inline-flex items-center gap-2 rounded-xl bg-green-600/10 border border-green-600/20 px-4 py-2 text-sm font-semibold text-green-400 hover:bg-green-600/20 transition-colors"},[a(d(D),{class:"h-4 w-4"}),t[2]||(t[2]=u(" Approve ",-1))]),e("button",{onClick:v,class:"inline-flex items-center gap-2 rounded-xl bg-red-600/10 border border-red-600/20 px-4 py-2 text-sm font-semibold text-red-400 hover:bg-red-600/20 transition-colors"},[a(d(B),{class:"h-4 w-4"}),t[3]||(t[3]=u(" Reject ",-1))]),a(d(m),{href:`/purchasing/requests/${s.request.id}/edit`,class:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500 transition-colors shadow-lg shadow-blue-500/25"},{default:x(()=>[a(d(R),{class:"h-4 w-4"}),t[4]||(t[4]=u(" Edit Request ",-1))]),_:1},8,["href"])],64)):b("",!0),s.request.status==="approved"?(i(),q(d(m),{key:1,href:`/purchasing/orders/create?from_pr=${s.request.id}`,class:"inline-flex items-center gap-2 rounded-xl bg-purple-600 px-4 py-2 text-sm font-semibold text-slate-900 dark:text-white hover:bg-purple-500 transition-colors shadow-lg shadow-purple-500/25"},{default:x(()=>[a(d(P),{class:"h-4 w-4"}),t[5]||(t[5]=u(" Convert to PO ",-1))]),_:1},8,["href"])):b("",!0)])]),e("div",F,[e("div",U,[e("div",E,[e("div",I,[e("div",M,[a(d(N),{class:"h-6 w-6 text-blue-400"})]),e("div",null,[e("h1",O,r(s.request.pr_number),1),e("div",z,[e("span",Q,"Created by "+r(s.request.created_by?.name||s.request.requester||"Unknown")+" on "+r(h(s.request.created_at)),1),e("span",{class:y(["inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",k(s.request.status)])},r(s.request.status?.toUpperCase()),3)])])]),e("div",T,[e("div",null,[t[6]||(t[6]=e("div",{class:"text-xs text-slate-500 uppercase tracking-wider mb-1"},"Request Date",-1)),e("div",Z,r(h(s.request.request_date)),1)]),e("div",null,[t[7]||(t[7]=e("div",{class:"text-xs text-slate-500 uppercase tracking-wider mb-1"},"Department",-1)),e("div",G,r(s.request.department||"-"),1)]),e("div",null,[t[8]||(t[8]=e("div",{class:"text-xs text-slate-500 uppercase tracking-wider mb-1"},"Requester",-1)),e("div",H,r(s.request.requester||"-"),1)])])]),e("div",J,[t[9]||(t[9]=e("h3",{class:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-3"},"Notes",-1)),e("p",K,r(s.request.notes||"No notes provided."),1)])]),e("div",W,[t[11]||(t[11]=e("div",{class:"px-6 py-4 border-b border-slate-200 dark:border-slate-800"},[e("h3",{class:"font-semibold text-slate-900 dark:text-white"},"Requested Items")],-1)),e("div",X,[e("table",Y,[t[10]||(t[10]=e("thead",null,[e("tr",{class:"bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50"},[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Product / Material"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Description / Specs"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Qty")])],-1)),e("tbody",ee,[(i(!0),l(p,null,_(s.request.items,n=>(i(),l("tr",{key:n.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30"},[e("td",te,[e("div",se,[e("div",null,[e("div",re,r(n.product?.name||"Unknown Product"),1),e("div",ae,r(n.product?.sku||n.product?.code||"-"),1)])])]),e("td",de,[e("div",oe,r(n.description||"-"),1)]),e("td",ie,[e("div",le,r(parseFloat(n.qty||0)),1)])]))),128))])])])])])])):(i(),l("div",ne," Loading request data... "))]),_:1})],64))}};export{$e as default};
