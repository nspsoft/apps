import{p as w,c as b,b as r,u as s,h as S,d as m,e as t,l as g,t as l,n as P,j as n,o as x,m as T,k as f,F as y,g as A,y as E,f as p,v as h,i as M,r as $}from"./app-ql1HZfdt.js";import{_ as V}from"./AppLayout-Dv1Sz7Oj.js";import{f as B,a as u}from"./helpers-BjqMQcOq.js";import{r as O}from"./ArrowLeftIcon-D8s77TKr.js";import{r as _}from"./ArrowPathIcon-CNW-FHpZ.js";import{r as j}from"./CheckCircleIcon-B-5dC1wc.js";import{b as q}from"./SunIcon-B1hXUsOB.js";import{r as I}from"./PrinterIcon-Bqic15TJ.js";import{r as F}from"./UserIcon-wjF7r4zB.js";import{r as C}from"./CalendarIcon-CKaa19ZI.js";import{r as L}from"./CreditCardIcon-Bk82jgIh.js";/* empty css            */import"./XMarkIcon-5N1STuMt.js";import"./WrenchScrewdriverIcon-vBtkexfH.js";import"./CheckBadgeIcon-DRkA2eOL.js";import"./ShoppingCartIcon-B8Fx3enm.js";import"./CubeIcon-CtYYPlEg.js";import"./TruckIcon-DvHrC9a6.js";const U={class:"max-w-full px-4 sm:px-6 lg:px-8 mx-auto"},K={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6"},z={class:"flex items-center gap-4"},G={class:"flex items-center gap-3"},Q={class:"text-2xl font-bold text-slate-900 dark:text-white"},Y={class:"text-slate-500 text-sm mt-1"},J={class:"flex items-center gap-3"},H=["href"],W=["href"],X={class:"grid grid-cols-1 xl:grid-cols-12 gap-6"},Z={class:"xl:col-span-8 space-y-6"},tt={class:"rounded-2xl glass-card overflow-hidden shadow-sm"},et={class:"overflow-x-auto max-h-[600px] overflow-y-auto custom-scrollbar relative"},st={class:"w-full text-left"},ot={class:"divide-y divide-slate-100 dark:divide-slate-800"},at={class:"px-6 py-4"},lt={class:"text-sm font-medium text-slate-900 dark:text-white"},rt={class:"text-[10px] text-slate-500 uppercase font-mono"},dt={class:"px-6 py-4 text-center text-sm text-slate-900 dark:text-white"},it={class:"px-6 py-4 text-right text-sm text-slate-500 dark:text-slate-400 font-mono"},nt={class:"px-6 py-4 text-right text-sm text-slate-900 dark:text-white font-bold font-mono"},xt={class:"bg-slate-50 dark:bg-slate-800/20"},ut={class:"px-6 py-4 text-right text-sm font-bold text-slate-900 dark:text-white font-mono"},bt={class:"bg-slate-50 dark:bg-slate-800/20 border-t border-slate-200 dark:border-slate-800"},ct={class:"px-6 py-4 text-right text-sm font-bold text-slate-900 dark:text-white font-mono"},mt={class:"bg-blue-600/10 border-t border-blue-500/30"},ft={class:"px-6 py-4 text-right text-lg font-black text-blue-400 font-mono"},pt={class:"xl:col-span-4 space-y-6"},vt={class:"rounded-2xl glass-card p-6 shadow-sm"},gt={class:"space-y-4"},ht={class:"flex items-start gap-3"},kt={class:"text-sm text-slate-900 dark:text-white font-medium"},wt={class:"flex items-start gap-3"},yt={class:"text-sm text-slate-900 dark:text-white font-medium"},It={class:"flex items-start gap-3"},Ct={class:"text-sm text-orange-400 font-bold"},Dt={class:"flex items-start gap-3 border-t border-slate-200 dark:border-slate-800 pt-4"},Nt={class:"text-xs text-slate-600 dark:text-slate-300 mt-1"},Rt={class:"font-bold text-emerald-400"},St={class:"font-bold text-rose-400"},Pt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-white dark:bg-slate-950/80 backdrop-blur-sm"},Tt={class:"w-full max-w-md rounded-2xl glass-card shadow-2xl overflow-hidden"},At={class:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between bg-slate-50 dark:bg-slate-800/20"},Et=["max"],Mt={class:"pt-4 flex gap-3"},$t=["disabled"],Zt={__name:"Show",props:{invoice:Object},setup(o){const v=o,c=$(!1),d=w({amount:v.invoice.balance,payment_date:new Date().toISOString().split("T")[0],payment_method:"Transfer",reference:""}),D=()=>{confirm("Are you sure you want to confirm and issue this invoice?")&&w({}).post(route("sales.invoices.confirm",v.invoice.id))},N=()=>{d.post(route("sales.invoices.pay",v.invoice.id),{onSuccess:()=>{c.value=!1,d.reset()}})},k=i=>i?new Date(i).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}):"-",R=i=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",issued:"bg-blue-500/20 text-blue-400 border-blue-500/30",partial:"bg-amber-500/20 text-amber-400 border-amber-500/30",paid:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[i]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30";return(i,e)=>(x(),b(y,null,[r(s(S),{title:`Invoice ${o.invoice.invoice_number}`},null,8,["title"]),r(V,{title:"Invoice Details"},{default:m(()=>[t("div",U,[t("div",K,[t("div",z,[r(s(g),{href:i.route("sales.invoices.index"),class:"p-2 rounded-xl bg-slate-50 dark:bg-slate-800 text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white transition-colors"},{default:m(()=>[r(s(O),{class:"h-5 w-5"})]),_:1},8,["href"]),t("div",null,[t("div",G,[t("h1",Q,l(o.invoice.invoice_number),1),t("span",{class:P(["px-2.5 py-0.5 rounded-full text-xs font-medium border uppercase",R(o.invoice.status)])},l(o.invoice.status),3)]),t("p",Y,[e[7]||(e[7]=n(" Ref: ",-1)),r(s(g),{href:i.route("sales.orders.show",o.invoice.sales_order_id),class:"text-blue-400 hover:underline font-medium"},{default:m(()=>[n(l(o.invoice.sales_order?.so_number),1)]),_:1},8,["href"])])])]),t("div",J,[o.invoice.status!=="draft"?(x(),T(s(g),{key:0,href:i.route("sales.returns.create",{invoice_id:o.invoice.id}),class:"flex items-center gap-2 rounded-xl bg-rose-600 px-6 py-2.5 text-sm font-bold text-slate-900 dark:text-white hover:bg-rose-500 transition-colors shadow-lg shadow-rose-500/20"},{default:m(()=>[r(s(_),{class:"h-4 w-4"}),e[8]||(e[8]=n(" CREATE RETURN ",-1))]),_:1},8,["href"])):f("",!0),o.invoice.status==="draft"?(x(),b("button",{key:1,onClick:D,class:"flex items-center gap-2 rounded-xl bg-emerald-600 px-6 py-2.5 text-sm font-bold text-slate-900 dark:text-white hover:bg-emerald-500 transition-colors shadow-lg shadow-emerald-500/20"},[r(s(j),{class:"h-4 w-4"}),e[9]||(e[9]=n(" CONFIRM INVOICE ",-1))])):f("",!0),o.invoice.status!=="draft"&&o.invoice.balance>0?(x(),b("button",{key:2,onClick:e[0]||(e[0]=a=>c.value=!0),class:"flex items-center gap-2 rounded-xl bg-indigo-600 px-6 py-2.5 text-sm font-bold text-slate-900 dark:text-white hover:bg-indigo-500 transition-colors shadow-lg shadow-indigo-500/20"},[r(s(q),{class:"h-4 w-4"}),e[10]||(e[10]=n(" RECORD PAYMENT ",-1))])):f("",!0),t("a",{href:i.route("sales.invoices.print",o.invoice.id),target:"_blank",class:"flex items-center gap-2 rounded-xl bg-slate-700 px-6 py-2.5 text-sm font-bold text-slate-900 dark:text-white hover:bg-slate-600 transition-colors shadow-lg"},[r(s(I),{class:"h-4 w-4"}),e[11]||(e[11]=n(" PRINT STANDARD ",-1))],8,H),t("a",{href:i.route("sales.invoices.print-v2",o.invoice.id),target:"_blank",class:"flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-2.5 text-sm font-bold text-white dark:text-white hover:bg-blue-500 transition-colors shadow-lg shadow-blue-500/20"},[r(s(I),{class:"h-4 w-4"}),e[12]||(e[12]=n(" PRINT PROFESSIONAL (QR) ",-1))],8,W)])]),t("div",X,[t("div",Z,[t("div",tt,[e[17]||(e[17]=t("div",{class:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/20"},[t("h3",{class:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider"},"Invoice Items")],-1)),t("div",et,[t("table",st,[e[16]||(e[16]=t("thead",{class:"sticky top-0 z-10 bg-slate-50 dark:bg-slate-900 shadow-sm"},[t("tr",{class:"bg-slate-50 dark:bg-slate-800/30"},[t("th",{class:"px-6 py-4 text-xs font-bold text-slate-500 uppercase"},"Product"),t("th",{class:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-center"},"Qty"),t("th",{class:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-right"},"Price"),t("th",{class:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-right"},"Subtotal")])],-1)),t("tbody",ot,[(x(!0),b(y,null,A(o.invoice.items,a=>(x(),b("tr",{key:a.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/10 transition-colors"},[t("td",at,[t("div",lt,l(a.product?.name),1),t("div",rt,l(a.product?.sku),1)]),t("td",dt,l(s(B)(a.qty))+" "+l(a.unit?.code||"PCS"),1),t("td",it,l(s(u)(a.unit_price)),1),t("td",nt,l(s(u)(a.subtotal)),1)]))),128))]),t("tfoot",null,[t("tr",xt,[e[13]||(e[13]=t("td",{colspan:"3",class:"px-6 py-4 text-right text-sm font-medium text-slate-500 dark:text-slate-400"},"Subtotal",-1)),t("td",ut,l(s(u)(o.invoice.subtotal)),1)]),t("tr",bt,[e[14]||(e[14]=t("td",{colspan:"3",class:"px-6 py-4 text-right text-sm font-medium text-slate-500 dark:text-slate-400"},"VAT 11%",-1)),t("td",ct,l(s(u)(o.invoice.tax_amount)),1)]),t("tr",mt,[e[15]||(e[15]=t("td",{colspan:"3",class:"px-6 py-4 text-right text-base font-bold text-blue-400 uppercase tracking-wider"},"Grand Total",-1)),t("td",ft,l(s(u)(o.invoice.total)),1)])])])])])]),t("div",pt,[t("div",vt,[e[25]||(e[25]=t("h3",{class:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider mb-4"},"Invoice Info",-1)),t("div",gt,[t("div",ht,[r(s(F),{class:"h-5 w-5 text-slate-500 mt-0.5"}),t("div",null,[e[18]||(e[18]=t("div",{class:"text-[10px] text-slate-500 font-bold uppercase"},"Customer",-1)),t("div",kt,l(o.invoice.customer?.name),1)])]),t("div",wt,[r(s(C),{class:"h-5 w-5 text-slate-500 mt-0.5"}),t("div",null,[e[19]||(e[19]=t("div",{class:"text-[10px] text-slate-500 font-bold uppercase"},"Invoice Date",-1)),t("div",yt,l(k(o.invoice.invoice_date)),1)])]),t("div",It,[r(s(C),{class:"h-5 w-5 text-slate-500 mt-0.5"}),t("div",null,[e[20]||(e[20]=t("div",{class:"text-[10px] text-slate-500 font-bold uppercase"},"Due Date",-1)),t("div",Ct,l(k(o.invoice.due_date)),1)])]),t("div",Dt,[r(s(L),{class:"h-5 w-5 text-slate-500 mt-0.5"}),t("div",null,[e[24]||(e[24]=t("div",{class:"text-[10px] text-slate-500 font-bold uppercase"},"Payment Status",-1)),t("div",Nt,[e[21]||(e[21]=n(" Paid: ",-1)),t("span",Rt,l(s(u)(o.invoice.paid_amount)),1),e[22]||(e[22]=t("br",null,null,-1)),e[23]||(e[23]=n(" Balance: ",-1)),t("span",St,l(s(u)(o.invoice.balance)),1)])])])])]),e[26]||(e[26]=t("div",{class:"rounded-2xl glass-card p-6 shadow-sm"},[t("h3",{class:"text-sm font-bold text-blue-400 uppercase tracking-wider mb-4"},"Bank Account Info"),t("div",{class:"space-y-2 text-sm"},[t("div",{class:"text-slate-600 dark:text-slate-300"},"Bank MANDIRI"),t("div",{class:"text-slate-600 dark:text-slate-300"},"KK Karawang Galuh Mas"),t("div",{class:"text-slate-900 dark:text-white font-bold font-mono"},"173-00-0777778-3"),t("div",{class:"text-blue-400 font-medium whitespace-nowrap overflow-hidden text-ellipsis"},"PT JIDOKA RESULT INDONESIA")])],-1))])])]),c.value?(x(),b("div",Pt,[t("div",Tt,[t("div",At,[e[28]||(e[28]=t("h3",{class:"text-lg font-bold text-slate-900 dark:text-white"},"Record Payment",-1)),t("button",{onClick:e[1]||(e[1]=a=>c.value=!1),class:"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white"},[...e[27]||(e[27]=[t("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor font-bold"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("form",{onSubmit:E(N,["prevent"]),class:"p-6 space-y-4"},[t("div",null,[e[29]||(e[29]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-2"},"Payment Amount (IDR)",-1)),p(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s(d).amount=a),type:"number",step:"0.01",max:o.invoice.balance,class:"w-full rounded-xl bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white placeholder-slate-600 focus:ring-blue-500 focus:border-blue-500",required:""},null,8,Et),[[h,s(d).amount]])]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-2"},"Payment Date",-1)),p(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>s(d).payment_date=a),type:"date",class:"w-full rounded-xl bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white placeholder-slate-600 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[h,s(d).payment_date]])]),t("div",null,[e[32]||(e[32]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-2"},"Payment Method",-1)),p(t("select",{"onUpdate:modelValue":e[4]||(e[4]=a=>s(d).payment_method=a),class:"w-full rounded-xl bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white focus:ring-blue-500 focus:border-blue-500"},[...e[31]||(e[31]=[t("option",{value:"Transfer"},"Transfer",-1),t("option",{value:"Cash"},"Cash",-1),t("option",{value:"Cheque"},"Cheque",-1)])],512),[[M,s(d).payment_method]])]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-2"},"Reference / Notes",-1)),p(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=a=>s(d).reference=a),rows:"2",class:"w-full rounded-xl bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white placeholder-slate-600 focus:ring-blue-500 focus:border-blue-500",placeholder:"Bank reference, cheque number, etc."},null,512),[[h,s(d).reference]])]),t("div",Mt,[t("button",{type:"button",onClick:e[6]||(e[6]=a=>c.value=!1),class:"flex-1 px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-800 text-sm font-bold text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"}," CANCEL "),t("button",{type:"submit",disabled:s(d).processing,class:"flex-1 px-4 py-2.5 rounded-xl bg-blue-600 text-sm font-bold text-white dark:text-white hover:bg-blue-500 transition-colors disabled:opacity-50"},l(s(d).processing?"SAVING...":"RECORD PAYMENT"),9,$t)])],32)])])):f("",!0)]),_:1})],64))}};export{Zt as default};
