import{m as g,s as O,q as B,c as r,a as d,u as l,h as R,w as $,o as a,F as k,b as t,j as P,v as U,n as C,d as i,l as N,T as L,g as D,t as n,k as z,e as u,x as p}from"./app-DJj0I4_2.js";import{e as M,h,_ as G}from"./AppLayout-Cw3w-LyG.js";import{d as K}from"./debounce-3NFxoLWq.js";import{f as q}from"./helpers-DzPfLsau.js";import{_ as E}from"./Pagination-DtDuj5qc.js";import{r as H}from"./MagnifyingGlassIcon-Ddw7JfDi.js";import{r as A}from"./PlusIcon-CJJHgbuH.js";import{r as f}from"./ChevronUpIcon-BgvfutUe.js";import{r as j}from"./DocumentTextIcon-DkRtcxc6.js";import{r as J}from"./EyeIcon-Dk9vhwAr.js";import{r as Q}from"./DocumentPlusIcon-DUtjUjGf.js";/* empty css            */import"./XMarkIcon-DcXZMoax.js";import"./SunIcon-6nfYrQKj.js";import"./WrenchScrewdriverIcon-6yyOC9IM.js";import"./TruckIcon-DzH80bEU.js";import"./ShoppingCartIcon-BkrPzDVf.js";import"./MapPinIcon-ZV1BRRjL.js";import"./SparklesIcon-DBwbTUJR.js";import"./CubeIcon-DnZluuQo.js";import"./ClockIcon-B_Wtk2zb.js";import"./CheckCircleIcon-1YcH0Cdr.js";import"./ShieldCheckIcon-DSHebIc3.js";const W={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},X={class:"flex items-center gap-3"},Y={class:"relative flex-1 sm:w-80"},Z={key:0,class:"mb-6 rounded-2xl glass-card p-4"},tt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},et=["value"],st=["value"],at={class:"rounded-2xl glass-card overflow-hidden shadow-sm"},lt={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},rt={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800 text-left"},ot={class:"border-b border-slate-200 dark:border-slate-700"},dt={class:"flex items-center gap-1"},it={key:0,class:"text-emerald-600 dark:text-emerald-400"},nt={class:"flex items-center gap-1"},ut={key:0,class:"text-emerald-600 dark:text-emerald-400"},pt={class:"flex items-center gap-1"},ct={key:0,class:"text-emerald-600 dark:text-emerald-400"},xt={class:"flex items-center justify-end gap-1"},mt={key:0,class:"text-emerald-600 dark:text-emerald-400"},gt={class:"flex items-center justify-center gap-1"},bt={key:0,class:"text-emerald-600 dark:text-emerald-400"},vt={class:"divide-y divide-slate-100 dark:divide-slate-800"},kt={class:"px-4 py-2 whitespace-nowrap"},ht={class:"flex items-center gap-3"},ft={class:"flex h-8 w-8 items-center justify-center rounded-xl bg-emerald-500/10 text-emerald-400"},wt={class:"text-sm font-bold text-slate-900 dark:text-white"},yt={key:0,class:"text-[10px] text-slate-500 font-mono mt-0.5"},_t={class:"px-4 py-2 whitespace-nowrap"},St={class:"text-sm font-medium text-slate-900 dark:text-white"},$t={class:"text-[10px] text-slate-500 mt-0.5"},Pt={class:"px-4 py-2 whitespace-nowrap"},Ct={class:"flex flex-col gap-1"},Dt={class:"flex items-center gap-1.5 text-xs text-slate-600 dark:text-slate-300"},jt={key:0,class:"bg-red-500/10 text-red-500 px-1.5 py-0.5 rounded text-[8px] font-bold ml-1 uppercase"},Ft={class:"px-4 py-2 whitespace-nowrap text-right"},It={class:"text-sm font-bold text-slate-900 dark:text-white"},Tt={class:"text-[10px] text-slate-500 mt-0.5"},Nt={class:"px-4 py-2 whitespace-nowrap text-center text-xs"},zt={class:"px-4 py-2 whitespace-nowrap text-right"},At={key:0},Vt={colspan:"6",class:"px-4 py-16 text-center text-slate-500 italic bg-white dark:bg-slate-950/50"},Ot={class:"flex flex-col items-center gap-3"},Bt={key:0,class:"border-t border-slate-200 dark:border-slate-800/80 px-6 py-4 bg-white dark:bg-slate-950"},Rt={class:"mt-12"},Ut={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},Lt={class:"bg-white dark:bg-slate-950/50 border border-slate-200 dark:border-slate-800 rounded-3xl p-6 relative overflow-hidden group"},Mt={class:"flex items-center gap-4 mb-4"},Gt={class:"p-3 rounded-2xl bg-blue-500/10 text-blue-400 group-hover:bg-blue-500 group-hover:text-slate-900 dark:text-white transition-all duration-300"},Kt={class:"bg-white dark:bg-slate-950/50 border border-slate-200 dark:border-slate-800 rounded-3xl p-6 relative overflow-hidden group"},qt={class:"flex items-center gap-4 mb-4"},Et={class:"p-3 rounded-2xl bg-amber-500/10 text-amber-400 group-hover:bg-amber-500 group-hover:text-slate-900 dark:text-white transition-all duration-300"},Ht={class:"bg-white dark:bg-slate-950/50 border border-slate-200 dark:border-slate-800 rounded-3xl p-6 relative overflow-hidden group"},Jt={class:"flex items-center gap-4 mb-4"},Qt={class:"p-3 rounded-2xl bg-emerald-500/10 text-emerald-400 group-hover:bg-emerald-500 group-hover:text-slate-900 dark:text-white transition-all duration-300"},Wt={key:1,class:"text-slate-900 dark:text-white text-center py-20"},fe={__name:"Index",props:{invoices:Object,suppliers:Array,filters:Object,statuses:Array},setup(c){const b=c,w=g(b.filters?.search||""),y=g(b.filters?.status||""),_=g(b.filters?.supplier||""),m=g(b.filters?.sort||"invoice_date"),x=g(b.filters?.direction||"desc"),S=g(!1),v=o=>{m.value===o?x.value=x.value==="asc"?"desc":"asc":(m.value=o,x.value="asc"),F()},F=K(()=>{O.get("/purchasing/invoices",{search:w.value||void 0,status:y.value||void 0,supplier:_.value||void 0,sort:m.value,direction:x.value},{preserveState:!0,replace:!0})},300);B([w,y,_],()=>{F()});const V=o=>o&&{unpaid:"bg-red-500/20 text-red-400 border-red-500/30",partial:"bg-amber-500/20 text-amber-400 border-amber-500/30",paid:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30"}[o]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",I=o=>{if(!o)return"-";try{return new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}catch{return o}},T=o=>o.status==="paid"||o.status==="cancelled"||!o.due_date?!1:new Date(o.due_date)<new Date;return(o,e)=>(a(),r(k,null,[d(l(R),{title:"Purchase Invoices"}),d(G,{title:"Purchase Invoices"},{default:$(()=>[c.invoices?(a(),r(k,{key:0},[t("div",W,[t("div",X,[t("div",Y,[d(l(H),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),P(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>w.value=s),type:"search",placeholder:"Search invoice or PO number...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[U,w.value]])]),t("button",{onClick:e[1]||(e[1]=s=>S.value=!S.value),class:C(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",{"ring-2 ring-blue-500/50":S.value}])},[d(l(M),{class:"h-5 w-5"}),e[9]||(e[9]=i(" Filters ",-1))],2)]),d(l(N),{href:"/purchasing/invoices/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-emerald-600 to-emerald-500 px-4 py-2.5 text-sm font-semibold text-slate-900 dark:text-white shadow-lg shadow-emerald-500/25 hover:from-emerald-500 hover:to-emerald-400 transition-all"},{default:$(()=>[d(l(A),{class:"h-5 w-5"}),e[10]||(e[10]=i(" Record Supplier Invoice ",-1))]),_:1})]),d(L,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:$(()=>[S.value?(a(),r("div",Z,[t("div",tt,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Status",-1)),P(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>y.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[11]||(e[11]=t("option",{value:""},"All Status",-1)),(a(!0),r(k,null,D(c.statuses,s=>(a(),r("option",{key:s.value,value:s.value},n(s.label),9,et))),128))],512),[[z,y.value]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Supplier",-1)),P(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>_.value=s),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[13]||(e[13]=t("option",{value:""},"All Suppliers",-1)),(a(!0),r(k,null,D(c.suppliers,s=>(a(),r("option",{key:s.id,value:s.id},n(s.name),9,st))),128))],512),[[z,_.value]])])])])):u("",!0)]),_:1}),t("div",at,[t("div",lt,[t("table",rt,[t("thead",null,[t("tr",ot,[t("th",{onClick:e[4]||(e[4]=s=>v("invoice_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",dt,[e[15]||(e[15]=i(" Invoice Info ",-1)),m.value==="invoice_number"?(a(),r("span",it,[x.value==="asc"?(a(),p(l(f),{key:0,class:"h-3 w-3"})):(a(),p(l(h),{key:1,class:"h-3 w-3"}))])):u("",!0)])]),t("th",{onClick:e[5]||(e[5]=s=>v("supplier_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",nt,[e[16]||(e[16]=i(" Supplier ",-1)),m.value==="supplier_name"?(a(),r("span",ut,[x.value==="asc"?(a(),p(l(f),{key:0,class:"h-3 w-3"})):(a(),p(l(h),{key:1,class:"h-3 w-3"}))])):u("",!0)])]),t("th",{onClick:e[6]||(e[6]=s=>v("invoice_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",pt,[e[17]||(e[17]=i(" Dates ",-1)),m.value==="invoice_date"?(a(),r("span",ct,[x.value==="asc"?(a(),p(l(f),{key:0,class:"h-3 w-3"})):(a(),p(l(h),{key:1,class:"h-3 w-3"}))])):u("",!0)])]),t("th",{onClick:e[7]||(e[7]=s=>v("total_amount")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",xt,[e[18]||(e[18]=i(" Amount ",-1)),m.value==="total_amount"?(a(),r("span",mt,[x.value==="asc"?(a(),p(l(f),{key:0,class:"h-3 w-3"})):(a(),p(l(h),{key:1,class:"h-3 w-3"}))])):u("",!0)])]),t("th",{onClick:e[8]||(e[8]=s=>v("status")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",gt,[e[19]||(e[19]=i(" Status ",-1)),m.value==="status"?(a(),r("span",bt,[x.value==="asc"?(a(),p(l(f),{key:0,class:"h-3 w-3"})):(a(),p(l(h),{key:1,class:"h-3 w-3"}))])):u("",!0)])]),e[20]||(e[20]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions",-1))])]),t("tbody",vt,[(a(!0),r(k,null,D(c.invoices.data,s=>(a(),r("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",kt,[t("div",ht,[t("div",ft,[d(l(j),{class:"h-4 w-4"})]),t("div",null,[t("div",wt,n(s.invoice_number),1),s.purchase_order?(a(),r("div",yt," PO: "+n(s.purchase_order.po_number),1)):u("",!0)])])]),t("td",_t,[t("div",St,n(s.supplier?.name||"Unknown"),1),t("div",$t,n(s.supplier?.code),1)]),t("td",Pt,[t("div",Ct,[t("div",Dt,[e[21]||(e[21]=t("span",{class:"text-slate-500 text-[10px] font-bold uppercase w-8"},"Inv",-1)),i(" "+n(I(s.invoice_date)),1)]),t("div",{class:C(["flex items-center gap-1.5 text-xs",T(s)?"text-red-400":"text-slate-600 dark:text-slate-300"])},[e[22]||(e[22]=t("span",{class:"text-slate-500 text-[10px] font-bold uppercase w-8"},"Due",-1)),i(" "+n(I(s.due_date))+" ",1),T(s)?(a(),r("span",jt,"Overdue")):u("",!0)],2)])]),t("td",Ft,[t("div",It,n(l(q)(s.total_amount)),1),t("div",Tt,n(s.items_count)+" items",1)]),t("td",Nt,[t("span",{class:C(["inline-flex items-center rounded-full border px-2.5 py-0.5 font-bold uppercase tracking-wider scale-90",V(s.status)])},n(s.status),3)]),t("td",zt,[d(l(N),{underline:!1,href:`/purchasing/invoices/${s.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-all border border-transparent hover:border-slate-200 dark:border-slate-700"},{default:$(()=>[d(l(J),{class:"h-4 w-4"})]),_:1},8,["href"])])]))),128)),c.invoices.data&&c.invoices.data.length===0?(a(),r("tr",At,[t("td",Vt,[t("div",Ot,[d(l(j),{class:"h-12 w-12 text-slate-700 opacity-50"}),e[23]||(e[23]=t("p",null,"No purchase invoices found.",-1))])])])):u("",!0)])])]),c.invoices.last_page>1?(a(),r("div",Bt,[d(E,{links:c.invoices.links},null,8,["links"])])):u("",!0)]),t("div",Rt,[e[33]||(e[33]=t("div",{class:"flex items-center gap-3 mb-6"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest px-2"},"Panduan Penggunaan Fitur Tagihan"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",Ut,[t("div",Lt,[e[25]||(e[25]=t("div",{class:"absolute -right-2 -top-2 text-6xl font-black text-slate-800 opacity-20 pointer-events-none"},"01",-1)),t("div",Mt,[t("div",Gt,[d(l(A),{class:"h-6 w-6"})]),e[24]||(e[24]=t("h4",{class:"font-bold text-slate-900 dark:text-white uppercase tracking-tight"},"Pilih Supplier",-1))]),e[26]||(e[26]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed"},[i(" Klik tombol "),t("strong",null,'"Record Supplier Invoice"'),i(" lalu pilih nama Supplier. Sistem akan otomatis mencari semua barang yang sudah Anda terima (GRN) tapi belum dibuatkan tagihannya. ")],-1))]),t("div",Kt,[e[28]||(e[28]=t("div",{class:"absolute -right-2 -top-2 text-6xl font-black text-slate-800 opacity-20 pointer-events-none"},"02",-1)),t("div",qt,[t("div",Et,[d(l(j),{class:"h-6 w-6"})]),e[27]||(e[27]=t("h4",{class:"font-bold text-slate-900 dark:text-white uppercase tracking-tight"},"Pilih GRN & Cek Harga",-1))]),e[29]||(e[29]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed"},[i(" Pilih daftar "),t("strong",null,"Pending Receipts"),i(" yang ingin ditagihkan. Masukkan nomor invoice asli dari supplier, cek kembali harga satuan, diskon, dan pajak (PPN). ")],-1))]),t("div",Ht,[e[31]||(e[31]=t("div",{class:"absolute -right-2 -top-2 text-6xl font-black text-slate-800 opacity-20 pointer-events-none"},"03",-1)),t("div",Jt,[t("div",Qt,[d(l(Q),{class:"h-6 w-6"})]),e[30]||(e[30]=t("h4",{class:"font-bold text-slate-900 dark:text-white uppercase tracking-tight"},"Finalisasi Tagihan",-1))]),e[32]||(e[32]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed"},[i(" Tentukan "),t("strong",null,"Tanggal Jatuh Tempo"),i(" agar Finance bisa memantau jadwal pembayaran. Klik simpan untuk mencatat hutang perusahaan ke supplier. ")],-1))])])])],64)):(a(),r("div",Wt,[...e[34]||(e[34]=[t("div",{class:"flex flex-col items-center gap-4"},[t("div",{class:"h-10 w-10 border-4 border-slate-200 dark:border-slate-800 border-t-blue-500 rounded-full animate-spin"}),t("p",{class:"text-slate-500 animate-pulse"},"Loading billing data...")],-1)])]))]),_:1})],64))}};export{fe as default};
