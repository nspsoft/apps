import{f,x as b,w as n,b as t,t as i,o as l,c as m,i as v,a as p,j as c,u as r,k as y,v as g,n as k,d as w}from"./app-B5B8X2AE.js";import{_}from"./AppLayout-BfpgVAGX.js";import{_ as h}from"./PrimaryButton-o71PmqmZ.js";import{_ as u}from"./InputLabel-CvM38L7Z.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-CgOQ8EZI.js";import"./SunIcon-C5izLkPm.js";import"./WrenchScrewdriverIcon-CK537maF.js";import"./DocumentPlusIcon-byOnFOoQ.js";import"./TruckIcon-D12YVj-p.js";import"./DocumentTextIcon-BpHGUgTF.js";import"./ShoppingCartIcon-ChyIwjII.js";import"./MapPinIcon-CtQDNl_B.js";import"./SparklesIcon-BMNJZLmJ.js";import"./CubeIcon-CbNAsuta.js";import"./ClockIcon-Jj0btIQ5.js";import"./CheckCircleIcon-gCdu7Nt7.js";import"./ShieldCheckIcon-6tlImw_i.js";const D={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},C={class:"py-12"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},S={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg p-6 mb-6"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},V={class:"text-base font-semibold"},B={class:"text-base font-semibold"},U={class:"col-span-2"},A={class:"p-4 bg-red-50 text-red-800 rounded-md border border-red-200 mt-1"},T={key:0,class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg p-6"},j={class:"grid grid-cols-1 gap-6"},q={class:"flex justify-end"},M={key:1,class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg p-6"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$={class:"text-base font-semibold capitalize"},z={class:"text-base font-semibold"},E={class:"col-span-2"},F={class:"text-base"},nt={__name:"Show",props:{ncr:Object},setup(o){const a=o,e=f({disposition:a.ncr.disposition||"",action_plan:a.ncr.action_plan||"",approved_by:a.ncr.approved_by||1}),x=()=>{confirm("Confirm final disposition? This will close the NCR.")&&e.put(route("qc.ncr.update",a.ncr.id))};return(I,s)=>(l(),b(_,{title:"NCR Details"},{header:n(()=>[t("h2",D," NCR #"+i(o.ncr.id)+" - "+i(o.ncr.status.toUpperCase()),1)]),default:n(()=>[t("div",C,[t("div",R,[t("div",S,[s[6]||(s[6]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Defect Details",-1)),t("div",N,[t("div",null,[s[3]||(s[3]=t("p",{class:"text-sm text-gray-500"},"Source",-1)),t("p",V,i(o.ncr.inspection?.reference_type?.split("\\").pop())+" #"+i(o.ncr.inspection?.reference_id),1)]),t("div",null,[s[4]||(s[4]=t("p",{class:"text-sm text-gray-500"},"Date Detected",-1)),t("p",B,i(new Date(o.ncr.created_at).toLocaleDateString()),1)]),t("div",U,[s[5]||(s[5]=t("p",{class:"text-sm text-gray-500"},"Defect Description",-1)),t("div",A,i(o.ncr.defect_description),1)])])]),o.ncr.status==="open"?(l(),m("div",T,[s[9]||(s[9]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Disposition & Action Plan",-1)),t("form",{onSubmit:v(x,["prevent"])},[t("div",j,[t("div",null,[p(u,{value:"Disposition Decision"}),c(t("select",{"onUpdate:modelValue":s[0]||(s[0]=d=>r(e).disposition=d),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[...s[7]||(s[7]=[t("option",{value:"",disabled:""},"Select Action",-1),t("option",{value:"rework"},"Rework (Perbaiki)",-1),t("option",{value:"scrap"},"Scrap (Buang)",-1),t("option",{value:"return_to_vendor"},"Return to Vendor (Retur)",-1),t("option",{value:"use_as_is"},"Use As Is (Terima dengan Catatan)",-1)])],512),[[y,r(e).disposition]])]),t("div",null,[p(u,{value:"Action Plan / Remarks"}),c(t("textarea",{"onUpdate:modelValue":s[1]||(s[1]=d=>r(e).action_plan=d),rows:"4",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},null,512),[[g,r(e).action_plan]])]),c(t("input",{type:"hidden","onUpdate:modelValue":s[2]||(s[2]=d=>r(e).approved_by=d)},null,512),[[g,r(e).approved_by]]),t("div",q,[p(h,{class:k({"opacity-25":r(e).processing}),disabled:r(e).processing},{default:n(()=>[...s[8]||(s[8]=[w(" Close NCR ",-1)])]),_:1},8,["class","disabled"])])])],32)])):(l(),m("div",M,[s[13]||(s[13]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Resolution",-1)),t("div",P,[t("div",null,[s[10]||(s[10]=t("p",{class:"text-sm text-gray-500"},"Disposition",-1)),t("p",$,i(o.ncr.disposition.replace("_"," ")),1)]),t("div",null,[s[11]||(s[11]=t("p",{class:"text-sm text-gray-500"},"Closed By",-1)),t("p",z,i(o.ncr.approver?.name||"Unknown"),1)]),t("div",E,[s[12]||(s[12]=t("p",{class:"text-sm text-gray-500"},"Action Taken",-1)),t("p",F,i(o.ncr.action_plan),1)])])]))])])]),_:1}))}};export{nt as default};
