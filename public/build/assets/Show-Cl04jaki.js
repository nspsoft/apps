import{m,d as c,e,b as o,u as i,l as v,t as d,j as x,n as b,o as a,c as l,k as n,F as h,g as p}from"./app-ql1HZfdt.js";import{_ as y}from"./PortalLayout-DSjqixle.js";import{r as f}from"./ArrowLeftIcon-D8s77TKr.js";import{r as g}from"./PrinterIcon-Bqic15TJ.js";import{r as _}from"./MapPinIcon-DgRKdvV8.js";/* empty css            */import"./XMarkIcon-5N1STuMt.js";import"./SunIcon-B1hXUsOB.js";import"./ShoppingCartIcon-B8Fx3enm.js";import"./TruckIcon-DvHrC9a6.js";import"./CalendarIcon-CKaa19ZI.js";import"./FolderIcon-Dy0m7MSN.js";import"./ArchiveBoxIcon-CuLdnocv.js";import"./ClipboardDocumentListIcon-Dwx24Ila.js";import"./QuestionMarkCircleIcon-D19FGr40.js";import"./ArrowRightOnRectangleIcon-D0eAXoAt.js";const k={class:"max-w-4xl mx-auto"},w={class:"flex items-center gap-4 mb-6"},N={class:"text-2xl font-bold text-slate-900 dark:text-white"},D={class:"text-sm text-slate-500"},q={class:"text-indigo-600 font-bold"},S={class:"ml-auto flex gap-3"},I=["href"],L={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},j={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6"},B={class:"space-y-3"},V={class:"flex justify-between"},$={class:"font-bold text-slate-900 dark:text-white"},C={class:"flex justify-between"},P={class:"font-mono text-slate-900 dark:text-white"},R={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6"},z={class:"flex items-start gap-3"},F={class:"font-bold text-slate-900 dark:text-white"},O={class:"text-sm text-slate-500"},Q={key:0,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 mb-6"},E={class:"text-slate-600 dark:text-slate-400 whitespace-pre-line"},G={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden"},K={class:"overflow-x-auto"},T={class:"w-full text-left text-sm text-slate-600 dark:text-slate-400"},U={class:"bg-slate-50 dark:bg-slate-700/50 uppercase text-xs font-bold text-slate-500"},A={key:0,class:"px-6 py-4 text-center"},H={class:"divide-y divide-slate-200 dark:divide-slate-700"},J={class:"px-6 py-4"},M={class:"font-bold text-slate-900 dark:text-white"},W={class:"text-xs text-slate-500"},X={class:"px-6 py-4 text-center font-bold text-lg text-indigo-600"},Y={key:0,class:"px-6 py-4 text-center font-bold text-lg"},Z={key:0,class:"text-[10px] text-red-500 font-normal mt-1"},he={__name:"Show",props:{delivery:Object},setup(s){return(u,t)=>(a(),m(y,{title:`DN #${s.delivery.delivery_note_number}`},{default:c(()=>[e("div",k,[e("div",w,[o(i(v),{href:"/portal/deliveries",class:"p-2 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-slate-700 dark:hover:text-white transition-colors"},{default:c(()=>[o(i(f),{class:"h-5 w-5"})]),_:1}),e("div",null,[e("h1",N,"Delivery Note #"+d(s.delivery.delivery_note_number),1),e("p",D,[t[0]||(t[0]=x(" Ref PO: ",-1)),e("span",q,d(s.delivery.purchase_order?.po_number),1)])]),e("div",S,[e("a",{href:u.route("portal.deliveries.print",s.delivery.id),target:"_blank",class:"px-4 py-2 rounded-lg bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 font-bold flex items-center gap-2 cursor-pointer"},[o(i(g),{class:"w-5 h-5"}),t[1]||(t[1]=x(" Print ",-1))],8,I),e("span",{class:b(["px-3 py-1.5 rounded-full text-sm font-bold capitalize flex items-center",{"bg-orange-100 text-orange-700":s.delivery.status==="dispatched","bg-blue-100 text-blue-700":s.delivery.status==="received","bg-emerald-100 text-emerald-700":s.delivery.status==="completed"}])},d(s.delivery.status),3)])]),e("div",L,[e("div",j,[t[4]||(t[4]=e("h3",{class:"font-bold text-slate-500 text-xs uppercase mb-4"},"Delivery Details",-1)),e("div",B,[e("div",V,[t[2]||(t[2]=e("span",{class:"text-slate-500"},"Date",-1)),e("span",$,d(new Date(s.delivery.receipt_date).toLocaleDateString()),1)]),e("div",C,[t[3]||(t[3]=e("span",{class:"text-slate-500"},"GRN System ID",-1)),e("span",P,d(s.delivery.grn_number),1)])])]),e("div",R,[t[5]||(t[5]=e("h3",{class:"font-bold text-slate-500 text-xs uppercase mb-4"},"Destination",-1)),e("div",z,[o(i(_),{class:"w-5 h-5 text-slate-400 mt-0.5"}),e("div",null,[e("p",F,d(s.delivery.warehouse?.name),1),e("p",O,d(s.delivery.warehouse?.address||"No address details"),1)])])])]),s.delivery.notes?(a(),l("div",Q,[t[6]||(t[6]=e("h3",{class:"font-bold text-slate-800 dark:text-white mb-2"},"Driver / Delivery Notes",-1)),e("p",E,d(s.delivery.notes),1)])):n("",!0),e("div",G,[t[9]||(t[9]=e("div",{class:"p-6 border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50"},[e("h2",{class:"font-bold text-slate-800 dark:text-white"},"Items Dispatched")],-1)),e("div",K,[e("table",T,[e("thead",U,[e("tr",null,[t[7]||(t[7]=e("th",{class:"px-6 py-4"},"Product",-1)),t[8]||(t[8]=e("th",{class:"px-6 py-4 text-center"},"Qty Dispatched",-1)),["received","completed"].includes(s.delivery.status)?(a(),l("th",A,"Qty Received")):n("",!0)])]),e("tbody",H,[(a(!0),l(h,null,p(s.delivery.items,r=>(a(),l("tr",{key:r.id},[e("td",J,[e("p",M,d(r.product?.name||r.product_name||"-"),1),e("p",W,"SKU: "+d(r.product?.sku||"-"),1)]),e("td",X,d(Number(r.qty_ordered).toLocaleString("id-ID")),1),["received","completed"].includes(s.delivery.status)?(a(),l("td",Y,[e("span",{class:b({"text-emerald-600":Number(r.qty_received)===Number(r.qty_ordered),"text-red-500":Number(r.qty_received)<Number(r.qty_ordered),"text-orange-500":Number(r.qty_received)>Number(r.qty_ordered)})},d(Number(r.qty_received).toLocaleString("id-ID")),3),Number(r.qty_received)<Number(r.qty_ordered)?(a(),l("p",Z," Shortfall: "+d((Number(r.qty_ordered)-Number(r.qty_received)).toLocaleString("id-ID")),1)):n("",!0)])):n("",!0)]))),128))])])])])])]),_:1},8,["title"]))}};export{he as default};
