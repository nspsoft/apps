import{s as y,c as i,a as o,u as s,h as P,w as g,o as r,F as v,b as t,l as f,d as l,x as n,e as p,g as D,t as b,n as z}from"./app-DXljF0a6.js";import{h,_ as N}from"./AppLayout-DE4eK6XI.js";import{_ as j}from"./Pagination-BIMETeb5.js";import{d as S}from"./debounce-BpS6AZtk.js";import{r as _}from"./PlusIcon-pEaA6Qhv.js";import{r as k}from"./ChevronUpIcon-BZhNABax.js";import{r as B}from"./EyeIcon-BAtXCvlK.js";import{r as F}from"./PencilSquareIcon-CVXQEWhr.js";import{r as A}from"./TrashIcon-ChHpOI3e.js";import{r as L}from"./DocumentCheckIcon-DoZ1ciB-.js";import{r as V}from"./ShoppingCartIcon-B3QakQe3.js";import{b as I}from"./SunIcon-CXrnetDC.js";/* empty css            */import"./XMarkIcon-Cv3k7dsQ.js";import"./WrenchScrewdriverIcon-BEcmvrPK.js";import"./DocumentPlusIcon-Bu362PSM.js";import"./TruckIcon-c6xKH9BV.js";import"./DocumentTextIcon-DwL5yPkx.js";import"./MapPinIcon-BK_yrJ2D.js";import"./SparklesIcon-Cn6h5byK.js";import"./CubeIcon-DdhNpuk-.js";import"./ClockIcon-CNhIucyl.js";import"./CheckCircleIcon-C0OEANr7.js";import"./ShieldCheckIcon-C4VB4kQ5.js";const O={class:"flex items-center justify-between mb-6"},M={class:"rounded-2xl glass-card overflow-hidden"},T={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},E={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},G={class:"border-b border-slate-200 dark:border-slate-700"},Q={class:"flex items-center gap-1"},U={key:0,class:"text-blue-600 dark:text-blue-400"},W={class:"flex items-center gap-1"},H={key:0,class:"text-blue-600 dark:text-blue-400"},J={class:"flex items-center gap-1"},K={key:0,class:"text-blue-600 dark:text-blue-400"},X={class:"flex items-center gap-1"},Y={key:0,class:"text-blue-600 dark:text-blue-400"},Z={class:"flex items-center justify-center gap-1"},tt={key:0,class:"text-blue-600 dark:text-blue-400"},et={class:"divide-y divide-slate-100 dark:divide-slate-800"},st={class:"px-4 py-2 whitespace-nowrap"},rt={class:"flex items-center gap-3"},at={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},lt={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300 font-medium"},ot={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},dt={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-slate-600 dark:text-slate-300"},it={class:"px-4 py-2 whitespace-nowrap text-center"},nt={class:"px-4 py-2 whitespace-nowrap text-right"},xt={class:"flex items-center justify-end gap-2"},ct=["onClick"],pt={key:0},ut={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4"},bt={class:"mt-12"},mt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},gt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ht={class:"flex items-center gap-3 mb-3"},kt={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},ft={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},vt={class:"flex items-center gap-3 mb-3"},wt={class:"p-2.5 rounded-xl bg-orange-500/10 text-orange-400"},yt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},_t={class:"flex items-center gap-3 mb-3"},$t={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},qt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Ct={class:"flex items-center gap-3 mb-3"},Rt={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},Pt={key:1,class:"text-slate-900 dark:text-white text-center py-20"},te={__name:"Index",props:{requests:Object,filters:Object},setup(u){const w=u,c=ref(w.filters?.sort||"created_at"),x=ref(w.filters?.direction||"desc"),m=d=>{c.value===d?x.value=x.value==="asc"?"desc":"asc":(c.value=d,x.value="asc"),$()},$=S(()=>{y.get("/purchasing/requests",{sort:c.value,direction:x.value},{preserveState:!0,replace:!0})},300),q=d=>d&&{draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",pending:"bg-amber-500/20 text-amber-400 border-amber-500/30",approved:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30"}[d]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",C=d=>{d&&confirm("Are you sure you want to delete this purchase request?")&&y.delete(`/purchasing/requests/${d}`)},R=d=>{if(!d)return"-";try{return new Date(d).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}catch{return d}};return(d,e)=>(r(),i(v,null,[o(s(P),{title:"Purchase Requests"}),o(N,{title:"Purchase Requests"},{default:g(()=>[u.requests?(r(),i(v,{key:0},[t("div",O,[e[6]||(e[6]=t("p",{class:"text-slate-500 dark:text-slate-400 italic text-sm"},"Manage purchase requests from departments",-1)),o(s(f),{href:"/purchasing/requests/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:g(()=>[o(s(_),{class:"h-5 w-5"}),e[5]||(e[5]=l(" New Request ",-1))]),_:1})]),t("div",M,[t("div",T,[t("table",E,[t("thead",null,[t("tr",G,[t("th",{onClick:e[0]||(e[0]=a=>m("pr_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",Q,[e[7]||(e[7]=l(" PR Number ",-1)),s(c)==="pr_number"?(r(),i("span",U,[s(x)==="asc"?(r(),n(s(k),{key:0,class:"h-3 w-3"})):(r(),n(s(h),{key:1,class:"h-3 w-3"}))])):p("",!0)])]),t("th",{onClick:e[1]||(e[1]=a=>m("request_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",W,[e[8]||(e[8]=l(" Date ",-1)),s(c)==="request_date"?(r(),i("span",H,[s(x)==="asc"?(r(),n(s(k),{key:0,class:"h-3 w-3"})):(r(),n(s(h),{key:1,class:"h-3 w-3"}))])):p("",!0)])]),t("th",{onClick:e[2]||(e[2]=a=>m("department")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",J,[e[9]||(e[9]=l(" Department ",-1)),s(c)==="department"?(r(),i("span",K,[s(x)==="asc"?(r(),n(s(k),{key:0,class:"h-3 w-3"})):(r(),n(s(h),{key:1,class:"h-3 w-3"}))])):p("",!0)])]),t("th",{onClick:e[3]||(e[3]=a=>m("requester")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",X,[e[10]||(e[10]=l(" Requester ",-1)),s(c)==="requester"?(r(),i("span",Y,[s(x)==="asc"?(r(),n(s(k),{key:0,class:"h-3 w-3"})):(r(),n(s(h),{key:1,class:"h-3 w-3"}))])):p("",!0)])]),e[12]||(e[12]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-center text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Items",-1)),t("th",{onClick:e[4]||(e[4]=a=>m("status")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-center text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",Z,[e[11]||(e[11]=l(" Status ",-1)),s(c)==="status"?(r(),i("span",tt,[s(x)==="asc"?(r(),n(s(k),{key:0,class:"h-3 w-3"})):(r(),n(s(h),{key:1,class:"h-3 w-3"}))])):p("",!0)])]),e[13]||(e[13]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions",-1))])]),t("tbody",et,[(r(!0),i(v,null,D(u.requests.data,a=>(r(),i("tr",{key:a.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",st,[t("div",rt,[e[14]||(e[14]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 dark:bg-slate-800 font-mono text-xs text-slate-500"}," PR ",-1)),o(s(f),{href:`/purchasing/requests/${a.id}`,class:"text-sm font-medium text-slate-900 dark:text-white hover:text-blue-400"},{default:g(()=>[l(b(a.pr_number),1)]),_:2},1032,["href"])])]),t("td",at,b(R(a.request_date)),1),t("td",lt,b(a.department||"-"),1),t("td",ot,b(a.requester||"-"),1),t("td",dt,b(a.items_count||0),1),t("td",it,[t("span",{class:z(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium",q(a.status)])},b(a.status?.toUpperCase()||"N/A"),3)]),t("td",nt,[t("div",xt,[o(s(f),{href:`/purchasing/requests/${a.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:g(()=>[o(s(B),{class:"h-4 w-4"})]),_:1},8,["href"]),a.status==="draft"?(r(),n(s(f),{key:0,href:`/purchasing/requests/${a.id}/edit`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:g(()=>[o(s(F),{class:"h-4 w-4"})]),_:1},8,["href"])):p("",!0),t("button",{onClick:Dt=>C(a.id),class:"p-2 text-slate-500 dark:text-slate-400 hover:text-red-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 rounded-lg transition-colors"},[o(s(A),{class:"h-4 w-4"})],8,ct)])])]))),128)),u.requests.data&&u.requests.data.length===0?(r(),i("tr",pt,[...e[15]||(e[15]=[t("td",{colspan:"7",class:"px-4 py-12 text-center text-slate-500 italic"},"No purchase requests found.",-1)])])):p("",!0)])])]),u.requests.last_page>1?(r(),i("div",ut,[o(j,{links:u.requests.links},null,8,["links"])])):p("",!0)]),t("div",bt,[e[24]||(e[24]=t("div",{class:"flex items-center gap-2 mb-4 px-1"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Procurement Guide"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",mt,[t("div",gt,[t("div",ht,[t("div",kt,[o(s(_),{class:"h-5 w-5"})]),e[16]||(e[16]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Create Request",-1))]),e[17]||(e[17]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Department members can initiate a "),t("strong",null,"Purchase Request (PR)"),l(". ")],-1))]),t("div",ft,[t("div",vt,[t("div",wt,[o(s(L),{class:"h-5 w-5"})]),e[18]||(e[18]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Approval Flow",-1))]),e[19]||(e[19]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" PRs go through a "),t("strong",null,"Status Workflow"),l(". ")],-1))]),t("div",yt,[t("div",_t,[t("div",$t,[o(s(V),{class:"h-5 w-5"})]),e[20]||(e[20]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Convert to PO",-1))]),e[21]||(e[21]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Save time by "),t("strong",null,"Linking approved PRs"),l(". ")],-1))]),t("div",qt,[t("div",Ct,[t("div",Rt,[o(s(I),{class:"h-5 w-5"})]),e[22]||(e[22]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Tracking",-1))]),e[23]||(e[23]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Monitor the "),t("strong",null,"Quantity Requested"),l(". ")],-1))])])])],64)):(r(),i("div",Pt," Loading requests... "))]),_:1})],64))}};export{te as default};
