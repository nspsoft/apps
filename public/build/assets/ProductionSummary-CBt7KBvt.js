import{r as v,a as R,w as A,c as p,b as x,u as d,h as D,d as P,e as t,l as F,j as n,f as y,v as w,o as u,F as _,g as S,t as a,i as O,n as q,k as V,D as f}from"./app-CVskXPlE.js";import{_ as $}from"./AppLayout-BPbSmNAp.js";import{d as j}from"./debounce-Cg7VCV6j.js";import{f as g}from"./helpers-BjqMQcOq.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as E}from"./ArrowLeftIcon-CLhTKCJv.js";import{r as I}from"./ArrowDownTrayIcon-BKqABBmh.js";import{r as M}from"./PrinterIcon-we3YselT.js";/* empty css            */import"./XMarkIcon-B0wnv3NP.js";import"./SunIcon-CH0hNqUR.js";import"./WrenchScrewdriverIcon-Ch0-x6ah.js";import"./CheckBadgeIcon-BrVRkF10.js";import"./ShoppingCartIcon-C3CFwejV.js";import"./CubeIcon-B3DTt87X.js";import"./TruckIcon-RPY9s92d.js";const Q={class:"max-w-7xl mx-auto"},T={class:"print:hidden mb-6 flex items-center justify-between"},U={class:"flex items-center gap-4"},z={class:"flex items-center gap-2 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 rounded-xl px-4 py-1.5"},J=["value"],W=["href"],G={onclick:"window.print()",class:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-slate-900 dark:text-white hover:bg-emerald-500 transition-colors shadow-lg shadow-emerald-900/20"},L={class:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white p-8 min-h-screen rounded-sm shadow-2xl print:shadow-none print:w-full"},Y={class:"border-b-2 border-slate-900 dark:border-slate-800 pb-6 mb-6"},H={class:"flex items-start justify-between"},K={class:"text-sm text-slate-500 mt-1"},X={class:"text-xs text-slate-500 dark:text-slate-400 italic"},Z={class:"text-right"},tt={class:"text-sm text-slate-500 dark:text-slate-400 font-medium"},et={class:"grid grid-cols-4 gap-6 mb-8"},st={class:"border border-slate-200 dark:border-slate-800 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/50"},at={class:"text-2xl font-black text-slate-900 dark:text-white"},rt={class:"border border-slate-200 dark:border-slate-800 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/50"},lt={class:"text-2xl font-black text-slate-900 dark:text-white"},dt={class:"border border-slate-200 dark:border-slate-800 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/50"},ot={class:"text-2xl font-black text-slate-900 dark:text-white"},nt={class:"border border-emerald-200 dark:border-emerald-800/50 p-4 rounded-lg bg-emerald-50 dark:bg-emerald-900/20"},it={class:"text-2xl font-black text-emerald-700 dark:text-emerald-400"},pt={class:"mb-6 p-4 bg-slate-100 dark:bg-slate-800 rounded-lg flex gap-6 text-sm text-slate-900 dark:text-white"},xt={class:"w-full text-sm"},ut={class:"divide-y divide-slate-100 dark:divide-slate-800"},ct={class:"py-3 px-2 font-mono text-xs"},mt={class:"py-3 px-2 font-medium"},bt={class:"py-3 px-2"},ft={class:"py-3 px-2"},gt={class:"py-3 px-2 text-right"},kt={class:"py-3 px-2 text-right font-bold"},vt={class:"py-3 px-2 text-right"},yt={key:0},_t={__name:"ProductionSummary",props:{data:Array,products:Array,filters:Object,date:String},setup(o){const l=o,c=v(l.filters.start_date),m=v(l.filters.end_date),i=v(l.filters.product_id||""),C=j(()=>{R.get("/inventory/reports/production-summary",{start_date:c.value,end_date:m.value,product_id:i.value||void 0},{preserveState:!0,replace:!0})},300);A([c,m,i],C);const k=f(()=>l.data.reduce((r,e)=>r+Number(e.planned_qty),0)),h=f(()=>l.data.reduce((r,e)=>r+Number(e.actual_qty||0),0)),N=f(()=>k.value===0?0:(h.value/k.value*100).toFixed(1)),b=f(()=>({draft:l.data.filter(r=>r.status==="draft").length,confirmed:l.data.filter(r=>r.status==="confirmed").length,in_progress:l.data.filter(r=>r.status==="in_progress").length,completed:l.data.filter(r=>r.status==="completed").length,cancelled:l.data.filter(r=>r.status==="cancelled").length}));return(r,e)=>(u(),p(_,null,[x(d(D),{title:"Production Summary Report"}),x($,{title:"Reports"},{default:P(()=>[t("div",Q,[t("div",T,[x(d(F),{href:"/inventory/reports",class:"inline-flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white"},{default:P(()=>[x(d(E),{class:"h-4 w-4"}),e[3]||(e[3]=n(" Back to Reports ",-1))]),_:1}),t("div",U,[t("div",z,[y(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),class:"bg-transparent border-0 text-sm text-slate-900 dark:text-white focus:ring-0 p-0 w-32"},null,512),[[w,c.value]]),e[4]||(e[4]=t("span",{class:"text-slate-500"},"-",-1)),y(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>m.value=s),class:"bg-transparent border-0 text-sm text-slate-900 dark:text-white focus:ring-0 p-0 w-32"},null,512),[[w,m.value]])]),y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>i.value=s),class:"rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[e[5]||(e[5]=t("option",{value:""},"All Products",-1)),(u(!0),p(_,null,S(l.products,s=>(u(),p("option",{key:s.id,value:s.id},a(s.name),9,J))),128))],512),[[O,i.value]]),t("a",{href:`/inventory/reports/export/production?start_date=${c.value}&end_date=${m.value}&product_id=${i.value}`,class:"inline-flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},[x(d(I),{class:"h-4 w-4"}),e[6]||(e[6]=n(" Export Excel ",-1))],8,W),t("button",G,[x(d(M),{class:"h-4 w-4"}),e[7]||(e[7]=n(" Print PDF ",-1))])])]),t("div",L,[t("div",Y,[t("div",H,[t("div",null,[e[8]||(e[8]=t("h1",{class:"text-3xl font-black uppercase tracking-tighter text-emerald-800 dark:text-emerald-400"},"Production Summary",-1)),t("p",K,"Planned Start: "+a(o.filters.start_date)+" to "+a(o.filters.end_date),1),t("p",X,"Generated on "+a(o.date),1)]),t("div",Z,[e[9]||(e[9]=t("p",{class:"text-xl font-bold text-slate-900 dark:text-white"},"JICOS",-1)),e[10]||(e[10]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Manufacturing Report",-1)),t("p",tt,"Product: "+a(o.products.find(s=>s.id==i.value)?.name||"All Products"),1)])])]),t("div",et,[t("div",st,[e[11]||(e[11]=t("p",{class:"text-xs uppercase font-bold text-slate-500 dark:text-slate-400 mb-1"},"Total Work Orders",-1)),t("p",at,a(o.data.length),1)]),t("div",rt,[e[12]||(e[12]=t("p",{class:"text-xs uppercase font-bold text-slate-500 dark:text-slate-400 mb-1"},"Planned Qty",-1)),t("p",lt,a(d(g)(k.value)),1)]),t("div",dt,[e[13]||(e[13]=t("p",{class:"text-xs uppercase font-bold text-slate-500 dark:text-slate-400 mb-1"},"Actual Output",-1)),t("p",ot,a(d(g)(h.value)),1)]),t("div",nt,[e[14]||(e[14]=t("p",{class:"text-xs uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-1"},"Completion Rate",-1)),t("p",it,a(N.value)+"%",1)])]),t("div",pt,[t("div",null,[e[15]||(e[15]=t("span",{class:"font-bold text-slate-500 dark:text-slate-400"},"Draft:",-1)),n(" "+a(b.value.draft),1)]),t("div",null,[e[16]||(e[16]=t("span",{class:"font-bold text-slate-500 dark:text-slate-400"},"Confirmed:",-1)),n(" "+a(b.value.confirmed),1)]),t("div",null,[e[17]||(e[17]=t("span",{class:"font-bold text-amber-700 dark:text-amber-400"},"In Progress:",-1)),n(" "+a(b.value.in_progress),1)]),t("div",null,[e[18]||(e[18]=t("span",{class:"font-bold text-emerald-700 dark:text-emerald-400"},"Completed:",-1)),n(" "+a(b.value.completed),1)]),t("div",null,[e[19]||(e[19]=t("span",{class:"font-bold text-red-700 dark:text-red-400"},"Cancelled:",-1)),n(" "+a(b.value.cancelled),1)])]),t("table",xt,[e[21]||(e[21]=t("thead",null,[t("tr",{class:"border-b-2 border-slate-200 dark:border-slate-800 text-left"},[t("th",{class:"py-3 px-2 font-bold uppercase text-xs"},"WO Number"),t("th",{class:"py-3 px-2 font-bold uppercase text-xs"},"Product"),t("th",{class:"py-3 px-2 font-bold uppercase text-xs"},"Planned Start"),t("th",{class:"py-3 px-2 font-bold uppercase text-xs"},"Status"),t("th",{class:"py-3 px-2 text-right font-bold uppercase text-xs"},"Planned Qty"),t("th",{class:"py-3 px-2 text-right font-bold uppercase text-xs"},"Actual Qty"),t("th",{class:"py-3 px-2 text-right font-bold uppercase text-xs"},"Yield %")])],-1)),t("tbody",ut,[(u(!0),p(_,null,S(o.data,s=>(u(),p("tr",{key:s.id,class:"break-inside-avoid hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[t("td",ct,a(s.number),1),t("td",mt,a(s.product?.name),1),t("td",bt,a(s.planned_start),1),t("td",ft,[t("span",{class:q(["capitalize px-2 py-0.5 rounded text-[10px] font-bold border",{"bg-emerald-50 text-emerald-700 border-emerald-200":s.status==="completed","bg-amber-50 text-amber-700 border-amber-200":s.status==="in_progress","bg-blue-50 text-blue-700 border-blue-200":s.status==="confirmed","bg-slate-50 text-slate-700 border-slate-200":s.status==="draft","bg-red-50 text-red-700 border-red-200":s.status==="cancelled"}])},a(s.status?.replace("_"," ")),3)]),t("td",gt,a(d(g)(s.planned_qty)),1),t("td",kt,a(d(g)(s.actual_qty||0)),1),t("td",vt,[t("span",{class:q(s.planned_qty>0&&s.actual_qty/s.planned_qty>=1?"text-emerald-600":"text-slate-500")},a(s.planned_qty>0?((s.actual_qty||0)/s.planned_qty*100).toFixed(0):0)+"% ",3)])]))),128)),o.data.length===0?(u(),p("tr",yt,[...e[20]||(e[20]=[t("td",{colspan:"7",class:"py-12 text-center text-slate-500 dark:text-slate-400 italic"},"No work orders found for the selected period.",-1)])])):V("",!0)])]),e[22]||(e[22]=t("div",{class:"mt-12 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-between text-[10px] text-slate-500 dark:text-slate-400 uppercase font-bold tracking-widest"},[t("p",null,"Manufacturing Report - ERP JICOS"),t("p",null,"Page 1 OF 1")],-1))])])]),_:1})],64))}},Et=B(_t,[["__scopeId","data-v-040f26f7"]]);export{Et as default};
