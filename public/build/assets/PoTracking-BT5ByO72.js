import{r as v,w as k,m as c,d as w,e,b as m,u as d,j as g,y,f as P,v as _,o as r,c as o,C as u,t as l,F as O,g as R,n as h,k as n,a as j}from"./app-qauTKIkO.js";import{_ as C}from"./AppLayout-BSR6ets9.js";import{l as $}from"./lodash-BUJafbwN.js";import{r as p}from"./MagnifyingGlassIcon-DmzTzaFm.js";import{r as S}from"./ClipboardDocumentCheckIcon-Dm2fKAc-.js";import{r as D}from"./DocumentCheckIcon-BQJgOAxS.js";import{r as F}from"./TruckIcon-BKwUpA0c.js";import{b as z}from"./SunIcon-DaJUJklG.js";import{r as T}from"./CheckBadgeIcon-62T3_Q6t.js";import{r as N}from"./ExclamationCircleIcon-D_8UMAIW.js";/* empty css            */import"./XMarkIcon-DN8u7QRi.js";import"./WrenchScrewdriverIcon-B2TLGCl5.js";import"./ShoppingCartIcon-D3vITk1U.js";import"./CubeIcon-CtiI10Ot.js";const B={class:"py-12 bg-slate-50 dark:bg-slate-950 min-h-screen"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"mb-10 text-center"},L={class:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-xs font-bold uppercase tracking-wider mb-4 border border-blue-200 dark:border-blue-800"},M={class:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700"},q={class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10"},I={class:"grid grid-cols-1 md:grid-cols-12 gap-8 items-center bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[32px] p-8 shadow-xl"},A={key:0,class:"contents"},U={class:"md:col-span-5 flex justify-center"},W={class:"w-48 h-48 bg-white dark:bg-slate-900 rounded-full flex flex-col items-center justify-center shadow-inner"},G={class:"text-4xl font-extrabold text-slate-800 dark:text-white"},H={class:"md:col-span-7"},J={class:"grid grid-cols-2 gap-4"},K={class:"p-4 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-900/20"},Q={class:"text-blue-600 font-bold text-lg"},X={class:"text-[10px] text-slate-400 mt-1"},Y={class:"p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-2xl border border-emerald-100 dark:border-emerald-900/20"},Z={class:"text-emerald-600 font-bold text-lg"},ee={class:"text-[10px] text-slate-400 mt-1"},te={class:"p-4 bg-red-50 dark:bg-red-900/10 rounded-2xl border border-red-100 dark:border-red-900/20"},se={class:"text-red-500 font-bold text-lg"},le={class:"text-[10px] text-slate-400 mt-1"},re={class:"p-4 bg-slate-100 dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700"},ae={class:"text-slate-600 dark:text-slate-300 font-bold text-lg"},oe={class:"text-[10px] text-slate-400 mt-1"},de={key:1,class:"contents animate-in fade-in zoom-in duration-500"},ne={class:"md:col-span-5 flex justify-center"},ie={class:"w-48 h-48 bg-white dark:bg-slate-900 rounded-full flex flex-col items-center justify-center shadow-inner relative overflow-hidden"},ce={class:"text-5xl font-extrabold text-slate-800 dark:text-white relative z-10"},xe={class:"md:col-span-7"},ue={class:"space-y-6"},be={class:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-slate-100 dark:border-slate-700"},me={class:"flex justify-between items-center mb-2"},ge={class:"text-sm font-bold text-slate-900 dark:text-white"},fe={class:"flex justify-between items-center mb-4"},he={class:"text-sm font-bold text-blue-600"},pe={class:"w-full h-4 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden"},ve={class:"flex gap-4"},ke={class:"flex-1 p-4 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-900/20 text-center"},we={class:"text-blue-600 font-bold text-lg"},ye={class:"flex-1 p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-2xl border border-emerald-100 dark:border-emerald-900/20 text-center"},Pe={key:0,class:"text-emerald-600 font-bold text-lg"},_e={key:1,class:"text-amber-500 font-bold text-lg"},Oe={key:0,class:"bg-slate-900 rounded-[32px] p-8 md:p-12 shadow-2xl border border-slate-800 relative overflow-hidden"},Re={class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-12 gap-6 relative z-10"},je={class:"text-3xl font-black text-blue-500"},Ce={class:"text-sm text-slate-400 mt-1"},$e={class:"text-white font-mono"},Se={class:"text-right"},De={class:"text-xl font-bold text-white"},Fe={class:"inline-flex items-center gap-2 mt-2 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs font-bold"},ze={class:"relative"},Te={class:"grid grid-cols-1 md:grid-cols-5 gap-8 relative z-10"},Ne={key:0,class:"absolute inset-0 rounded-full border border-emerald-500 animate-ping opacity-20"},Be={class:"text-sm font-bold text-white mb-1 group-hover:text-blue-400 transition-colors"},Ve={class:"flex flex-col gap-1 items-center"},Ee={class:"text-[10px] font-mono text-slate-500 flex items-center gap-1"},Le={key:0,class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Me={key:1,class:"text-center py-20 opacity-50"},lt={__name:"PoTracking",props:{chartData:Object,chartPercentages:Object,searchResult:Object,queryParams:Object},setup(s){const x=v(s.queryParams?.search||""),f=()=>{const b="/sales/po-tracking";console.log("Searching for:",x.value),j.get(b,{search:x.value},{preserveState:!0,preserveScroll:!0})};return k(x,$.debounce(b=>{f()},500)),(b,t)=>(r(),c(C,{title:"PO Tracking"},{default:w(()=>[e("div",B,[e("div",V,[e("div",E,[e("div",L,[m(d(p),{class:"w-4 h-4"}),t[1]||(t[1]=g(" Live Tracking ",-1))]),t[2]||(t[2]=e("h1",{class:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white tracking-tight mb-4"}," Track Customer PO ",-1)),t[3]||(t[3]=e("p",{class:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto"}," Pantau posisi order pelanggan secara real-time dari hulu ke hilir. ",-1))]),e("div",M,[e("form",{onSubmit:y(f,["prevent"]),class:"relative max-w-2xl mx-auto"},[e("div",q,[m(d(p),{class:"h-6 w-6 text-slate-400"})]),P(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>x.value=a),type:"text",class:"block w-full pl-12 pr-24 py-4 bg-white dark:bg-slate-900 border-2 border-slate-200 dark:border-slate-800 rounded-full text-lg shadow-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 text-slate-900 dark:text-white relative z-0",placeholder:"Enter Customer PO Number or SO Number...",autofocus:""},null,512),[[_,x.value]]),t[4]||(t[4]=e("div",{class:"absolute inset-y-0 right-2 flex items-center z-10 transition-transform active:scale-95"},[e("button",{type:"submit",class:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-full transition-colors shadow-lg cursor-pointer"}," Cari ")],-1))],32),e("div",I,[s.searchResult?(r(),o("div",de,[e("div",ne,[e("div",{class:"relative w-64 h-64 rounded-full flex items-center justify-center transition-all duration-1000",style:u(`background: conic-gradient(
                                        #10b981 0% ${s.searchResult.delivery_progress}%, 
                                        #e2e8f0 ${s.searchResult.delivery_progress}% 100%
                                    )`)},[e("div",ie,[e("div",{class:"absolute bottom-0 left-0 right-0 bg-emerald-500/10 transition-all duration-1000",style:u(`height: ${s.searchResult.delivery_progress}%`)},null,4),e("span",ce,l(s.searchResult.delivery_progress)+"%",1),t[11]||(t[11]=e("span",{class:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1 relative z-10"},"Delivery Done",-1))])],4)]),e("div",xe,[t[17]||(t[17]=e("h3",{class:"text-xl font-bold text-slate-900 dark:text-white mb-6"},"Order Fulfillment Status",-1)),e("div",ue,[e("div",be,[e("div",me,[t[12]||(t[12]=e("span",{class:"text-sm font-bold text-slate-500"},"Sales Order",-1)),e("span",ge,l(s.searchResult.so_number),1)]),e("div",fe,[t[13]||(t[13]=e("span",{class:"text-sm font-bold text-slate-500"},"Customer PO",-1)),e("span",he,l(s.searchResult.po_number),1)]),e("div",pe,[e("div",{class:"h-full bg-emerald-500 transition-all duration-1000 ease-out",style:u(`width: ${s.searchResult.delivery_progress}%`)},null,4)]),t[14]||(t[14]=e("div",{class:"flex justify-between mt-2 text-xs font-bold text-slate-400"},[e("span",null,"0%"),e("span",null,"100% (Completed)")],-1))]),e("div",ve,[e("div",ke,[e("p",we,l(s.searchResult.overall_lead_time),1),t[15]||(t[15]=e("p",{class:"text-[10px] text-slate-400 uppercase mt-1"},"Lead Time",-1))]),e("div",ye,[s.searchResult.delivery_progress>=100?(r(),o("p",Pe,"Completed")):(r(),o("p",_e,"In Progess")),t[16]||(t[16]=e("p",{class:"text-[10px] text-slate-400 uppercase mt-1"},"Status",-1))])])])])])):(r(),o("div",A,[e("div",U,[e("div",{class:"relative w-64 h-64 rounded-full flex items-center justify-center transition-all duration-1000",style:u(`background: conic-gradient(
                                        #3b82f6 0% ${s.chartPercentages.processing}%, 
                                        #10b981 ${s.chartPercentages.processing}% ${parseFloat(s.chartPercentages.processing)+parseFloat(s.chartPercentages.completed)}%, 
                                        #ef4444 ${parseFloat(s.chartPercentages.processing)+parseFloat(s.chartPercentages.completed)}% ${parseFloat(s.chartPercentages.processing)+parseFloat(s.chartPercentages.completed)+parseFloat(s.chartPercentages.cancelled)}%, 
                                        #cbd5e1 ${parseFloat(s.chartPercentages.processing)+parseFloat(s.chartPercentages.completed)+parseFloat(s.chartPercentages.cancelled)}% 100%
                                    )`)},[e("div",W,[e("span",G,l(s.chartData.processing+s.chartData.completed),1),t[5]||(t[5]=e("span",{class:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1"},"Active Orders",-1))])],4)]),e("div",H,[t[10]||(t[10]=e("h3",{class:"text-xl font-bold text-slate-900 dark:text-white mb-6"},"Order Status Distribution",-1)),e("div",J,[e("div",K,[e("h4",Q,l(s.chartPercentages.processing)+"%",1),t[6]||(t[6]=e("p",{class:"text-xs text-slate-500 font-bold uppercase"},"Processing",-1)),e("p",X,l(s.chartData.processing)+" Orders",1)]),e("div",Y,[e("h4",Z,l(s.chartPercentages.completed)+"%",1),t[7]||(t[7]=e("p",{class:"text-xs text-slate-500 font-bold uppercase"},"Completed",-1)),e("p",ee,l(s.chartData.completed)+" Orders",1)]),e("div",te,[e("h4",se,l(s.chartPercentages.cancelled)+"%",1),t[8]||(t[8]=e("p",{class:"text-xs text-slate-500 font-bold uppercase"},"Cancelled",-1)),e("p",le,l(s.chartData.cancelled)+" Orders",1)]),e("div",re,[e("h4",ae,l(s.chartPercentages.draft)+"%",1),t[9]||(t[9]=e("p",{class:"text-xs text-slate-500 font-bold uppercase"},"Draft",-1)),e("p",oe,l(s.chartData.draft)+" Orders",1)])])])]))]),s.searchResult?(r(),o("div",Oe,[e("div",Re,[e("div",null,[t[19]||(t[19]=e("p",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-1"},"Customer PO Number",-1)),e("h2",je,l(s.searchResult.po_number),1),e("p",Ce,[t[18]||(t[18]=g("SO Ref: ",-1)),e("span",$e,l(s.searchResult.so_number),1)])]),e("div",Se,[t[20]||(t[20]=e("p",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-1"},"Customer",-1)),e("h3",De,l(s.searchResult.customer),1),e("div",Fe,[e("span",null,"Total Lead Time: "+l(s.searchResult.overall_lead_time),1)])])]),e("div",ze,[t[22]||(t[22]=e("div",{class:"absolute top-[30px] left-0 w-full h-0.5 bg-slate-800 z-0"},null,-1)),e("div",Te,[(r(!0),o(O,null,R(s.searchResult.timeline,(a,i)=>(r(),o("div",{key:i,class:"group flex flex-col items-center text-center"},[e("div",{class:h(["w-[60px] h-[60px] rounded-full flex items-center justify-center border-4 transition-all duration-300 bg-slate-900 mb-4 relative",[a.status==="Completed"||a.status==="Paid"||a.status.includes("Partial")?"border-emerald-500 text-emerald-400 shadow-[0_0_20px_rgba(16,185,129,0.3)]":a.status==="Pending"?"border-slate-700 text-slate-600":"border-blue-500 text-blue-500"]])},[a.status==="Completed"||a.status==="Paid"?(r(),o("div",Ne)):n("",!0),i===0?(r(),c(d(S),{key:1,class:"w-8 h-8"})):n("",!0),i===1?(r(),c(d(D),{key:2,class:"w-8 h-8"})):n("",!0),i===2?(r(),c(d(F),{key:3,class:"w-8 h-8"})):n("",!0),i===3?(r(),c(d(z),{key:4,class:"w-8 h-8"})):n("",!0),i===4?(r(),c(d(T),{key:5,class:"w-8 h-8"})):n("",!0)],2),e("h4",Be,l(a.step),1),e("div",Ve,[e("span",{class:h(["text-[10px] px-2 py-0.5 rounded border",[a.date!=="-"?"bg-slate-800 border-slate-700 text-slate-400":"bg-transparent border-transparent text-transparent"]])},l(a.date),3),e("span",Ee,[a.lead_time!=="-"?(r(),o("svg",Le,[...t[21]||(t[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):n("",!0),g(" "+l(a.lead_time),1)])])]))),128))])])])):(r(),o("div",Me,[m(d(N),{class:"w-16 h-16 mx-auto text-slate-600 mb-4"}),t[23]||(t[23]=e("h3",{class:"text-xl font-bold text-slate-500"},"Waiting for Search Input",-1)),t[24]||(t[24]=e("p",{class:"text-slate-400"},"Enter a PO Number to start tracking.",-1))]))])])])]),_:1}))}};export{lt as default};
