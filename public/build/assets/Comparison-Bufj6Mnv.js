import{m as w,q as L,c as r,a as x,u as n,h as N,w as v,b as t,j as y,v as S,d as h,o as l,F as i,g as c,n as D,t as d,e as z,l as E,s as M}from"./app-C5ximnk4.js";import{_ as U}from"./AppLayout-D5QuRGji.js";import{a as g}from"./helpers-DzPfLsau.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as B}from"./MagnifyingGlassIcon-BuUiOviB.js";import{r as A}from"./PrinterIcon-B44ei3Df.js";import{r as $}from"./ArrowLeftIcon-CAm6yQvg.js";/* empty css            */import"./XMarkIcon-B7pvIQ3F.js";import"./SunIcon-C5gTgNQq.js";import"./WrenchScrewdriverIcon-RtRwy9Ag.js";import"./DocumentPlusIcon-CWq_U-0k.js";import"./TruckIcon-BXY3Yds0.js";import"./DocumentTextIcon-CfQwu5gU.js";import"./ShoppingCartIcon-Du7CHGMj.js";import"./MapPinIcon-8kcJKsWq.js";import"./SparklesIcon-XzH1SGLv.js";import"./CubeIcon-DlNRGXgC.js";import"./ClockIcon-CA0tSliu.js";import"./CheckCircleIcon-DdA7BM8M.js";import"./ShieldCheckIcon-CbPtSxMM.js";const I={class:"flex items-center justify-between gap-4"},F={class:"flex items-center gap-4"},R={class:"p-4 sm:p-6 lg:p-8"},q={class:"glass-card rounded-2xl p-6 mb-6 no-print"},H={class:"flex flex-col lg:flex-row justify-between items-center gap-4"},J={class:"flex flex-wrap items-center gap-4 w-full lg:w-auto"},K={class:"relative w-full sm:w-64"},Y={class:"flex items-center gap-2"},G={class:"flex items-center gap-4"},Q={class:"glass-card rounded-2xl overflow-hidden shadow-2xl border border-slate-200 dark:border-slate-700/50 matrix-container"},W={class:"overflow-x-auto overflow-y-auto max-h-[750px] relative"},X={class:"w-full border-collapse text-[12px]"},Z={class:"bg-slate-100 dark:bg-slate-800 sticky top-0 z-30 font-bold"},tt={class:"divide-y divide-slate-200 dark:divide-slate-800"},et={class:"group hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors border-t-2 border-slate-200 dark:border-slate-700"},st=["rowspan"],at={class:"line-clamp-3 text-sm leading-tight"},rt={class:"text-[10px] font-mono text-slate-500 dark:text-slate-400 mt-2 uppercase tracking-tighter bg-slate-100 dark:bg-slate-800/50 px-2 py-0.5 rounded-full inline-block"},lt={class:"p-4 border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 sticky left-[200px] z-10 align-top shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",rowspan:"3"},ot={class:"font-black text-slate-900 dark:text-white leading-tight break-words"},dt={class:"flex justify-between items-center mt-2 group-hover:bg-slate-100 dark:group-hover:bg-slate-800 p-1 rounded transition-colors"},nt={class:"text-[10px] font-mono text-slate-600 dark:text-slate-400 uppercase font-bold"},it={class:"text-[10px] font-black bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 px-1.5 rounded"},bt={key:0,class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 mt-2 border-l-2 border-slate-200 dark:border-slate-700 pl-2"},pt={class:"p-2 border border-slate-200 dark:border-slate-800 text-right bg-slate-50 dark:bg-slate-900 font-mono font-black text-slate-900 dark:text-white sticky right-0 z-10 transition-colors shadow-[-2px_0_5px_-2px_rgba(0,0,0,0.1)]"},xt={class:"group hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors"},ct={class:"p-2 border border-slate-200 dark:border-slate-800 text-right bg-blue-50/40 dark:bg-blue-900/20 font-mono font-black text-blue-800 dark:text-blue-200 sticky right-0 z-10 transition-colors shadow-[-2px_0_5px_-2px_rgba(0,0,0,0.1)]"},gt={class:"group bg-slate-100/50 dark:bg-slate-800/40 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"},ut={key:0},kt=["colspan"],ft={__name:"Comparison",props:{dates:Array,matrix:Array,filters:Object},setup(b){const m=b,u=w(m.filters.search||""),k=w(m.filters.start_date||""),f=w(m.filters.end_date||""),P=()=>{M.get(route("sales.planning.schedule.comparison"),{search:u.value,start_date:k.value,end_date:f.value},{preserveState:!0,replace:!0})};L([u,k,f],()=>{P()});const T=p=>{const e=new Date(p),a=e.getDate().toString().padStart(2,"0"),_=e.toLocaleString("en-US",{month:"short"});return`${a}-${_}`},V=p=>{const e=new Date().toISOString().split("T")[0];return p===e},C=()=>{const p=new URLSearchParams({start_date:k.value,end_date:f.value,search:u.value||""});window.open(route("sales.planning.schedule.print")+"?"+p.toString(),"_blank")};return(p,e)=>(l(),r(i,null,[x(n(N),{title:"Monitoring Schedule vs Actual"}),x(U,{title:"Monitoring Schedule vs Actual"},{header:v(()=>[t("div",I,[t("div",F,[x(n(E),{href:p.route("sales.planning.schedule.index"),class:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors no-print"},{default:v(()=>[x(n($),{class:"w-5 h-5"})]),_:1},8,["href"]),e[3]||(e[3]=t("h2",{class:"font-semibold text-xl text-slate-800 dark:text-slate-200 leading-tight"}," Daily Delivery Monitoring Matrix ",-1))]),t("button",{onClick:C,class:"flex items-center gap-2 bg-blue-900 hover:bg-blue-800 text-white px-5 py-2 rounded-lg text-sm font-bold transition-colors no-print shadow-md"},[x(n(A),{class:"w-4 h-4"}),e[4]||(e[4]=h(" Print Official (PT JIDOKA) ",-1))])])]),default:v(()=>[t("div",R,[t("div",q,[t("div",H,[t("div",J,[t("div",K,[y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),type:"text",placeholder:"Search Customer / Product / PO...",class:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:ring-blue-500 focus:border-blue-500"},null,512),[[S,u.value]]),x(n(B),{class:"w-5 h-5 text-slate-400 absolute left-3 top-2.5"})]),t("div",Y,[y(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>k.value=a),type:"date",class:"rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:ring-blue-500 focus:border-blue-500 py-2"},null,512),[[S,k.value]]),e[5]||(e[5]=t("span",{class:"text-slate-400"},"to",-1)),y(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>f.value=a),type:"date",class:"rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:ring-blue-500 focus:border-blue-500 py-2"},null,512),[[S,f.value]])])]),t("div",G,[e[7]||(e[7]=t("div",{class:"flex gap-4 text-[10px] font-bold uppercase tracking-wider text-slate-500"},[t("div",{class:"flex items-center gap-1"},[t("div",{class:"w-2 h-2 bg-red-500 rounded-full"}),h(" Minus Balance")]),t("div",{class:"flex items-center gap-1"},[t("div",{class:"w-2 h-2 bg-blue-500 rounded-full"}),h(" Surplus")]),t("div",{class:"flex items-center gap-1"},[t("div",{class:"w-2 h-2 bg-slate-200 dark:bg-slate-700 rounded-full"}),h(" On-time")])],-1)),t("button",{onClick:C,class:"flex items-center gap-2 bg-blue-900 hover:bg-blue-800 text-white px-5 py-2.5 rounded-lg text-sm font-bold transition-colors shadow-lg hover:shadow-xl"},[x(n(A),{class:"w-4 h-4"}),e[6]||(e[6]=h(" Print Official ",-1))])])])]),t("div",Q,[t("div",W,[t("table",X,[t("thead",Z,[t("tr",null,[e[8]||(e[8]=t("th",{class:"p-3 border border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-left sticky left-0 z-40 min-w-[200px] shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",rowspan:"2"},[t("span",{class:"text-slate-900 dark:text-slate-100 font-black uppercase tracking-wider"},"Customer & PO")],-1)),e[9]||(e[9]=t("th",{class:"p-3 border border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-left sticky left-[200px] z-40 min-w-[250px] shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",rowspan:"2"},[t("span",{class:"text-slate-900 dark:text-slate-100 font-black uppercase tracking-wider"},"Product Detail")],-1)),e[10]||(e[10]=t("th",{class:"p-3 border border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-center sticky left-[450px] z-40 min-w-[85px] shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",rowspan:"2"},[t("span",{class:"text-slate-900 dark:text-slate-100 font-black uppercase tracking-wider"},"DATA")],-1)),(l(!0),r(i,null,c(b.dates,a=>(l(),r("th",{key:a,class:D(["p-2 border border-slate-300 dark:border-slate-700 text-center font-black whitespace-nowrap min-w-[65px]",V(a)?"bg-indigo-100 dark:bg-indigo-900/60 text-indigo-700 dark:text-indigo-300 ring-2 ring-inset ring-indigo-500/20":"text-slate-700 dark:text-slate-300 bg-slate-100 dark:bg-slate-800"])},d(T(a)),3))),128)),e[11]||(e[11]=t("th",{class:"p-3 border border-slate-300 dark:border-slate-700 text-center bg-slate-200 dark:bg-slate-950 sticky right-0 z-30 min-w-[85px] shadow-[-2px_0_5px_-2px_rgba(0,0,0,0.1)]",rowspan:"2"},[t("span",{class:"text-slate-900 dark:text-slate-100 font-black uppercase tracking-wider"},"TOTAL")],-1))])]),t("tbody",tt,[(l(!0),r(i,null,c(b.matrix,(a,_)=>(l(),r(i,{key:_},[(l(!0),r(i,null,c(a.products,(s,O)=>(l(),r(i,{key:O},[t("tr",et,[O===0?(l(),r("td",{key:0,class:"p-4 border border-slate-200 dark:border-slate-800 font-black text-indigo-700 dark:text-indigo-400 bg-white dark:bg-slate-950 sticky left-0 z-10 align-top shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",rowspan:a.products.length*3},[t("div",at,d(a.customer_name),1),t("div",rt,d(a.customer_code),1)],8,st)):z("",!0),t("td",lt,[t("div",ot,d(s.product_name),1),t("div",dt,[t("span",nt,d(s.sku),1),t("span",it,d(s.unit),1)]),s.po_number?(l(),r("div",bt,"PO: "+d(s.po_number),1)):z("",!0)]),e[12]||(e[12]=t("td",{class:"p-2 border border-slate-200 dark:border-slate-800 bg-slate-50/80 dark:bg-slate-900 sticky left-[450px] z-10 font-black text-slate-600 dark:text-slate-400 uppercase text-[10px] shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]"}," SCHEDULE ",-1)),(l(!0),r(i,null,c(b.dates,o=>(l(),r("td",{key:o,class:"p-2 border border-slate-200 dark:border-slate-800 text-right font-mono text-slate-700 dark:text-slate-300 font-medium"},d(s.daily[o]?.sch>0?n(g)(s.daily[o].sch):"-"),1))),128)),t("td",pt,d(n(g)(s.totals.sch)),1)]),t("tr",xt,[e[13]||(e[13]=t("td",{class:"p-2 border border-slate-200 dark:border-slate-800 bg-slate-100/30 dark:bg-slate-800/20 sticky left-[450px] z-10 font-black text-blue-600 dark:text-blue-400 uppercase text-[10px] shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]"}," DELIVERY ",-1)),(l(!0),r(i,null,c(b.dates,o=>(l(),r("td",{key:o,class:"p-2 border border-slate-200 dark:border-slate-800 text-right font-mono font-bold text-blue-700 dark:text-blue-300"},d(s.daily[o]?.act>0?n(g)(s.daily[o].act):"-"),1))),128)),t("td",ct,d(n(g)(s.totals.act)),1)]),t("tr",gt,[e[14]||(e[14]=t("td",{class:"p-2 border border-slate-200 dark:border-slate-800 bg-slate-200/50 dark:bg-slate-700/50 sticky left-[450px] z-10 font-black text-slate-900 dark:text-white uppercase text-[10px] shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]"}," BALANCE ",-1)),(l(!0),r(i,null,c(b.dates,o=>(l(),r("td",{key:o,class:D(["p-2 border border-slate-200 dark:border-slate-800 text-right font-mono",s.daily[o]?.bal<0?"text-red-700 dark:text-red-400 font-black bg-red-100/40 dark:bg-red-900/20":s.daily[o]?.bal>0?"text-blue-700 dark:text-blue-400 font-black bg-blue-50/30":"text-slate-400"])},d(s.daily[o]?.bal!==0?n(g)(s.daily[o].bal):"-"),3))),128)),t("td",{class:D(["p-2 border border-slate-200 dark:border-slate-800 text-right font-mono font-black sticky right-0 z-10 transition-colors shadow-[-2px_0_5px_-2px_rgba(0,0,0,0.1)]",s.totals.bal<0?"bg-red-200 dark:bg-red-800/60 text-red-900 dark:text-red-100":"bg-slate-200 dark:bg-slate-900 text-slate-900 dark:text-slate-100 text-base shadow-inner"])},d(n(g)(s.totals.bal)),3)])],64))),128))],64))),128)),b.matrix.length===0?(l(),r("tr",ut,[t("td",{colspan:b.dates.length+4,class:"p-20 text-center text-slate-500 italic"}," No data found for the selected period. ",8,kt)])):z("",!0)])])])])])]),_:1})],64))}},Bt=j(ft,[["__scopeId","data-v-e41847e5"]]);export{Bt as default};
