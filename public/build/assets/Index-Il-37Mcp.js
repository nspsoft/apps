import{p as L,c as n,b as u,u as a,h as M,d as N,e as t,t as d,C as G,n as D,o,F as k,g as T,m as V,E as B,f as g,k as b,j as v,a2 as h,v as A,H as z,D as H,r as _,R as O}from"./app-DGZzK8TR.js";import{e as R,_ as W}from"./AppLayout-CYYWSza2.js";import{r as w}from"./CheckCircleIcon-D-R6Ndqt.js";import{r as y}from"./XCircleIcon-DSP0TAWn.js";import{r as P}from"./ExclamationCircleIcon-D67PTEsV.js";import{r as q}from"./ClipboardDocumentCheckIcon-RnRBw-wT.js";import{r as J}from"./ChevronUpIcon-MHLBn929.js";import{r as Q}from"./PencilSquareIcon-CWw0OMUx.js";/* empty css            */import"./XMarkIcon-COBxnwCs.js";import"./SunIcon-Ki6SBDIR.js";import"./WrenchScrewdriverIcon-DMEfHz-E.js";import"./CheckBadgeIcon-i8LUEm_1.js";import"./ShoppingCartIcon-Cpv4ahGW.js";import"./CubeIcon-DKXRtzKG.js";import"./TruckIcon-BD1-oJXg.js";const X={class:"max-w-7xl mx-auto"},Y={class:"mb-8 grid grid-cols-1 md:grid-cols-4 gap-4"},Z={class:"glass-card p-6 rounded-2xl flex flex-col items-center justify-center text-center"},tt={class:"text-3xl font-bold text-slate-900 dark:text-white mb-1"},et={class:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2 mb-2 overflow-hidden"},st={class:"glass-card p-6 rounded-2xl flex items-center justify-between border-l-4 border-emerald-500"},at={class:"text-2xl font-bold text-emerald-600 dark:text-emerald-400"},lt={class:"glass-card p-6 rounded-2xl flex items-center justify-between border-l-4 border-red-500"},rt={class:"text-2xl font-bold text-red-600 dark:text-red-400"},dt={class:"glass-card p-6 rounded-2xl flex items-center justify-between border-l-4 border-slate-400"},ot={class:"text-2xl font-bold text-slate-600 dark:text-slate-400"},nt={class:"space-y-4"},it=["onClick"],ut={class:"flex items-center gap-3"},ct={class:"text-lg font-bold text-slate-900 dark:text-white"},bt={class:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300"},xt={class:"border-t border-slate-100 dark:border-slate-800"},gt={class:"flex flex-col md:flex-row gap-4"},mt={class:"shrink-0 pt-1"},pt={class:"flex-1"},ft={class:"flex items-start justify-between gap-4 mb-2"},kt={class:"flex items-center gap-2 mb-1"},vt={class:"text-xs font-mono font-bold text-slate-400"},ht={class:"text-xs px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-800 text-slate-500"},_t={class:"text-base font-bold text-slate-900 dark:text-white"},wt={class:"flex items-center gap-2 shrink-0"},yt=["onClick"],jt=["onClick"],Ct=["onClick"],St={class:"text-sm text-slate-600 dark:text-slate-400 mb-3"},$t={class:"bg-slate-50 dark:bg-slate-900 rounded-lg p-3 text-sm border border-slate-100 dark:border-slate-800"},Dt={class:"text-slate-600 dark:text-slate-400"},Tt={key:0,class:"mt-3 flex items-start gap-2 text-xs text-slate-500"},Vt={key:0,class:"flex-1 bg-amber-50 dark:bg-amber-500/10 text-amber-700 dark:text-amber-400 p-2 rounded border border-amber-100 dark:border-amber-500/20"},Bt={key:1,class:"shrink-0 flex flex-col items-end"},Pt={key:1,class:"mt-4 p-4 bg-white dark:bg-slate-950 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg animate-in fade-in slide-in-from-top-2"},Ut={class:"mb-3"},Ft={class:"flex gap-2"},It={class:"flex items-center gap-2 cursor-pointer"},Et={class:"flex items-center gap-2 cursor-pointer"},Kt={class:"flex items-center gap-2 cursor-pointer"},Lt={class:"block text-xs font-bold text-slate-500 mb-1"},Mt={key:0,class:"text-red-500"},Nt={class:"flex justify-end gap-2"},Gt=["onClick"],le={__name:"Index",props:{groupedScenarios:Object,stats:Object},setup(c){const j=c,m=_("Sales"),U=r=>{m.value=m.value===r?null:r},F=r=>{switch(r){case"passed":return"text-emerald-500 bg-emerald-50 dark:bg-emerald-500/10 border-emerald-200 dark:border-emerald-500/20";case"failed":return"text-red-500 bg-red-50 dark:bg-red-500/10 border-red-200 dark:border-red-500/20";default:return"text-slate-500 bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700"}},I=r=>{switch(r){case"passed":return w;case"failed":return y;default:return P}},p=_(null),C=_(null),l=L({notes:"",status:""}),S=(r,e=null)=>{p.value=r.id,l.notes=r.notes||"",l.status=e||r.status,O(()=>{C.value})},f=(r,e=null)=>{if(e==="failed"){S(r,"failed");return}e&&(l.status=e),l.put(route("settings.uat.update",r.id),{preserveScroll:!0,onSuccess:()=>{p.value=null}})},E=()=>{p.value=null,l.reset()},K=H(()=>j.stats.progress>=100?"bg-emerald-500":j.stats.progress>=50?"bg-blue-500":"bg-amber-500");return(r,e)=>(o(),n(k,null,[u(a(M),{title:"Pengujian Sistem (UAT)"}),u(W,{title:"Pengujian Sistem (UAT)"},{default:N(()=>[t("div",X,[t("div",Y,[t("div",Z,[t("div",tt,d(c.stats.progress)+"%",1),t("div",et,[t("div",{class:D(["h-full rounded-full transition-all duration-500",K.value]),style:G({width:`${c.stats.progress}%`})},null,6)]),e[4]||(e[4]=t("div",{class:"text-xs text-slate-500 uppercase font-bold tracking-wider"},"Progres Total",-1))]),t("div",st,[t("div",null,[t("div",at,d(c.stats.passed),1),e[5]||(e[5]=t("div",{class:"text-xs text-slate-500 uppercase font-bold tracking-wider"},"Lulus (Passed)",-1))]),u(a(w),{class:"h-8 w-8 text-emerald-500/20"})]),t("div",lt,[t("div",null,[t("div",rt,d(c.stats.failed),1),e[6]||(e[6]=t("div",{class:"text-xs text-slate-500 uppercase font-bold tracking-wider"},"Gagal (Failed)",-1))]),u(a(y),{class:"h-8 w-8 text-red-500/20"})]),t("div",dt,[t("div",null,[t("div",ot,d(c.stats.pending),1),e[7]||(e[7]=t("div",{class:"text-xs text-slate-500 uppercase font-bold tracking-wider"},"Belum Diuji",-1))]),u(a(P),{class:"h-8 w-8 text-slate-500/20"})])]),t("div",nt,[(o(!0),n(k,null,T(c.groupedScenarios,($,x)=>(o(),n("div",{key:x,class:"glass-card rounded-2xl overflow-hidden"},[t("button",{onClick:s=>U(x),class:"w-full flex items-center justify-between p-5 bg-slate-50/50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"},[t("div",ut,[u(a(q),{class:"h-6 w-6 text-blue-500"}),t("h3",ct,"Modul "+d(x),1),t("span",bt,d($.length)+" Skenario ",1)]),(o(),V(B(m.value===x?a(J):a(R)),{class:"h-5 w-5 text-slate-400"}))],8,it),g(t("div",xt,[(o(!0),n(k,null,T($,s=>(o(),n("div",{key:s.id,class:"p-5 border-b last:border-0 border-slate-100 dark:border-slate-800 hover:bg-slate-50/30 dark:hover:bg-slate-800/30 transition-colors"},[t("div",gt,[t("div",mt,[t("div",{class:D(["w-8 h-8 rounded-full flex items-center justify-center border-2 transition-colors",F(s.status).replace("text-","border-").replace("bg-","text-")])},[(o(),V(B(I(s.status)),{class:"h-5 w-5"}))],2)]),t("div",pt,[t("div",ft,[t("div",null,[t("div",kt,[t("span",vt,d(s.code),1),t("span",ht,d(s.feature),1)]),t("h4",_t,d(s.title),1)]),t("div",wt,[s.status!=="passed"?(o(),n("button",{key:0,onClick:i=>f(s,"passed"),class:"p-2 rounded-lg bg-emerald-50 text-emerald-600 hover:bg-emerald-100 dark:bg-emerald-500/10 dark:text-emerald-400 dark:hover:bg-emerald-500/20 transition-colors",title:"Tandai Lulus (Passed)"},[u(a(w),{class:"h-5 w-5"})],8,yt)):b("",!0),s.status!=="failed"?(o(),n("button",{key:1,onClick:i=>f(s,"failed"),class:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-500/10 dark:text-red-400 dark:hover:bg-red-500/20 transition-colors",title:"Tandai Gagal (Failed) & Isi Keterangan"},[u(a(y),{class:"h-5 w-5"})],8,jt)):b("",!0),t("button",{onClick:i=>S(s),class:"p-2 rounded-lg bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700 transition-colors",title:"Edit Keterangan"},[u(a(Q),{class:"h-5 w-5"})],8,Ct)])]),t("p",St,d(s.description),1),t("div",$t,[e[8]||(e[8]=t("span",{class:"font-bold text-slate-700 dark:text-slate-300 block mb-1"},"Kriteria Penerimaan (Acceptance Criteria):",-1)),t("span",Dt,d(s.acceptance_criteria),1)]),s.notes||s.tested_by?(o(),n("div",Tt,[s.notes?(o(),n("div",Vt,[e[9]||(e[9]=t("strong",null,"Keterangan:",-1)),v(" "+d(s.notes),1)])):b("",!0),s.tested_by?(o(),n("div",Bt,[t("span",null,[e[10]||(e[10]=v("Diuji oleh: ",-1)),t("strong",null,d(s.tester?.name||"Unknown"),1)]),t("span",null,d(new Date(s.tested_at).toLocaleString("id-ID")),1)])):b("",!0)])):b("",!0),p.value===s.id?(o(),n("div",Pt,[t("div",Ut,[e[14]||(e[14]=t("label",{class:"block text-xs font-bold text-slate-500 mb-1"},"Status Pengujian",-1)),t("div",Ft,[t("label",It,[g(t("input",{type:"radio","onUpdate:modelValue":e[0]||(e[0]=i=>a(l).status=i),value:"passed",class:"text-emerald-500 focus:ring-emerald-500"},null,512),[[h,a(l).status]]),e[11]||(e[11]=t("span",{class:"text-sm text-slate-700 dark:text-slate-300"},"Lulus",-1))]),t("label",Et,[g(t("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=i=>a(l).status=i),value:"failed",class:"text-red-500 focus:ring-red-500"},null,512),[[h,a(l).status]]),e[12]||(e[12]=t("span",{class:"text-sm text-slate-700 dark:text-slate-300"},"Gagal",-1))]),t("label",Kt,[g(t("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=i=>a(l).status=i),value:"pending",class:"text-slate-500 focus:ring-slate-500"},null,512),[[h,a(l).status]]),e[13]||(e[13]=t("span",{class:"text-sm text-slate-700 dark:text-slate-300"},"Belum Diuji",-1))])])]),t("label",Lt,[e[15]||(e[15]=v(" Keterangan / Catatan ",-1)),a(l).status==="failed"?(o(),n("span",Mt,"* (Wajib diisi jika Gagal)")):b("",!0)]),g(t("textarea",{ref_for:!0,ref_key:"noteInput",ref:C,"onUpdate:modelValue":e[3]||(e[3]=i=>a(l).notes=i),class:"w-full rounded-lg border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-sm focus:ring-blue-500 mb-3",rows:"3",placeholder:"Tuliskan hasil pengujian atau alasan kegagalan..."},null,512),[[A,a(l).notes]]),t("div",Nt,[t("button",{onClick:E,class:"px-3 py-1.5 rounded-lg text-sm text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"}," Batal "),t("button",{onClick:i=>f(s),class:"px-3 py-1.5 rounded-lg text-sm bg-blue-600 text-white hover:bg-blue-500 transition-colors font-medium shadow-lg shadow-blue-500/20"}," Simpan Hasil ",8,Gt)])])):b("",!0)])])]))),128))],512),[[z,m.value===x]])]))),128))])])]),_:1})],64))}};export{le as default};
