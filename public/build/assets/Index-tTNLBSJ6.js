import{r as m,a as C,w as D,c as n,b as l,u as a,h as $,d as u,e as t,f as _,v as N,n as g,j as h,T,o,F as b,g as f,t as r,i as B,k,l as w,m as V}from"./app-myCv8Os8.js";import{_ as M}from"./AppLayout-Ciwh9yKM.js";import{f as y}from"./helpers-BjqMQcOq.js";import{d as q}from"./debounce-fkjp6Rf9.js";import{r as A}from"./MagnifyingGlassIcon-B_H7Sj9B.js";import{r as L}from"./FunnelIcon-DkB6M0kE.js";import{r as S}from"./TruckIcon-DI2q9G1W.js";import{r as I}from"./ClipboardDocumentListIcon-DtjBB7Co.js";import{r as W}from"./UserIcon-CA45KTd4.js";import{r as E}from"./CubeIcon-CCUJPZCz.js";import{r as H}from"./EyeIcon-cu6CX7UK.js";/* empty css            */import"./XMarkIcon-DNLHlHPw.js";import"./SunIcon-D4oGvkJn.js";import"./WrenchScrewdriverIcon-BoqfX4DU.js";import"./CheckBadgeIcon-EaO4NAqP.js";import"./ShoppingCartIcon-BZTShpWm.js";const P={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},R={class:"flex items-center gap-3"},U={class:"relative flex-1 sm:w-80"},Q={key:0,class:"mb-6 rounded-2xl glass-card p-4"},G={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},J=["value"],K={class:"rounded-2xl glass-card overflow-hidden"},X={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},Y={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},Z={class:"divide-y divide-slate-100 dark:divide-slate-800"},tt={key:0},et={colspan:"10",class:"px-6 py-20 text-center"},st={class:"mx-auto h-20 w-20 rounded-full bg-white dark:bg-slate-950 flex items-center justify-center border border-slate-200 dark:border-slate-800 mb-4"},at={class:"px-6 py-3 whitespace-nowrap font-medium text-slate-900 dark:text-white"},rt={class:"flex items-center gap-3"},lt={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-amber-600/20 to-amber-500/20 border border-amber-500/30"},ot={class:"text-sm font-bold"},dt={class:"text-[10px] text-slate-500 font-mono"},nt={class:"px-6 py-3 whitespace-nowrap"},it={class:"px-6 py-3 whitespace-nowrap"},ct={class:"flex items-center gap-2"},xt={class:"text-sm text-slate-600 dark:text-slate-300 font-medium"},pt={class:"px-6 py-3 whitespace-nowrap"},ut={class:"flex items-center gap-2"},bt={class:"text-sm text-slate-600 dark:text-slate-300"},mt={class:"px-6 py-3 whitespace-nowrap text-center"},gt={class:"px-4 py-3 whitespace-nowrap text-right text-slate-600 dark:text-slate-300 font-mono font-bold"},ht={class:"px-4 py-3 whitespace-nowrap text-right text-emerald-400 font-mono font-bold"},ft={class:"px-4 py-3 whitespace-nowrap text-right text-amber-500 font-mono font-bold"},kt={class:"px-6 py-3 whitespace-nowrap text-right"},wt={class:"font-mono text-xs text-slate-500 dark:text-slate-400"},yt={class:"px-6 py-3 whitespace-nowrap text-right"},vt={class:"flex items-center justify-end gap-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-all"},_t={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},St={class:"text-sm text-slate-500 dark:text-slate-400"},zt={class:"flex items-center gap-2"},Ht={__name:"Index",props:{orders:Object,filters:Object,statuses:Array},setup(d){const v=d,c=m(v.filters.search||""),x=m(v.filters.status||""),p=m(!1),z=q(()=>{C.get("/manufacturing/subcontract-orders",{search:c.value||void 0,status:x.value||void 0},{preserveState:!0,replace:!0})},300);D([c,x],z);const O=()=>{c.value="",x.value=""},F=i=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",sent:"bg-blue-500/20 text-blue-400 border-blue-500/30",received:"bg-amber-500/20 text-amber-400 border-amber-500/30",completed:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[i]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",j=i=>i?new Date(i).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-";return(i,s)=>(o(),n(b,null,[l(a($),{title:"Subcontract Orders"}),l(M,{title:"Subcontract Orders"},{default:u(()=>[t("div",P,[t("div",R,[t("div",U,[l(a(A),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),_(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),type:"search",placeholder:"Search orders or WO...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[N,c.value]])]),t("button",{onClick:s[1]||(s[1]=e=>p.value=!p.value),class:g(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",{"ring-2 ring-blue-500/50":p.value}])},[l(a(L),{class:"h-5 w-5"}),s[3]||(s[3]=h(" Filters ",-1))],2)]),s[4]||(s[4]=t("div",null,[t("p",{class:"text-[10px] text-slate-500 uppercase tracking-[0.2em] font-black text-right"},"External Production Tracking"),t("h2",{class:"text-xl font-bold text-slate-900 dark:text-white tracking-tight text-right"},"Subcontract Orders")],-1))]),l(T,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:u(()=>[p.value?(o(),n("div",Q,[t("div",G,[t("div",null,[s[6]||(s[6]=t("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Status",-1)),_(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>x.value=e),class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-800 py-2.5 px-4 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/50"},[s[5]||(s[5]=t("option",{value:""},"All Status",-1)),(o(!0),n(b,null,f(d.statuses,e=>(o(),n("option",{key:e.value,value:e.value},r(e.label),9,J))),128))],512),[[B,x.value]])]),t("div",{class:"flex items-end"},[t("button",{onClick:O,class:"w-full rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-colors"}," Clear Filters ")])])])):k("",!0)]),_:1}),t("div",K,[t("div",X,[t("table",Y,[s[10]||(s[10]=t("thead",null,[t("tr",{class:"border-b border-slate-200 dark:border-slate-700"},[t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-6 py-4 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Order Number"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-6 py-4 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"WO Reference"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-6 py-4 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Supplier"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-6 py-4 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Product"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-6 py-4 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Status"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-4 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Qty Order"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-4 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Recv"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-4 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Balance"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-6 py-4 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Created At"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-6 py-4 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",Z,[d.orders.data.length===0?(o(),n("tr",tt,[t("td",et,[t("div",st,[l(a(S),{class:"h-10 w-10 text-slate-700"})]),s[7]||(s[7]=t("h3",{class:"text-lg font-bold text-slate-900 dark:text-white mb-2"},"No subcontract orders yet",-1)),s[8]||(s[8]=t("p",{class:"text-slate-500 max-w-sm mx-auto"},'Create a Work Order with "Subcontract" type to start tracking external production.',-1))])])):k("",!0),(o(!0),n(b,null,f(d.orders.data,e=>(o(),n("tr",{key:e.id,class:"group hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",at,[t("div",rt,[t("div",lt,[l(a(S),{class:"h-5 w-5 text-amber-500"})]),t("div",null,[t("div",ot,r(e.order_number),1),t("div",dt,"ID: "+r(e.id),1)])])]),t("td",nt,[l(a(w),{href:i.route("manufacturing.work-orders.show",e.work_order_id),class:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:text-white hover:bg-slate-700 transition-colors font-mono text-xs"},{default:u(()=>[l(a(I),{class:"h-3.5 w-3.5"}),h(" "+r(e.work_order?.wo_number),1)]),_:2},1032,["href"])]),t("td",it,[t("div",ct,[l(a(W),{class:"h-4 w-4 text-slate-500"}),t("span",xt,r(e.supplier?.name),1)])]),t("td",pt,[t("div",ut,[l(a(E),{class:"h-4 w-4 text-slate-500"}),t("span",bt,r(e.work_order?.product?.name),1)])]),t("td",mt,[t("span",{class:g(["inline-flex items-center rounded-full border px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider",F(e.status)])},r(e.status),3)]),t("td",gt,r(a(y)(e.work_order?.qty_planned)),1),t("td",ht,r(a(y)(e.work_order?.qty_produced)),1),t("td",ft,r(a(y)(Math.max(0,parseFloat(e.work_order?.qty_planned||0)-parseFloat(e.work_order?.qty_produced||0)))),1),t("td",kt,[t("span",wt,r(j(e.created_at)),1)]),t("td",yt,[t("div",vt,[l(a(w),{href:i.route("manufacturing.subcontract-orders.show",e.id),class:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-3 py-2 text-xs font-bold text-white dark:text-white hover:bg-blue-500 shadow-lg shadow-blue-500/20 transition-all"},{default:u(()=>[l(a(H),{class:"h-3.5 w-3.5"}),s[9]||(s[9]=h(" Detail ",-1))]),_:1},8,["href"])])])]))),128))])])]),d.orders.last_page>1?(o(),n("div",_t,[t("p",St," Showing "+r(d.orders.from)+" to "+r(d.orders.to)+" of "+r(d.orders.total)+" orders ",1),t("div",zt,[(o(!0),n(b,null,f(d.orders.links,e=>(o(),V(a(w),{key:e.label,href:e.url||"#",class:g(["px-3 py-1.5 rounded-lg text-sm transition-colors",e.active?"bg-blue-600 text-slate-900 dark:text-white":e.url?"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white":"text-white cursor-not-allowed"]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))])])):k("",!0)])]),_:1})],64))}};export{Ht as default};
