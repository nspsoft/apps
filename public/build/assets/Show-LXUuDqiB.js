import{C as T,c as i,b as l,u as o,h as W,d as f,e as t,l as g,t as r,n as w,j as x,o as n,k as c,m as $,B as M,F as h,g as P,D as m,a as V}from"./app-C6adp8Hz.js";import{_ as z}from"./AppLayout-BfNEUiNR.js";import{f as b}from"./helpers-BjqMQcOq.js";import{r as L}from"./ArrowLeftIcon-CNalEDQN.js";import{r as A}from"./PencilIcon-DjeMCFUd.js";import{r as Q}from"./ClipboardDocumentCheckIcon-DvKfXsmo.js";import{r as U}from"./ArrowPathIcon-L-ph4zeB.js";import{r as G}from"./PlayIcon-DKxNHtee.js";import{r as H}from"./PlusIcon-DcY6DOLg.js";import{r as J}from"./CheckCircleIcon-Dc3LKhRt.js";import{r as K}from"./XCircleIcon-qpvNp5rC.js";import{r as X}from"./CogIcon-DkzHNO5n.js";import{r as S}from"./CubeIcon-CxVNFL9x.js";import{r as q}from"./CalendarIcon-JvtxIUmz.js";import{r as D}from"./ClockIcon-dFOdNHgI.js";import{r as Y}from"./UserIcon-ZTYeFJeQ.js";/* empty css            */import"./XMarkIcon-DynOuLIh.js";import"./SunIcon-BOfkvM_E.js";import"./WrenchScrewdriverIcon-C8niOvb8.js";import"./CheckBadgeIcon-xWGDXYzw.js";import"./ShoppingCartIcon-Ci2wYF6M.js";import"./TruckIcon-NYqYEkHG.js";const Z={class:"max-w-full px-4 sm:px-6 lg:px-8 mx-auto"},tt={class:"flex items-center justify-between mb-8"},et={class:"flex items-center gap-4"},st={class:"flex items-center gap-3"},rt={class:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight"},ot={class:"flex items-center gap-3"},dt=["href"],at=["href"],lt={class:"grid grid-cols-1 xl:grid-cols-12 gap-8"},nt={class:"xl:col-span-8 space-y-8"},it={class:"glass-card rounded-3xl p-6 shadow-sm"},xt={class:"text-sm font-bold text-slate-500 uppercase tracking-widest mb-6 border-b border-slate-200 dark:border-slate-800 pb-4 flex items-center gap-2"},ct={class:"grid grid-cols-4 gap-6 mb-6"},ut={class:"text-2xl font-bold text-slate-900 dark:text-white font-mono"},bt={class:"text-2xl font-bold text-emerald-400 font-mono"},mt={class:"text-2xl font-bold text-red-400 font-mono"},pt={class:"text-2xl font-bold text-amber-400 font-mono"},ft={class:"relative"},kt={class:"h-4 bg-slate-50 dark:bg-slate-800 rounded-full overflow-hidden"},gt={class:"flex justify-between mt-2 text-[10px] text-slate-500 font-bold"},wt={class:"glass-card rounded-3xl p-6 shadow-sm"},ht={class:"text-sm font-bold text-slate-500 uppercase tracking-widest mb-6 border-b border-slate-200 dark:border-slate-800 pb-4 flex items-center gap-2"},vt={class:"flex items-center gap-4"},yt={class:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-600/20 to-blue-600/20 border border-cyan-500/30"},Ot={class:"text-lg font-bold text-slate-900 dark:text-white"},_t={class:"text-xs text-slate-500 font-mono mt-1"},Ct={class:"text-xs text-slate-500 dark:text-slate-400 mt-1"},$t={class:"glass-card rounded-3xl shadow-sm overflow-hidden"},Pt={class:"overflow-x-auto max-h-[300px] overflow-y-auto custom-scrollbar relative"},St={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800 text-sm"},qt={class:"divide-y divide-slate-100 dark:divide-slate-800"},Dt={class:"px-6 py-4"},jt={class:"text-slate-900 dark:text-white font-medium"},Nt={class:"text-[10px] text-slate-500 font-mono mt-0.5"},Rt={class:"px-6 py-4 text-right text-slate-600 dark:text-slate-300 font-mono"},Bt={class:"px-6 py-4 text-right text-emerald-400 font-mono"},Et={key:0},Ft={key:0,class:"glass-card rounded-3xl shadow-sm overflow-hidden"},It={class:"overflow-x-auto max-h-[400px] overflow-y-auto custom-scrollbar relative"},Tt={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800 text-sm"},Wt={class:"divide-y divide-slate-100 dark:divide-slate-800"},Mt={class:"px-4 py-3"},Vt={class:"text-slate-900 dark:text-white"},zt={class:"text-[10px] text-slate-500"},Lt={class:"px-4 py-3 text-slate-600 dark:text-slate-300 text-xs"},At={class:"px-4 py-3 text-slate-500 dark:text-slate-400 text-xs font-mono"},Qt={class:"px-4 py-3 text-right text-emerald-400 font-mono font-bold"},Ut={class:"px-4 py-3 text-right text-red-400 font-mono"},Gt=["title"],Ht={class:"xl:col-span-4 space-y-8"},Jt={class:"glass-card rounded-3xl p-6 shadow-sm"},Kt={class:"space-y-4"},Xt={class:"flex items-center gap-3"},Yt={class:"h-8 w-8 rounded-full bg-slate-50 dark:bg-slate-800 flex items-center justify-center text-slate-500 dark:text-slate-400"},Zt={class:"text-xs text-slate-900 dark:text-white"},te={class:"flex items-center gap-3"},ee={class:"h-8 w-8 rounded-full bg-slate-50 dark:bg-slate-800 flex items-center justify-center text-slate-500 dark:text-slate-400"},se={class:"text-xs text-slate-900 dark:text-white"},re={key:0,class:"flex items-center gap-3"},oe={class:"h-8 w-8 rounded-full bg-emerald-500/20 flex items-center justify-center text-emerald-400"},de={class:"text-xs text-emerald-400"},ae={key:1,class:"flex items-center gap-3"},le={class:"h-8 w-8 rounded-full bg-emerald-500/20 flex items-center justify-center text-emerald-400"},ne={class:"text-xs text-emerald-400"},ie={class:"glass-card rounded-3xl p-6 shadow-sm"},xe={class:"text-sm font-bold text-slate-900 dark:text-white"},ce={class:"text-xs text-slate-500 mt-1"},ue={key:0,class:"glass-card rounded-3xl p-6 shadow-sm border-l-4 border-l-amber-500"},be={class:"text-sm font-bold text-amber-500 uppercase tracking-widest mb-6 border-b border-slate-200 dark:border-slate-800 pb-4 flex items-center gap-2"},me={class:"text-sm font-bold text-slate-900 dark:text-white"},pe={key:1,class:"glass-card rounded-3xl p-6 shadow-sm"},fe={class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-200 dark:border-slate-800 italic"},Me={__name:"Show",props:{workOrder:Object},setup(s){const u=s,p=d=>{V.post(route(`manufacturing.work-orders.${d}`,u.workOrder.id),{},{preserveScroll:!0})},k=d=>d?new Date(d).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",v=d=>d?new Date(d).toLocaleString("id-ID"):"-",j=d=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",confirmed:"bg-blue-500/20 text-blue-400 border-blue-500/30",in_progress:"bg-amber-500/20 text-amber-400 border-amber-500/30",completed:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[d]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",N=d=>({draft:"Draft",confirmed:"Confirmed",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled"})[d]||d,R=d=>({low:"bg-slate-500/20 text-slate-500 dark:text-slate-400",normal:"bg-blue-500/20 text-blue-400",high:"bg-amber-500/20 text-amber-400",urgent:"bg-red-500/20 text-red-400"})[d]||"bg-slate-500/20 text-slate-500 dark:text-slate-400",y=m(()=>{const d=parseFloat(u.workOrder.qty_planned)||0,e=parseFloat(u.workOrder.qty_produced)||0;return d<=0?0:Math.min(100,e/d*100)}),B=m(()=>{const d=parseFloat(u.workOrder.qty_planned)||0,e=parseFloat(u.workOrder.qty_produced)||0;return Math.max(0,d-e)}),O=m(()=>u.workOrder.status==="draft"),_=m(()=>u.workOrder.status==="confirmed"),E=m(()=>u.workOrder.status==="in_progress"),F=m(()=>u.workOrder.status==="in_progress"&&parseFloat(u.workOrder.qty_produced)>0),I=m(()=>!["completed","cancelled"].includes(u.workOrder.status));return(d,e)=>{const C=T("PrinterIcon");return n(),i(h,null,[l(o(W),{title:`Work Order ${s.workOrder.wo_number}`},null,8,["title"]),l(z,{title:"Work Orders"},{default:f(()=>[t("div",Z,[t("div",tt,[t("div",et,[l(o(g),{href:d.route("manufacturing.work-orders.index"),class:"p-2.5 rounded-xl glass-card text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:border-slate-200 dark:border-slate-700 transition-all"},{default:f(()=>[l(o(L),{class:"h-5 w-5"})]),_:1},8,["href"]),t("div",null,[t("div",st,[t("h2",rt,r(s.workOrder.wo_number),1),t("span",{class:w(["inline-flex items-center rounded-full border px-2.5 py-0.5 text-[10px] font-bold uppercase tracking-wider",j(s.workOrder.status)])},r(N(s.workOrder.status)),3),t("span",{class:w(["inline-flex items-center rounded-full px-2.5 py-0.5 text-[10px] font-bold uppercase tracking-wider border",s.workOrder.production_type==="subcontract"?"bg-amber-500/20 text-amber-400 border-amber-500/30":"bg-blue-500/20 text-blue-400 border-blue-500/30"])},r(s.workOrder.production_type),3),t("span",{class:w(["inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-bold uppercase",R(s.workOrder.priority)])},r(s.workOrder.priority),3)]),e[5]||(e[5]=t("p",{class:"text-xs text-slate-500 mt-1 uppercase tracking-widest font-bold"},"Production Work Order",-1))])]),t("div",ot,[t("a",{href:d.route("manufacturing.work-orders.print",s.workOrder.id),target:"_blank",class:"flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2.5 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:text-white hover:bg-slate-700 transition-all border border-slate-200 dark:border-slate-700"},[l(C,{class:"h-5 w-5"}),e[6]||(e[6]=x(" Print WO ",-1))],8,dt),s.workOrder.production_type==="subcontract"&&s.workOrder.subcontract_orders?.length>0?(n(),i("a",{key:0,href:d.route("manufacturing.subcontract-orders.print",s.workOrder.subcontract_orders[0].id),target:"_blank",class:"flex items-center gap-2 rounded-xl bg-white dark:bg-slate-950 px-4 py-2.5 text-sm font-semibold text-red-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-all border border-red-500/30"},[l(C,{class:"h-5 w-5"}),e[7]||(e[7]=x(" Official SCO ",-1))],8,at)):c("",!0),O.value?(n(),$(o(g),{key:1,href:d.route("manufacturing.work-orders.edit",s.workOrder.id),class:"flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2.5 text-sm font-semibold text-blue-400 hover:text-blue-300 hover:bg-slate-700 transition-all border border-slate-200 dark:border-slate-700"},{default:f(()=>[l(o(A),{class:"h-5 w-5"}),e[8]||(e[8]=x(" Edit WO ",-1))]),_:1},8,["href"])):c("",!0),O.value?(n(),i("button",{key:2,onClick:e[0]||(e[0]=a=>p("confirm")),class:"flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white dark:text-white hover:bg-blue-500 transition-all"},[l(o(Q),{class:"h-5 w-5"}),e[9]||(e[9]=x(" Confirm ",-1))])):c("",!0),_.value?(n(),i("button",{key:3,onClick:e[1]||(e[1]=a=>p("revert-to-draft")),class:"flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2.5 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-all border border-slate-200 dark:border-slate-700",title:"Revert to Draft for revision"},[l(o(U),{class:"h-5 w-5"}),e[10]||(e[10]=x(" Revert to Draft ",-1))])):c("",!0),_.value?(n(),i("button",{key:4,onClick:e[2]||(e[2]=a=>p("start")),class:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-amber-600 to-amber-500 px-4 py-2.5 text-sm font-semibold text-slate-900 dark:text-white shadow-lg shadow-amber-500/25 hover:from-amber-500 hover:to-amber-400 transition-all"},[l(o(G),{class:"h-5 w-5"}),e[11]||(e[11]=x(" Start Production ",-1))])):c("",!0),E.value?(n(),$(o(g),{key:5,href:d.route("manufacturing.work-orders.record-production-form",s.workOrder.id),class:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-emerald-600 to-emerald-500 px-4 py-2.5 text-sm font-semibold text-slate-900 dark:text-white shadow-lg shadow-emerald-500/25 hover:from-emerald-500 hover:to-emerald-400 transition-all"},{default:f(()=>[l(o(H),{class:"h-5 w-5"}),e[12]||(e[12]=x(" Record Output ",-1))]),_:1},8,["href"])):c("",!0),F.value?(n(),i("button",{key:6,onClick:e[3]||(e[3]=a=>p("complete")),class:"flex items-center gap-2 rounded-xl bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-slate-900 dark:text-white hover:bg-emerald-500 transition-all"},[l(o(J),{class:"h-5 w-5"}),e[13]||(e[13]=x(" Complete ",-1))])):c("",!0),I.value?(n(),i("button",{key:7,onClick:e[4]||(e[4]=a=>p("cancel")),class:"flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2.5 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:bg-slate-700 transition-all"},[l(o(K),{class:"h-5 w-5"}),e[14]||(e[14]=x(" Cancel ",-1))])):c("",!0)])]),t("div",lt,[t("div",nt,[t("div",it,[t("h3",xt,[l(o(X),{class:"h-4 w-4"}),e[15]||(e[15]=x(" Production Progress ",-1))]),t("div",ct,[t("div",null,[e[16]||(e[16]=t("div",{class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2"},"Planned",-1)),t("div",ut,r(o(b)(s.workOrder.qty_planned)),1)]),t("div",null,[e[17]||(e[17]=t("div",{class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2"},"Produced",-1)),t("div",bt,r(o(b)(s.workOrder.qty_produced)),1)]),t("div",null,[e[18]||(e[18]=t("div",{class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2"},"Rejected",-1)),t("div",mt,r(o(b)(s.workOrder.qty_rejected)),1)]),t("div",null,[e[19]||(e[19]=t("div",{class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2"},"Remaining",-1)),t("div",pt,r(o(b)(B.value)),1)])]),t("div",ft,[t("div",kt,[t("div",{class:"h-full bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full transition-all duration-500",style:M({width:`${y.value}%`})},null,4)]),t("div",gt,[e[20]||(e[20]=t("span",null,"0%",-1)),t("span",null,r(y.value.toFixed(1))+"% Complete",1),e[21]||(e[21]=t("span",null,"100%",-1))])])]),t("div",wt,[t("h3",ht,[l(o(S),{class:"h-4 w-4"}),e[22]||(e[22]=x(" Product Information ",-1))]),t("div",vt,[t("div",yt,[l(o(S),{class:"h-8 w-8 text-cyan-400"})]),t("div",null,[t("div",Ot,r(s.workOrder.product?.name),1),t("div",_t,r(s.workOrder.product?.sku),1),t("div",Ct,"BOM: "+r(s.workOrder.bom?.name),1)])])]),t("div",$t,[e[25]||(e[25]=t("div",{class:"p-6 border-b border-slate-200 dark:border-slate-800"},[t("h3",{class:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2 font-mono"},[t("div",{class:"h-6 w-1 bg-cyan-500 rounded-full"}),x(" COMPONENTS ")])],-1)),t("div",Pt,[t("table",St,[e[24]||(e[24]=t("thead",{class:"sticky top-0 z-10 bg-slate-50 dark:bg-slate-900 shadow-sm"},[t("tr",{class:"bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 text-left"},[t("th",{class:"px-6 py-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Material"),t("th",{class:"px-6 py-4 text-right text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Required Qty"),t("th",{class:"px-6 py-4 text-right text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Consumed")])],-1)),t("tbody",qt,[(n(!0),i(h,null,P(s.workOrder.components,a=>(n(),i("tr",{key:a.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",Dt,[t("div",jt,r(a.product?.name),1),t("div",Nt,r(a.product?.sku),1)]),t("td",Rt,r(o(b)(a.qty_required)),1),t("td",Bt,r(o(b)(a.qty_consumed||0)),1)]))),128)),!s.workOrder.components||s.workOrder.components.length===0?(n(),i("tr",Et,[...e[23]||(e[23]=[t("td",{colspan:"3",class:"px-6 py-8 text-center text-slate-500 italic"},"No components defined",-1)])])):c("",!0)])])])]),s.workOrder.production_entries&&s.workOrder.production_entries.length>0?(n(),i("div",Ft,[e[27]||(e[27]=t("div",{class:"p-6 border-b border-slate-200 dark:border-slate-800"},[t("h3",{class:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2 font-mono"},[t("div",{class:"h-6 w-1 bg-emerald-500 rounded-full"}),x(" PRODUCTION_ENTRIES ")])],-1)),t("div",It,[t("table",Tt,[e[26]||(e[26]=t("thead",{class:"sticky top-0 z-10 bg-slate-50 dark:bg-slate-900 shadow-sm"},[t("tr",{class:"bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 text-left"},[t("th",{class:"px-4 py-3 text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Date / Shift"),t("th",{class:"px-4 py-3 text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Operator"),t("th",{class:"px-4 py-3 text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Time"),t("th",{class:"px-4 py-3 text-right text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Good"),t("th",{class:"px-4 py-3 text-right text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Reject"),t("th",{class:"px-4 py-3 text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Notes")])],-1)),t("tbody",Wt,[(n(!0),i(h,null,P(s.workOrder.production_entries,a=>(n(),i("tr",{key:a.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",Mt,[t("div",Vt,r(k(a.production_date)),1),t("div",zt,"Shift "+r(a.shift||"-"),1)]),t("td",Lt,r(a.produced_by?.name||"-"),1),t("td",At,r(a.start_time||"-")+" - "+r(a.end_time||"-"),1),t("td",Qt,"+"+r(o(b)(a.qty_produced)),1),t("td",Ut,r(o(b)(a.qty_rejected)),1),t("td",{class:"px-4 py-3 text-slate-500 dark:text-slate-400 text-xs max-w-[150px] truncate",title:a.notes},r(a.notes||"-"),9,Gt)]))),128))])])])])):c("",!0)]),t("div",Ht,[t("div",Jt,[e[32]||(e[32]=t("h3",{class:"text-sm font-bold text-slate-500 uppercase tracking-widest mb-6 border-b border-slate-200 dark:border-slate-800 pb-4"},"Schedule",-1)),t("div",Kt,[t("div",Xt,[t("div",Yt,[l(o(q),{class:"h-4 w-4"})]),t("div",null,[e[28]||(e[28]=t("div",{class:"text-[10px] text-slate-500 uppercase font-bold"},"Planned Start",-1)),t("div",Zt,r(k(s.workOrder.planned_start)),1)])]),t("div",te,[t("div",ee,[l(o(q),{class:"h-4 w-4"})]),t("div",null,[e[29]||(e[29]=t("div",{class:"text-[10px] text-slate-500 uppercase font-bold"},"Planned End",-1)),t("div",se,r(k(s.workOrder.planned_end)),1)])]),s.workOrder.actual_start?(n(),i("div",re,[t("div",oe,[l(o(D),{class:"h-4 w-4"})]),t("div",null,[e[30]||(e[30]=t("div",{class:"text-[10px] text-slate-500 uppercase font-bold"},"Actual Start",-1)),t("div",de,r(v(s.workOrder.actual_start)),1)])])):c("",!0),s.workOrder.actual_end?(n(),i("div",ae,[t("div",le,[l(o(D),{class:"h-4 w-4"})]),t("div",null,[e[31]||(e[31]=t("div",{class:"text-[10px] text-slate-500 uppercase font-bold"},"Actual End",-1)),t("div",ne,r(v(s.workOrder.actual_end)),1)])])):c("",!0)])]),t("div",ie,[e[33]||(e[33]=t("h3",{class:"text-sm font-bold text-slate-500 uppercase tracking-widest mb-6 border-b border-slate-200 dark:border-slate-800 pb-4"},"Output Warehouse",-1)),t("div",xe,r(s.workOrder.warehouse?.name),1),t("div",ce,r(s.workOrder.warehouse?.code),1)]),s.workOrder.production_type==="subcontract"?(n(),i("div",ue,[t("h3",be,[l(o(Y),{class:"h-4 w-4"}),e[34]||(e[34]=x(" Subcontractor ",-1))]),t("div",me,r(s.workOrder.supplier?.name||"Unknown Vendor"),1),e[35]||(e[35]=t("p",{class:"text-[10px] text-slate-500 mt-1 uppercase tracking-widest font-bold"},"External Production Partner",-1))])):c("",!0),s.workOrder.notes?(n(),i("div",pe,[e[36]||(e[36]=t("h3",{class:"text-sm font-bold text-slate-500 uppercase tracking-widest mb-4 border-b border-slate-200 dark:border-slate-800 pb-4"},"Notes",-1)),t("div",fe,r(s.workOrder.notes),1)])):c("",!0)])])])]),_:1})],64)}}};export{Me as default};
