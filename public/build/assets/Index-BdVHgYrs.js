import{m,f as O,q as T,c as l,a as c,u as a,h as q,w as _,b as e,j as S,v as z,d as i,l as L,o as r,x as u,e as x,F as j,g as P,t as o,T as H,s as Q}from"./app-DJj0I4_2.js";import{h,y as W,_ as A}from"./AppLayout-Cw3w-LyG.js";import{_ as G}from"./Pagination-DtDuj5qc.js";import{a as J}from"./helpers-DzPfLsau.js";import{r as K}from"./MagnifyingGlassIcon-Ddw7JfDi.js";import{r as V}from"./ArrowUpTrayIcon-B8TyPV7r.js";import{r as v}from"./ChevronUpIcon-BgvfutUe.js";import{r as R}from"./UserIcon-BFhzmNcT.js";import{r as X}from"./XMarkIcon-DcXZMoax.js";/* empty css            */import"./SunIcon-6nfYrQKj.js";import"./WrenchScrewdriverIcon-6yyOC9IM.js";import"./DocumentPlusIcon-DUtjUjGf.js";import"./TruckIcon-DzH80bEU.js";import"./DocumentTextIcon-DkRtcxc6.js";import"./ShoppingCartIcon-BkrPzDVf.js";import"./MapPinIcon-ZV1BRRjL.js";import"./SparklesIcon-DBwbTUJR.js";import"./CubeIcon-DnZluuQo.js";import"./ClockIcon-B_Wtk2zb.js";import"./CheckCircleIcon-1YcH0Cdr.js";import"./ShieldCheckIcon-DSHebIc3.js";const Y={class:"p-4 sm:p-6 lg:p-8"},Z={class:"glass-card rounded-2xl overflow-hidden p-6"},ee={class:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4"},te={class:"flex gap-4 w-full md:w-auto"},se={class:"relative w-full md:w-64"},ae={class:"flex gap-2"},re=["href"],le={class:"rounded-2xl glass-card overflow-hidden"},oe={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},de={class:"w-full text-left text-sm text-slate-600 dark:text-slate-400"},ne={class:"bg-slate-50 dark:bg-slate-700/50 text-xs uppercase font-semibold text-slate-500 dark:text-slate-300"},ie={class:"border-b border-slate-200 dark:border-slate-700"},ce={class:"flex items-center gap-1"},ue={key:0,class:"text-blue-600 dark:text-blue-400"},pe={class:"flex items-center gap-1"},xe={key:0,class:"text-blue-600 dark:text-blue-400"},be={class:"flex items-center gap-1"},me={key:0,class:"text-blue-600 dark:text-blue-400"},fe={class:"flex items-center gap-1"},ge={key:0,class:"text-blue-600 dark:text-blue-400"},ke={class:"flex items-center justify-end gap-1"},he={key:0,class:"text-blue-600 dark:text-blue-400"},ve={class:"divide-y divide-slate-100 dark:divide-slate-800"},ye={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-400 uppercase font-medium"},we={class:"flex items-center gap-2"},_e={class:"px-4 py-2"},De={class:"text-sm font-semibold text-slate-900 dark:text-white"},Ce={class:"text-[10px] text-slate-500 font-mono tracking-tight"},Se={class:"px-4 py-2 font-mono text-sm text-slate-900 dark:text-white"},ze={class:"px-4 py-2"},Ie={class:"text-sm font-medium text-slate-900 dark:text-white"},$e={class:"text-[10px] text-slate-500 font-mono tracking-tight"},je={class:"px-4 py-2 text-right font-mono text-sm text-slate-900 dark:text-white"},Ve={class:"text-[10px] text-slate-500"},Ne={class:"px-4 py-2"},Be=["title"],Me={key:0,class:"text-[9px] text-slate-500 uppercase flex items-center gap-1"},Ee={class:"px-4 py-2 text-center"},Ue={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider bg-red-100 text-red-800 dark:bg-red-800/20 dark:text-red-400 border border-red-200 dark:border-red-800/50"},Fe={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider bg-amber-100 text-amber-800 dark:bg-amber-800/20 dark:text-amber-400 border border-amber-200 dark:border-amber-800/50"},Oe={key:2,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider bg-blue-100 text-blue-800 dark:bg-blue-800/20 dark:text-blue-400 border border-blue-200 dark:border-blue-800/50"},Te={key:0},qe={class:"mt-6"},Le={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm"},Pe={class:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md p-6 shadow-2xl border border-slate-200 dark:border-slate-700"},He={class:"flex items-center justify-between mb-6"},Qe={class:"mb-4"},We={class:"mb-6"},Ae={class:"flex flex-col items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl p-8 hover:border-blue-500/50 transition-all relative group bg-slate-50/50 dark:bg-slate-900/50"},Ge={class:"flex flex-col items-center transition-transform group-hover:scale-105 duration-300"},Je={class:"p-3 rounded-full bg-blue-50 dark:bg-blue-900/30 mb-3"},Ke={class:"text-sm text-slate-600 dark:text-slate-300 font-semibold mb-1"},Re={class:"mt-4 z-30 relative py-1 px-3 rounded-lg bg-blue-50 dark:bg-blue-900/40 border border-blue-100 dark:border-blue-800/50"},Xe=["href"],Ye={key:0,class:"text-red-500 text-xs mt-2 font-medium"},Ze={class:"flex items-center gap-3"},et=["disabled"],_t={__name:"Index",props:{schedules:Object,filters:Object},setup(y){const w=y,f=m(w.filters.search||""),g=m(w.filters.date||""),b=m(w.filters.sort||"delivery_date"),p=m(w.filters.direction||"asc"),D=m(!1),N=m(null),d=O({file:null,sales_name:""}),k=n=>{b.value===n?p.value=p.value==="asc"?"desc":"asc":(b.value=n,p.value="asc"),I()},I=()=>{Q.get(route("sales.planning.schedule.index"),{search:f.value,date:g.value,sort:b.value,direction:p.value},{preserveState:!0,replace:!0})};T([f,g],()=>{I()});const B=()=>{D.value=!0},C=()=>{D.value=!1,d.reset()},M=()=>{d.file&&d.post(route("sales.planning.schedule.import"),{onSuccess:()=>C()})},E=n=>new Date(n.delivery_date)<new Date().setHours(0,0,0,0),U=n=>{const t=new Date,s=new Date;s.setDate(t.getDate()+7);const $=new Date(n.delivery_date);return $>=t&&$<=s},F=n=>n?new Date(n).toLocaleDateString("id-ID",{day:"2-digit",month:"short"}):"";return(n,t)=>(r(),l(j,null,[c(a(q),{title:"Delivery Schedule"}),c(A,{title:"Delivery Schedule"},{header:_(()=>[...t[9]||(t[9]=[e("h2",{class:"font-semibold text-xl text-slate-800 dark:text-slate-200 leading-tight"}," Delivery Schedule ",-1)])]),default:_(()=>[e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[S(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>f.value=s),type:"text",placeholder:"Search Customer / PO / Product...",class:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:ring-blue-500 focus:border-blue-500"},null,512),[[z,f.value]]),c(a(K),{class:"w-5 h-5 text-slate-400 absolute left-3 top-2.5"})]),S(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>g.value=s),type:"date",class:"rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:ring-blue-500 focus:border-blue-500"},null,512),[[z,g.value]])]),e("div",ae,[e("a",{href:n.route("sales.planning.schedule.export",{search:f.value,date:g.value}),class:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors"},[...t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e("polyline",{points:"7 10 12 15 17 10"}),e("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1),i(" Export Excel ",-1)])],8,re),e("button",{onClick:B,class:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg transition-colors"},[c(a(V),{class:"w-5 h-5"}),t[11]||(t[11]=i(" Import Excel ",-1))]),c(a(L),{href:n.route("sales.planning.schedule.comparison"),class:"flex items-center gap-2 bg-slate-800 dark:bg-slate-700 hover:bg-slate-900 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg transition-colors border border-slate-700 dark:border-slate-600"},{default:_(()=>[...t[12]||(t[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 text-indigo-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),e("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),e("line",{x1:"6",y1:"20",x2:"6",y2:"14"})],-1),i(" View Comparison ",-1)])]),_:1},8,["href"])])]),e("div",le,[e("div",oe,[e("table",de,[e("thead",ne,[e("tr",ie,[e("th",{onClick:t[2]||(t[2]=s=>k("delivery_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm"},[e("div",ce,[t[13]||(t[13]=i(" Delivery Date ",-1)),b.value==="delivery_date"?(r(),l("span",ue,[p.value==="asc"?(r(),u(a(v),{key:0,class:"h-3 w-3"})):(r(),u(a(h),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[3]||(t[3]=s=>k("customer_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm"},[e("div",pe,[t[14]||(t[14]=i(" Customer ",-1)),b.value==="customer_name"?(r(),l("span",xe,[p.value==="asc"?(r(),u(a(v),{key:0,class:"h-3 w-3"})):(r(),u(a(h),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[4]||(t[4]=s=>k("po_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm"},[e("div",be,[t[15]||(t[15]=i(" PO Number ",-1)),b.value==="po_number"?(r(),l("span",me,[p.value==="asc"?(r(),u(a(v),{key:0,class:"h-3 w-3"})):(r(),u(a(h),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[5]||(t[5]=s=>k("product_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm"},[e("div",fe,[t[16]||(t[16]=i(" Product ",-1)),b.value==="product_name"?(r(),l("span",ge,[p.value==="asc"?(r(),u(a(v),{key:0,class:"h-3 w-3"})):(r(),u(a(h),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e("th",{onClick:t[6]||(t[6]=s=>k("qty_scheduled")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-right cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm"},[e("div",ke,[t[17]||(t[17]=i(" Qty Scheduled ",-1)),b.value==="qty_scheduled"?(r(),l("span",he,[p.value==="asc"?(r(),u(a(v),{key:0,class:"h-3 w-3"})):(r(),u(a(h),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t[18]||(t[18]=e("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm"},"Sales Name",-1)),t[19]||(t[19]=e("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 px-4 py-3 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider shadow-sm"},"Status",-1))])]),e("tbody",ve,[(r(!0),l(j,null,P(y.schedules.data,s=>(r(),l("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[e("td",ye,[e("div",we,[c(a(W),{class:"w-4 h-4 text-slate-400"}),i(" "+o(new Date(s.delivery_date).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})),1)])]),e("td",_e,[e("div",De,o(s.customer?.name),1),e("div",Ce,o(s.customer?.code),1)]),e("td",Se,o(s.po_number||"-"),1),e("td",ze,[e("div",Ie,o(s.product?.name),1),e("div",$e,o(s.product?.sku),1)]),e("td",je,[i(o(a(J)(s.qty_scheduled))+" ",1),e("span",Ve,o(s.product?.unit?.code),1)]),e("td",Ne,[e("div",{class:"text-sm font-medium text-slate-900 dark:text-white truncate max-w-[120px]",title:s.sales_name},o(s.sales_name||"-"),9,Be),s.created_by?(r(),l("div",Me,[c(a(R),{class:"w-2.5 h-2.5"}),i(" "+o(s.created_by_user?.name||"User")+" â€¢ "+o(F(s.created_at)),1)])):x("",!0)]),e("td",Ee,[E(s)?(r(),l("span",Ue," Delayed ")):U(s)?(r(),l("span",Fe," Upcoming ")):(r(),l("span",Oe," Scheduled "))])]))),128)),y.schedules.data.length===0?(r(),l("tr",Te,[...t[20]||(t[20]=[e("td",{colspan:"7",class:"px-4 py-12 text-center text-slate-500 whitespace-nowrap"}," No schedule data found. Import Excel to get started. ",-1)])])):x("",!0)])])])]),e("div",qe,[c(G,{links:y.schedules.links},null,8,["links"])])])]),c(H,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:_(()=>[D.value?(r(),l("div",Le,[e("div",Pe,[e("div",He,[t[21]||(t[21]=e("h3",{class:"text-xl font-bold text-slate-900 dark:text-white"}," Import Delivery Schedule ",-1)),e("button",{onClick:C,class:"text-slate-500 hover:text-slate-900 dark:text-white transition-colors"},[c(a(X),{class:"h-6 w-6"})])]),e("div",Qe,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Sales Name",-1)),S(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>a(d).sales_name=s),type:"text",placeholder:"Enter salesperson name",class:"w-full rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:ring-blue-500 focus:border-blue-500"},null,512),[[z,a(d).sales_name]])]),e("div",We,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-3"},"Excel/CSV File",-1)),e("div",Ae,[e("input",{type:"file",ref_key:"fileInput",ref:N,onChange:t[8]||(t[8]=s=>a(d).file=s.target.files[0]),class:"absolute inset-0 opacity-0 cursor-pointer z-20",accept:".xlsx,.xls,.csv"},null,544),e("div",Ge,[e("div",Je,[c(a(V),{class:"h-8 w-8 text-blue-600 dark:text-blue-400"})]),e("p",Ke,o(a(d).file?a(d).file.name:"Click or drag file to upload"),1),t[23]||(t[23]=e("p",{class:"text-xs text-slate-500"},"Maximum size: 2MB",-1))]),e("div",Re,[e("a",{href:n.route("sales.planning.schedule.template"),class:"flex items-center gap-1.5 text-xs font-bold text-blue-600 dark:text-blue-400 hover:underline"},[...t[24]||(t[24]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),i(" Download Template ",-1)])],8,Xe)])]),a(d).errors.file?(r(),l("div",Ye,o(a(d).errors.file),1)):x("",!0)]),e("div",Ze,[e("button",{onClick:M,disabled:!a(d).file||a(d).processing,class:"flex-1 rounded-xl bg-blue-600 py-3 text-sm font-bold text-white hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-blue-500/20"},o(a(d).processing?"Importing...":"Start Import"),9,et),e("button",{onClick:C,class:"flex-1 rounded-xl bg-slate-100 dark:bg-slate-700 py-3 text-sm font-bold text-slate-600 dark:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all font-mono uppercase tracking-wider"}," Cancel ")])])])):x("",!0)]),_:1})]),_:1})],64))}};export{_t as default};
