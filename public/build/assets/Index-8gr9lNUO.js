import{m as w,s as R,q as N,c as o,a as n,u as r,h as S,w as f,o as s,F as y,b as t,j as z,v as j,l as _,d as l,x as d,e as x,g as A,t as m,n as F}from"./app-BDCSmORV.js";import{h as g,_ as P}from"./AppLayout-D-MN9Clt.js";import{d as B}from"./debounce-CDPtFsCk.js";import{_ as T}from"./Pagination-B2uIov2g.js";import{f as V}from"./helpers-DzPfLsau.js";import{r as O}from"./MagnifyingGlassIcon-r3Oq-h5I.js";import{r as I}from"./PlusIcon-CkLfrpeP.js";import{r as h}from"./ChevronUpIcon-B3EDgwZV.js";import{r as L}from"./EyeIcon-MeHRmoGf.js";import{r as U}from"./ArrowUpTrayIcon-SQRBv09T.js";import{r as G}from"./CubeIcon-D4nQSbpl.js";import{r as M}from"./SunIcon-DIO3ajW4.js";import{r as q}from"./ShieldCheckIcon-BLDjUQQt.js";/* empty css            */import"./XMarkIcon-CqC2ginv.js";import"./WrenchScrewdriverIcon-Bcgjqimb.js";import"./DocumentPlusIcon-CeAHff71.js";import"./TruckIcon-KSIW3uKV.js";import"./DocumentTextIcon-D13MK6Zf.js";import"./ShoppingCartIcon-C570p5_n.js";import"./MapPinIcon-Bn_n6hkH.js";import"./SparklesIcon-CPtneXCC.js";import"./ClockIcon-BiKs3xgx.js";import"./CheckCircleIcon-pchilZdj.js";const E={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},H={class:"relative flex-1 sm:max-w-md"},J={class:"rounded-2xl glass-card overflow-hidden"},K={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},Q={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},W={class:"border-b border-slate-200 dark:border-slate-700"},X={class:"flex items-center gap-1"},Y={key:0,class:"text-blue-600 dark:text-blue-400"},Z={class:"flex items-center gap-1"},tt={key:0,class:"text-blue-600 dark:text-blue-400"},et={class:"flex items-center gap-1"},st={key:0,class:"text-blue-600 dark:text-blue-400"},rt={class:"flex items-center gap-1"},at={key:0,class:"text-blue-600 dark:text-blue-400"},lt={class:"flex items-center justify-end gap-1"},ot={key:0,class:"text-blue-600 dark:text-blue-400"},dt={class:"flex items-center justify-center gap-1"},nt={key:0,class:"text-blue-600 dark:text-blue-400"},it={class:"divide-y divide-slate-100 dark:divide-slate-800"},ct={class:"px-4 py-2 whitespace-nowrap"},ut={class:"flex items-center gap-3"},xt={class:"text-sm font-medium text-slate-900 dark:text-white"},pt={class:"px-4 py-2 whitespace-nowrap"},bt={key:1,class:"text-xs text-slate-500 italic"},mt={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-white"},gt={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},ht={class:"px-4 py-2 whitespace-nowrap text-right text-sm font-medium text-slate-900 dark:text-white"},kt={class:"px-4 py-2 whitespace-nowrap text-center text-sm"},ft={class:"px-4 py-2 whitespace-nowrap text-right"},vt={key:0},wt={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4"},yt={class:"mt-12"},_t={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},$t={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Ct={class:"flex items-center gap-3 mb-3"},Dt={class:"p-2.5 rounded-xl bg-red-500/10 text-red-400"},Rt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Nt={class:"flex items-center gap-3 mb-3"},St={class:"p-2.5 rounded-xl bg-orange-500/10 text-orange-400"},zt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},jt={class:"flex items-center gap-3 mb-3"},At={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},Ft={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Pt={class:"flex items-center gap-3 mb-3"},Bt={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},Tt={key:1,class:"text-slate-900 dark:text-white text-center py-20"},de={__name:"Index",props:{returns:Object,filters:Object},setup(p){const v=p,k=w(v.filters?.search||""),u=w(v.filters?.sort||"created_at"),i=w(v.filters?.direction||"desc"),b=c=>{u.value===c?i.value=i.value==="asc"?"desc":"asc":(u.value=c,i.value="asc"),$()},$=B(()=>{R.get("/purchasing/returns",{search:k.value||void 0,sort:u.value,direction:i.value},{preserveState:!0,replace:!0})},300);N(k,()=>{$()});const C=c=>c&&{draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",confirmed:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"}[c]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",D=c=>{if(!c)return"-";try{return new Date(c).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}catch{return c}};return(c,e)=>(s(),o(y,null,[n(r(S),{title:"Purchase Returns"}),n(P,{title:"Purchase Returns"},{default:f(()=>[p.returns?(s(),o(y,{key:0},[t("div",E,[t("div",H,[n(r(O),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),z(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>k.value=a),type:"search",placeholder:"Search return number...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[j,k.value]])]),n(r(_),{href:"/purchasing/returns/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:f(()=>[n(r(I),{class:"h-5 w-5"}),e[7]||(e[7]=l(" Create Return ",-1))]),_:1})]),t("div",J,[t("div",K,[t("table",Q,[t("thead",null,[t("tr",W,[t("th",{onClick:e[1]||(e[1]=a=>b("number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-4 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",X,[e[8]||(e[8]=l(" Return Number ",-1)),u.value==="number"?(s(),o("span",Y,[i.value==="asc"?(s(),d(r(h),{key:0,class:"h-3 w-3"})):(s(),d(r(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[2]||(e[2]=a=>b("po_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-4 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",Z,[e[9]||(e[9]=l(" PO Reference ",-1)),u.value==="po_number"?(s(),o("span",tt,[i.value==="asc"?(s(),d(r(h),{key:0,class:"h-3 w-3"})):(s(),d(r(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[3]||(e[3]=a=>b("supplier_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-4 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",et,[e[10]||(e[10]=l(" Supplier ",-1)),u.value==="supplier_name"?(s(),o("span",st,[i.value==="asc"?(s(),d(r(h),{key:0,class:"h-3 w-3"})):(s(),d(r(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[4]||(e[4]=a=>b("return_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-4 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",rt,[e[11]||(e[11]=l(" Date ",-1)),u.value==="return_date"?(s(),o("span",at,[i.value==="asc"?(s(),d(r(h),{key:0,class:"h-3 w-3"})):(s(),d(r(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[5]||(e[5]=a=>b("total_amount")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-4 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",lt,[e[12]||(e[12]=l(" Total ",-1)),u.value==="total_amount"?(s(),o("span",ot,[i.value==="asc"?(s(),d(r(h),{key:0,class:"h-3 w-3"})):(s(),d(r(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),t("th",{onClick:e[6]||(e[6]=a=>b("status")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-4 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors"},[t("div",dt,[e[13]||(e[13]=l(" Status ",-1)),u.value==="status"?(s(),o("span",nt,[i.value==="asc"?(s(),d(r(h),{key:0,class:"h-3 w-3"})):(s(),d(r(g),{key:1,class:"h-3 w-3"}))])):x("",!0)])]),e[14]||(e[14]=t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-4 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions",-1))])]),t("tbody",it,[(s(!0),o(y,null,A(p.returns.data,a=>(s(),o("tr",{key:a.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",ct,[t("div",ut,[e[15]||(e[15]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 dark:bg-slate-800 font-mono text-xs text-slate-500"}," PRT ",-1)),t("div",xt,m(a.number),1)])]),t("td",pt,[a.purchase_order_id?(s(),d(r(_),{key:0,href:`/purchasing/orders/${a.purchase_order_id}`,class:"text-sm text-blue-400 hover:underline"},{default:f(()=>[l(m(a.purchase_order?.po_number||"N/A"),1)]),_:2},1032,["href"])):(s(),o("span",bt,"No Reference"))]),t("td",mt,m(a.supplier?.name||"Unknown"),1),t("td",gt,m(D(a.return_date)),1),t("td",ht,m(r(V)(a.total_amount)),1),t("td",kt,[t("span",{class:F(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium",C(a.status)])},m(a.status?.toUpperCase()||"DRAFT"),3)]),t("td",ft,[n(r(_),{href:`/purchasing/returns/${a.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:f(()=>[n(r(L),{class:"h-4 w-4"})]),_:1},8,["href"])])]))),128)),p.returns.data&&p.returns.data.length===0?(s(),o("tr",vt,[...e[16]||(e[16]=[t("td",{colspan:"7",class:"px-4 py-12 text-center text-slate-500 italic"},"No purchase returns found.",-1)])])):x("",!0)])])]),p.returns.last_page>1?(s(),o("div",wt,[n(T,{links:p.returns.links},null,8,["links"])])):x("",!0)]),t("div",yt,[e[25]||(e[25]=t("div",{class:"flex items-center gap-2 mb-4 px-1"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Supplier Returns Guide"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",_t,[t("div",$t,[t("div",Ct,[t("div",Dt,[n(r(U),{class:"h-5 w-5"})]),e[17]||(e[17]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Outbound Returns",-1))]),e[18]||(e[18]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Process "),t("strong",null,"Supplier Returns"),l(" for defective or incorrect materials. ")],-1))]),t("div",Rt,[t("div",Nt,[t("div",St,[n(r(G),{class:"h-5 w-5"})]),e[19]||(e[19]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Stock Deduction",-1))]),e[20]||(e[20]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Inventory levels are "),t("strong",null,"Automatically Reduced"),l(" when a return is confirmed. ")],-1))]),t("div",zt,[t("div",jt,[t("div",At,[n(r(M),{class:"h-5 w-5"})]),e[21]||(e[21]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Debit Notes",-1))]),e[22]||(e[22]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Generate "),t("strong",null,"Debit Notes"),l(" to offset your Accounts Payable. ")],-1))]),t("div",Ft,[t("div",Pt,[t("div",Bt,[n(r(q),{class:"h-5 w-5"})]),e[23]||(e[23]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Audit Compliance",-1))]),e[24]||(e[24]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Maintain "),t("strong",null,"Full Documentation"),l(" for all outbound shipments. ")],-1))])])])],64)):(s(),o("div",Tt," Loading returns... "))]),_:1})],64))}};export{de as default};
