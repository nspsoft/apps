import{m as y,q as $,c as r,a as c,u as i,h as E,w as C,b as t,j as S,v as A,n as w,d as _,o as l,F as p,g,t as o,e as D,l as U,s as j}from"./app-zJsw02vx.js";import{_ as B}from"./AppLayout-D4BpQC0B.js";import{a as u}from"./helpers-DzPfLsau.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as F}from"./MagnifyingGlassIcon-DDXN0fpe.js";import{r as L}from"./PrinterIcon-BAxWU_Dw.js";import{r as H}from"./ArrowLeftIcon-BN2kMKgd.js";/* empty css            */import"./XMarkIcon-DfeFp9AX.js";import"./SunIcon-zdIWEs-R.js";import"./WrenchScrewdriverIcon-D_aAqD7I.js";import"./DocumentPlusIcon-pDB4SSRv.js";import"./TruckIcon-DHPnLxIR.js";import"./DocumentTextIcon-Bgyb8RGC.js";import"./ShoppingCartIcon-BP7AbJ38.js";import"./MapPinIcon-CsgHsumu.js";import"./SparklesIcon-Otaa2E01.js";import"./CubeIcon-CZD74TpM.js";import"./ClockIcon-C-qVshqO.js";import"./CheckCircleIcon-BYy8QWv7.js";import"./ShieldCheckIcon-6jFN3elY.js";const R={class:"flex items-center justify-between gap-4"},W={class:"flex items-center gap-4"},q={class:"font-semibold text-xl text-slate-800 dark:text-slate-200 leading-tight"},J={class:"p-4 sm:p-6 lg:p-8"},K={class:"glass-card rounded-2xl p-6 mb-6 no-print"},Y={class:"flex flex-col lg:flex-row justify-between items-center gap-4"},G={class:"flex flex-wrap items-center gap-4 w-full lg:w-auto"},Q={class:"relative w-full sm:w-64"},X={class:"flex items-center gap-2"},Z={class:"flex items-center bg-slate-200 dark:bg-slate-700 rounded-lg p-0.5"},tt={class:"flex items-center gap-4"},et={class:"glass-card rounded-2xl overflow-hidden shadow-2xl border border-slate-200 dark:border-slate-700/50 matrix-container"},at={class:"overflow-x-auto overflow-y-auto max-h-[750px] relative"},st={class:"w-full border-collapse text-[12px]"},rt={class:"bg-slate-100 dark:bg-slate-800 sticky top-0 z-30 font-bold"},lt={key:0,class:"text-[9px] font-medium text-slate-500 dark:text-slate-400 mt-0.5"},ot={class:"divide-y divide-slate-200 dark:divide-slate-800"},dt={class:"group hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors border-t-2 border-slate-200 dark:border-slate-700"},nt=["rowspan"],it={class:"line-clamp-3 text-sm leading-tight"},bt={class:"text-[10px] font-mono text-slate-500 dark:text-slate-400 mt-2 uppercase tracking-tighter bg-slate-100 dark:bg-slate-800/50 px-2 py-0.5 rounded-full inline-block"},pt={class:"p-4 border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 sticky left-[200px] z-10 align-top shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",rowspan:"3"},xt={class:"font-black text-slate-900 dark:text-white leading-tight break-words"},ct={class:"flex justify-between items-center mt-2 group-hover:bg-slate-100 dark:group-hover:bg-slate-800 p-1 rounded transition-colors"},gt={class:"text-[10px] font-mono text-slate-600 dark:text-slate-400 uppercase font-bold"},ut={class:"text-[10px] font-black bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 px-1.5 rounded"},kt={key:0,class:"text-[10px] font-bold text-slate-500 dark:text-slate-400 mt-2 border-l-2 border-slate-200 dark:border-slate-700 pl-2"},ft={class:"p-2 border border-slate-200 dark:border-slate-800 text-right bg-slate-50 dark:bg-slate-900 font-mono font-black text-slate-900 dark:text-white sticky right-0 z-10 transition-colors shadow-[-2px_0_5px_-2px_rgba(0,0,0,0.1)]"},mt={class:"group hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors"},ht={class:"p-2 border border-slate-200 dark:border-slate-800 text-right bg-blue-50/40 dark:bg-blue-900/20 font-mono font-black text-blue-800 dark:text-blue-200 sticky right-0 z-10 transition-colors shadow-[-2px_0_5px_-2px_rgba(0,0,0,0.1)]"},wt={class:"group bg-slate-100/50 dark:bg-slate-800/40 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"},_t={key:0},vt=["colspan"],yt={__name:"Comparison",props:{dates:Array,matrix:Array,weeks:{type:Array,default:()=>[]},filters:Object},setup(x){const k=x,f=y(k.filters.search||""),m=y(k.filters.start_date||""),h=y(k.filters.end_date||""),b=y(k.filters.mode||"daily"),O=()=>{j.get(route("sales.planning.schedule.comparison"),{search:f.value,start_date:m.value,end_date:h.value,mode:b.value},{preserveState:!0,replace:!0})};$([f,m,h],()=>{O()});const P=d=>{b.value=d,O()},T=d=>{if(b.value==="weekly"){const a=k.weeks.find(v=>v.key===d);return a?a.label:d}const e=new Date(d),s=e.getDate().toString().padStart(2,"0"),z=e.toLocaleString("en-US",{month:"short"});return`${s}-${z}`},M=d=>b.value==="weekly"?d:T(d),N=d=>{if(b.value==="weekly")return!1;const e=new Date().toISOString().split("T")[0];return d===e},V=()=>{const d=new URLSearchParams({start_date:m.value,end_date:h.value,search:f.value||"",mode:b.value});window.open(route("sales.planning.schedule.print")+"?"+d.toString(),"_blank")};return(d,e)=>(l(),r(p,null,[c(i(E),{title:"Monitoring Schedule vs Actual"}),c(B,{title:"Monitoring Schedule vs Actual"},{header:C(()=>[t("div",R,[t("div",W,[c(i(U),{href:d.route("sales.planning.schedule.index"),class:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors no-print"},{default:C(()=>[c(i(H),{class:"w-5 h-5"})]),_:1},8,["href"]),t("h2",q,o(b.value==="weekly"?"Weekly":"Daily")+" Delivery Monitoring Matrix ",1)]),t("button",{onClick:V,class:"flex items-center gap-2 bg-blue-900 hover:bg-blue-800 text-white px-5 py-2 rounded-lg text-sm font-bold transition-colors no-print shadow-md"},[c(i(L),{class:"w-4 h-4"}),e[5]||(e[5]=_(" Print Official (PT JIDOKA) ",-1))])])]),default:C(()=>[t("div",J,[t("div",K,[t("div",Y,[t("div",G,[t("div",Q,[S(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>f.value=s),type:"text",placeholder:"Search Customer / Product / PO...",class:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:ring-blue-500 focus:border-blue-500"},null,512),[[A,f.value]]),c(i(F),{class:"w-5 h-5 text-slate-400 absolute left-3 top-2.5"})]),t("div",X,[S(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>m.value=s),type:"date",class:"rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:ring-blue-500 focus:border-blue-500 py-2"},null,512),[[A,m.value]]),e[6]||(e[6]=t("span",{class:"text-slate-400"},"to",-1)),S(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>h.value=s),type:"date",class:"rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:ring-blue-500 focus:border-blue-500 py-2"},null,512),[[A,h.value]])]),t("div",Z,[t("button",{onClick:e[3]||(e[3]=s=>P("daily")),class:w([b.value==="daily"?"bg-white dark:bg-slate-900 text-slate-900 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700","px-4 py-1.5 rounded-md text-xs font-bold uppercase tracking-wider transition-all"])}," Daily ",2),t("button",{onClick:e[4]||(e[4]=s=>P("weekly")),class:w([b.value==="weekly"?"bg-white dark:bg-slate-900 text-slate-900 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700","px-4 py-1.5 rounded-md text-xs font-bold uppercase tracking-wider transition-all"])}," Weekly ",2)])]),t("div",tt,[e[8]||(e[8]=t("div",{class:"flex gap-4 text-[10px] font-bold uppercase tracking-wider text-slate-500"},[t("div",{class:"flex items-center gap-1"},[t("div",{class:"w-2 h-2 bg-red-500 rounded-full"}),_(" Minus Balance")]),t("div",{class:"flex items-center gap-1"},[t("div",{class:"w-2 h-2 bg-blue-500 rounded-full"}),_(" Surplus")]),t("div",{class:"flex items-center gap-1"},[t("div",{class:"w-2 h-2 bg-slate-200 dark:bg-slate-700 rounded-full"}),_(" On-time")])],-1)),t("button",{onClick:V,class:"flex items-center gap-2 bg-blue-900 hover:bg-blue-800 text-white px-5 py-2.5 rounded-lg text-sm font-bold transition-colors shadow-lg hover:shadow-xl"},[c(i(L),{class:"w-4 h-4"}),e[7]||(e[7]=_(" Print Official ",-1))])])])]),t("div",et,[t("div",at,[t("table",st,[t("thead",rt,[t("tr",null,[e[9]||(e[9]=t("th",{class:"p-3 border border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-left sticky left-0 z-40 min-w-[200px] shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",rowspan:"2"},[t("span",{class:"text-slate-900 dark:text-slate-100 font-black uppercase tracking-wider"},"Customer & PO")],-1)),e[10]||(e[10]=t("th",{class:"p-3 border border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-left sticky left-[200px] z-40 min-w-[250px] shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",rowspan:"2"},[t("span",{class:"text-slate-900 dark:text-slate-100 font-black uppercase tracking-wider"},"Product Detail")],-1)),e[11]||(e[11]=t("th",{class:"p-3 border border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-center sticky left-[450px] z-40 min-w-[85px] shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",rowspan:"2"},[t("span",{class:"text-slate-900 dark:text-slate-100 font-black uppercase tracking-wider"},"DATA")],-1)),(l(!0),r(p,null,g(x.dates,s=>(l(),r("th",{key:s,class:w(["p-2 border border-slate-300 dark:border-slate-700 text-center font-black whitespace-nowrap",[N(s)?"bg-indigo-100 dark:bg-indigo-900/60 text-indigo-700 dark:text-indigo-300 ring-2 ring-inset ring-indigo-500/20":"text-slate-700 dark:text-slate-300 bg-slate-100 dark:bg-slate-800",b.value==="weekly"?"min-w-[100px]":"min-w-[65px]"]])},[t("div",null,o(M(s)),1),b.value==="weekly"?(l(),r("div",lt,o(T(s)),1)):D("",!0)],2))),128)),e[12]||(e[12]=t("th",{class:"p-3 border border-slate-300 dark:border-slate-700 text-center bg-slate-200 dark:bg-slate-950 sticky right-0 z-30 min-w-[85px] shadow-[-2px_0_5px_-2px_rgba(0,0,0,0.1)]",rowspan:"2"},[t("span",{class:"text-slate-900 dark:text-slate-100 font-black uppercase tracking-wider"},"TOTAL")],-1))])]),t("tbody",ot,[(l(!0),r(p,null,g(x.matrix,(s,z)=>(l(),r(p,{key:z},[(l(!0),r(p,null,g(s.products,(a,v)=>(l(),r(p,{key:v},[t("tr",dt,[v===0?(l(),r("td",{key:0,class:"p-4 border border-slate-200 dark:border-slate-800 font-black text-indigo-700 dark:text-indigo-400 bg-white dark:bg-slate-950 sticky left-0 z-10 align-top shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",rowspan:s.products.length*3},[t("div",it,o(s.customer_name),1),t("div",bt,o(s.customer_code),1)],8,nt)):D("",!0),t("td",pt,[t("div",xt,o(a.product_name),1),t("div",ct,[t("span",gt,o(a.sku),1),t("span",ut,o(a.unit),1)]),a.po_number?(l(),r("div",kt,"PO: "+o(a.po_number),1)):D("",!0)]),e[13]||(e[13]=t("td",{class:"p-2 border border-slate-200 dark:border-slate-800 bg-slate-50/80 dark:bg-slate-900 sticky left-[450px] z-10 font-black text-slate-600 dark:text-slate-400 uppercase text-[10px] shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]"}," SCHEDULE ",-1)),(l(!0),r(p,null,g(x.dates,n=>(l(),r("td",{key:n,class:"p-2 border border-slate-200 dark:border-slate-800 text-right font-mono text-slate-700 dark:text-slate-300 font-medium"},o(a.daily[n]?.sch>0?i(u)(a.daily[n].sch):"-"),1))),128)),t("td",ft,o(i(u)(a.totals.sch)),1)]),t("tr",mt,[e[14]||(e[14]=t("td",{class:"p-2 border border-slate-200 dark:border-slate-800 bg-slate-100/30 dark:bg-slate-800/20 sticky left-[450px] z-10 font-black text-blue-600 dark:text-blue-400 uppercase text-[10px] shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]"}," DELIVERY ",-1)),(l(!0),r(p,null,g(x.dates,n=>(l(),r("td",{key:n,class:"p-2 border border-slate-200 dark:border-slate-800 text-right font-mono font-bold text-blue-700 dark:text-blue-300"},o(a.daily[n]?.act>0?i(u)(a.daily[n].act):"-"),1))),128)),t("td",ht,o(i(u)(a.totals.act)),1)]),t("tr",wt,[e[15]||(e[15]=t("td",{class:"p-2 border border-slate-200 dark:border-slate-800 bg-slate-200/50 dark:bg-slate-700/50 sticky left-[450px] z-10 font-black text-slate-900 dark:text-white uppercase text-[10px] shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]"}," BALANCE ",-1)),(l(!0),r(p,null,g(x.dates,n=>(l(),r("td",{key:n,class:w(["p-2 border border-slate-200 dark:border-slate-800 text-right font-mono",a.daily[n]?.bal<0?"text-red-700 dark:text-red-400 font-black bg-red-100/40 dark:bg-red-900/20":a.daily[n]?.bal>0?"text-blue-700 dark:text-blue-400 font-black bg-blue-50/30":"text-slate-400"])},o(a.daily[n]?.bal!==0?i(u)(a.daily[n].bal):"-"),3))),128)),t("td",{class:w(["p-2 border border-slate-200 dark:border-slate-800 text-right font-mono font-black sticky right-0 z-10 transition-colors shadow-[-2px_0_5px_-2px_rgba(0,0,0,0.1)]",a.totals.bal<0?"bg-red-200 dark:bg-red-800/60 text-red-900 dark:text-red-100":"bg-slate-200 dark:bg-slate-900 text-slate-900 dark:text-slate-100 text-base shadow-inner"])},o(i(u)(a.totals.bal)),3)])],64))),128))],64))),128)),x.matrix.length===0?(l(),r("tr",_t,[t("td",{colspan:x.dates.length+4,class:"p-20 text-center text-slate-500 italic"}," No data found for the selected period. ",8,vt)])):D("",!0)])])])])])]),_:1})],64))}},Wt=I(yt,[["__scopeId","data-v-68611393"]]);export{Wt as default};
