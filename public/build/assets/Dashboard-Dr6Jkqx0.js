import{q as R,s as T,c as n,b as r,u as s,h as A,d as w,e as t,j as c,t as l,o as p,F as x,g as y,C as j,l as E,k as N,r as P,D as b}from"./app-ql1HZfdt.js";import{c as k,_ as L}from"./AppLayout-Dv1Sz7Oj.js";import{a as M,f as g}from"./helpers-BjqMQcOq.js";import{C as z,c as B,L as I,P as V,d as $,B as q,A as U,p as F,a as W,b as G,i as Y,e as H,D as J,f as K}from"./index-Cq333h-Y.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as X}from"./ShoppingCartIcon-B8Fx3enm.js";import{r as Z}from"./ClipboardDocumentCheckIcon-BTn9YLNs.js";import{r as tt}from"./CheckBadgeIcon-DRkA2eOL.js";import{r as et}from"./FunnelIcon-BjE7QnkK.js";import{r as st}from"./ExclamationTriangleIcon-CbKtzWj7.js";import{r as ot}from"./UserGroupIcon-BX1Bnm2_.js";/* empty css            */import"./XMarkIcon-5N1STuMt.js";import"./SunIcon-B1hXUsOB.js";import"./WrenchScrewdriverIcon-vBtkexfH.js";import"./CubeIcon-CtYYPlEg.js";import"./TruckIcon-DvHrC9a6.js";const at={class:"min-h-screen bg-[#050510] relative overflow-hidden font-mono text-cyan-50 selection:bg-amber-500/30"},rt={class:"relative z-10 p-6 space-y-8"},lt={class:"flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-white/10 pb-4 backdrop-blur-sm"},it={class:"flex items-center gap-6"},dt={class:"text-right hidden md:block"},nt={class:"text-2xl font-bold font-mono text-white glow-text"},ct={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},pt={class:"hud-card group delay-100"},ut={class:"hud-content p-6 h-full relative z-10 bg-[#0a0a16]/60 backdrop-blur-xl border border-white/5 rounded-xl overflow-hidden flex flex-col justify-between"},bt={class:"absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-40 transition-opacity"},ht={class:"text-2xl font-black text-white glow-text tracking-tight"},xt={class:"hud-card group delay-200"},gt={class:"hud-content p-6 h-full relative z-10 bg-[#0a0a16]/60 backdrop-blur-xl border border-white/5 rounded-xl overflow-hidden flex flex-col justify-between"},ft={class:"absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-40 transition-opacity"},mt={class:"text-3xl font-black text-white glow-text tracking-tight"},vt={class:"hud-card group delay-300"},_t={class:"hud-content p-6 h-full relative z-10 bg-[#0a0a16]/60 backdrop-blur-xl border border-white/5 rounded-xl overflow-hidden flex flex-col justify-between"},wt={class:"absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-40 transition-opacity"},yt={class:"text-3xl font-black text-white glow-text tracking-tight"},kt={class:"hud-card group delay-400"},Ct={class:"hud-content p-6 h-full relative z-10 bg-[#0a0a16]/60 backdrop-blur-xl border border-white/5 rounded-xl overflow-hidden flex flex-col justify-between"},St={class:"absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-40 transition-opacity"},Dt={class:"text-3xl font-black text-white glow-text tracking-tight"},Ot={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Rt={class:"lg:col-span-2 hud-panel min-h-[350px]"},Tt={class:"panel-header flex items-center justify-between p-4 border-b border-white/5 bg-white/5"},At={class:"flex items-center gap-2 text-sm font-bold text-amber-300 tracking-widest uppercase"},jt={class:"panel-body p-4 h-[300px] relative"},Et={class:"hud-panel min-h-[350px] flex flex-col"},Nt={class:"panel-header p-4 border-b border-white/5 bg-white/5"},Pt={class:"flex items-center gap-2 text-sm font-bold text-cyan-300 tracking-widest uppercase"},Lt={class:"panel-body p-6 flex-1 flex flex-row items-center justify-center gap-8 relative"},Mt={class:"w-1/2 h-[250px] relative"},zt={class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none w-full"},Bt={class:"text-3xl font-black text-white glow-text leading-tight"},It={class:"w-1/2 space-y-4"},Vt={class:"flex items-center gap-3"},$t={class:"text-[10px] font-mono text-slate-400 uppercase tracking-widest"},qt={class:"text-xs font-bold text-white"},Ut={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ft={class:"hud-panel overflow-hidden"},Wt={class:"panel-header p-4 border-b border-white/5 bg-white/5"},Gt={class:"flex items-center gap-2 text-sm font-bold text-rose-300 tracking-widest uppercase"},Yt={class:"panel-body p-0 overflow-x-auto"},Ht={class:"w-full text-left border-collapse"},Jt={class:"divide-y divide-white/5"},Kt={class:"p-3 text-[10px] font-mono text-cyan-500/70 border-l-2 border-transparent group-hover:border-rose-500 transition-colors"},Qt={class:"p-3 text-xs font-bold text-white uppercase"},Xt={class:"p-3 text-xs text-slate-400 truncate max-w-[200px]"},Zt={class:"p-3 text-[10px] text-slate-500 text-right"},te={class:"p-3 text-center"},ee={key:0,class:"text-center"},se={class:"hud-panel"},oe={class:"panel-header p-4 border-b border-white/5 bg-white/5"},ae={class:"flex items-center gap-2 text-sm font-bold text-cyan-300 tracking-widest uppercase"},re={class:"panel-body p-4 h-[300px]"},le={__name:"Dashboard",props:{stats:Object,spendTrend:Array,statusDist:Object,topSuppliers:Array,recentRequests:Array},setup(d){z.register(B,I,V,$,q,U,F,W,G,Y);const i=d,f=P(""),m=()=>{const o=new Date;f.value=o.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})};let v;R(()=>{m(),v=setInterval(m,1e3)}),T(()=>clearInterval(v));const h=b(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#94a3b8",font:{family:"Space Mono"}}},tooltip:{backgroundColor:"rgba(5, 5, 16, 0.9)",titleColor:"#f59e0b",bodyColor:"#e2e8f0",borderColor:"#f59e0b",borderWidth:1,padding:12,titleFont:{family:"Space Mono",weight:"bold"},bodyFont:{family:"Space Mono"},displayColors:!1}},scales:{x:{grid:{color:"rgba(245, 158, 11, 0.1)",drawBorder:!1},ticks:{color:"#64748b",font:{family:"Space Mono",size:10}}},y:{grid:{color:"rgba(245, 158, 11, 0.1)",drawBorder:!1},ticks:{color:"#64748b",font:{family:"Space Mono",size:10}}}}})),C=b(()=>({labels:i.spendTrend.map(o=>o.month),datasets:[{label:"Monthly Spend",data:i.spendTrend.map(o=>o.total),borderColor:"#f59e0b",backgroundColor:o=>{const a=o.chart.ctx.createLinearGradient(0,0,0,300);return a.addColorStop(0,"rgba(245, 158, 11, 0.4)"),a.addColorStop(1,"rgba(245, 158, 11, 0.0)"),a},fill:!0,tension:.4,borderWidth:2,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"#fff"}]})),S={pending:"#f43f5e",approved:"#22d3ee",partially_approved:"#a855f7",ordered:"#f59e0b",completed:"#10b981",cancelled:"#64748b"},_=b(()=>{const o=Object.keys(i.statusDist);return{labels:o.map(e=>e.replace("_"," ").toUpperCase()),datasets:[{data:Object.values(i.statusDist),backgroundColor:o.map(e=>S[e]||"#94a3b8"),borderWidth:0}]}}),D=b(()=>({labels:i.topSuppliers.map(o=>o.name),datasets:[{label:"Total Spend",data:i.topSuppliers.map(o=>o.total_spend),backgroundColor:"#06b6d4",borderRadius:4,barThickness:20}]}));return(o,e)=>(p(),n(x,null,[r(s(A),{title:"Procurement Ops"}),r(L,{title:"Procurement Ops","render-header":!1},{default:w(()=>[t("div",at,[e[18]||(e[18]=t("div",{class:"fixed inset-0 z-0 pointer-events-none"},[t("div",{class:"absolute inset-0 bg-gradient-to-b from-amber-950/20 to-[#050510]"}),t("div",{class:"perspective-grid absolute inset-0 opacity-20"}),t("div",{class:"absolute top-[-10%] left-[20%] w-[600px] h-[600px] bg-amber-600/10 blur-[150px] rounded-full animate-float"}),t("div",{class:"absolute bottom-[-10%] right-[10%] w-[500px] h-[500px] bg-cyan-600/10 blur-[150px] rounded-full animate-float-delayed"}),t("div",{class:"stars"})],-1)),t("div",rt,[t("div",lt,[e[1]||(e[1]=t("div",null,[t("div",{class:"flex items-center gap-2 mb-2"},[t("span",{class:"px-2 py-0.5 text-[10px] bg-white/5 border border-white/10 rounded text-slate-400 tracking-[0.2em]"},"PROC.SYS.3.0"),t("span",{class:"flex items-center gap-1.5 px-2 py-0.5 text-[10px] bg-amber-500/10 border border-amber-500/20 rounded text-amber-400 tracking-wider animate-pulse"},[t("span",{class:"w-1.5 h-1.5 rounded-full bg-amber-400"}),c(" OPS ACTIVE ")])]),t("h1",{class:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-amber-400 via-white to-amber-400 tracking-widest uppercase glow-text"}," PROCUREMENT OPS ")],-1)),t("div",it,[t("div",dt,[e[0]||(e[0]=t("p",{class:"text-[10px] text-amber-500/70 tracking-[0.2em] mb-1"},"LOCAL TIME",-1)),t("p",nt,l(f.value),1)])])]),t("div",ct,[t("div",pt,[t("div",ut,[t("div",bt,[r(s(k),{class:"h-12 w-12 text-amber-400"})]),t("div",null,[e[2]||(e[2]=t("p",{class:"text-xs text-slate-400 tracking-[0.2em] uppercase font-bold mb-1"},"MONTHLY SPEND",-1)),t("h3",ht,l(s(M)(d.stats.monthly_spend)),1)]),e[3]||(e[3]=t("div",{class:"mt-4 h-1 bg-slate-800 rounded-full overflow-hidden"},[t("div",{class:"h-full bg-amber-500 w-[70%] shadow-[0_0_10px_#f59e0b]"})],-1))])]),t("div",xt,[t("div",gt,[t("div",ft,[r(s(X),{class:"h-12 w-12 text-cyan-400"})]),t("div",null,[e[4]||(e[4]=t("p",{class:"text-xs text-slate-400 tracking-[0.2em] uppercase font-bold mb-1"},"OPEN ORDERS",-1)),t("h3",mt,l(s(g)(d.stats.open_orders)),1)]),e[5]||(e[5]=t("div",{class:"mt-4 h-1 bg-slate-800 rounded-full overflow-hidden"},[t("div",{class:"h-full bg-cyan-500 w-[50%] shadow-[0_0_10px_#06b6d4]"})],-1))])]),t("div",vt,[t("div",_t,[t("div",wt,[r(s(Z),{class:"h-12 w-12 text-rose-400"})]),t("div",null,[e[6]||(e[6]=t("p",{class:"text-xs text-slate-400 tracking-[0.2em] uppercase font-bold mb-1"},"WAITING APPROVAL",-1)),t("h3",yt,l(s(g)(d.stats.pending_approvals)),1)]),e[7]||(e[7]=t("div",{class:"mt-4 h-1 bg-slate-800 rounded-full overflow-hidden"},[t("div",{class:"h-full bg-rose-500 w-[30%] shadow-[0_0_10px_#f43f5e]"})],-1))])]),t("div",kt,[t("div",Ct,[t("div",St,[r(s(tt),{class:"h-12 w-12 text-emerald-400"})]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-xs text-slate-400 tracking-[0.2em] uppercase font-bold mb-1"},"VENDOR RATING",-1)),t("h3",Dt,l(d.stats.supplier_performance)+"% ",1)]),e[9]||(e[9]=t("div",{class:"mt-4 h-1 bg-slate-800 rounded-full overflow-hidden"},[t("div",{class:"h-full bg-emerald-500 w-[94%] shadow-[0_0_10px_#10b981]"})],-1))])])]),t("div",Ot,[t("div",Rt,[t("div",Tt,[t("h3",At,[r(s(k),{class:"h-4 w-4"}),e[10]||(e[10]=c(" Spend Analysis (6mo) ",-1))])]),t("div",jt,[r(s(H),{data:C.value,options:h.value},null,8,["data","options"])])]),t("div",Et,[t("div",Nt,[t("h3",Pt,[r(s(et),{class:"h-4 w-4"}),e[11]||(e[11]=c(" Order Distribution ",-1))])]),t("div",Lt,[t("div",Mt,[r(s(J),{data:_.value,options:{...h.value,cutout:"75%",scales:{x:{display:!1},y:{display:!1}},plugins:{legend:{display:!1}}}},null,8,["data","options"]),t("div",zt,[e[12]||(e[12]=t("p",{class:"text-[10px] text-slate-500 tracking-[0.2em] uppercase font-bold"},"TOTAL POs",-1)),t("p",Bt,l(s(g)(Object.values(i.statusDist).reduce((a,u)=>a+u,0))),1)])]),t("div",It,[(p(!0),n(x,null,y(i.statusDist,(a,u,O)=>(p(),n("div",{key:u,class:"flex items-center justify-between"},[t("div",Vt,[t("div",{class:"w-2.5 h-2.5 rounded-sm",style:j({backgroundColor:_.value.datasets[0].backgroundColor[O]})},null,4),t("span",$t,l(u),1)]),t("span",qt,l(a),1)]))),128))])])])]),t("div",Ut,[t("div",Ft,[t("div",Wt,[t("h3",Gt,[r(s(st),{class:"h-4 w-4"}),e[13]||(e[13]=c(" Urgent Requests ",-1))])]),t("div",Yt,[t("table",Ht,[e[16]||(e[16]=t("thead",null,[t("tr",{class:"text-[10px] text-slate-500 font-bold uppercase tracking-wider border-b border-white/10 bg-white/5"},[t("th",{class:"p-3"},"Req ID"),t("th",{class:"p-3"},"Requester"),t("th",{class:"p-3"},"Description"),t("th",{class:"p-3 text-right"},"Date"),t("th",{class:"p-3 text-center"},"Action")])],-1)),t("tbody",Jt,[(p(!0),n(x,null,y(d.recentRequests,a=>(p(),n("tr",{key:a.id,class:"hover:bg-white/5 transition-colors group"},[t("td",Kt,l(a.request_number),1),t("td",Qt,l(a.requester),1),t("td",Xt,l(a.description),1),t("td",Zt,l(a.date),1),t("td",te,[r(s(E),{href:o.route("purchasing.requests.show",a.id),class:"px-2 py-1 text-[10px] bg-rose-500/20 text-rose-400 rounded hover:bg-rose-500 hover:text-white transition-colors uppercase tracking-wider"},{default:w(()=>[...e[14]||(e[14]=[c(" Review ",-1)])]),_:1},8,["href"])])]))),128)),d.recentRequests.length===0?(p(),n("tr",ee,[...e[15]||(e[15]=[t("td",{colspan:"5",class:"p-8 text-slate-500 text-xs uppercase tracking-wider"},"No pending urgent requests",-1)])])):N("",!0)])])])]),t("div",se,[t("div",oe,[t("h3",ae,[r(s(ot),{class:"h-4 w-4"}),e[17]||(e[17]=c(" Top Suppliers (YTD) ",-1))])]),t("div",re,[r(s(K),{data:D.value,options:{...h.value,indexAxis:"y",plugins:{legend:{display:!1}}}},null,8,["data","options"])])])])])])]),_:1})],64))}},Ce=Q(le,[["__scopeId","data-v-69ef7ce1"]]);export{Ce as default};
