import{c as d,b as e,o as l,f as R,a as o,u as s,h as N,w as U,d as n,i as L,F as W,g as O,n as k,e as m,t as u,j as w,R as M,x as h,v as A,m as f,B as S,_ as z}from"./app-CKQzvzyf.js";import{E as G,F as H,c as K,_ as q}from"./AppLayout-CK2fh2JM.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as J}from"./ArrowLeftIcon-CnBxje3M.js";import{r as X}from"./StarIcon-DPP9YJ2B.js";import{r as _}from"./DevicePhoneMobileIcon-BwpOJTyB.js";import{r as j}from"./KeyIcon-gGDXTSSQ.js";import{r as D}from"./EyeIcon-8ImPqGXc.js";import{r as T}from"./EyeSlashIcon-Df1a1Rey.js";import{r as Y}from"./PaperAirplaneIcon-CFChqa9n.js";import{r as i}from"./DocumentPlusIcon-CNFF2MCw.js";/* empty css            */import"./XMarkIcon-B2KJaphs.js";import"./SunIcon-dsrw8a58.js";import"./WrenchScrewdriverIcon-Dr4pPQtT.js";import"./TruckIcon-BqdSAK_u.js";import"./DocumentTextIcon-Dex0qltP.js";import"./ShoppingCartIcon-B7yQfjtQ.js";import"./MapPinIcon-jVm1FI58.js";import"./SparklesIcon-DHNBQV1A.js";import"./CubeIcon-DADqMiG3.js";import"./ClockIcon-WdBsPvPQ.js";import"./CheckCircleIcon-BObHF1cH.js";import"./ShieldCheckIcon-D39uRVh3.js";function Q(y,x){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"})])}function ee(y,x){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}const te={class:"max-w-full px-4 sm:px-6 lg:px-8 mx-auto space-y-6 pb-20"},se={class:"flex items-center justify-between"},ae={class:"flex items-center gap-4"},oe=["href"],le={class:"flex items-center gap-3"},re={href:"/whatsapp_guide.html",target:"_blank",class:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white rounded-xl shadow-lg shadow-indigo-500/20 text-xs font-bold uppercase tracking-widest transition-all hover:scale-105"},ne={class:"flex h-12 w-12 items-center justify-center rounded-2xl bg-emerald-500/10 text-emerald-500"},ie={class:"bg-white dark:bg-white/5 rounded-2xl p-8 border border-slate-200 dark:border-white/5 shadow-lg dark:shadow-2xl"},de={class:"flex items-center gap-3 text-purple-600 dark:text-purple-400 mb-6 border-b border-slate-200 dark:border-slate-800 pb-4"},pe={class:"grid md:grid-cols-2 gap-4"},ce=["onClick"],ue={key:0,class:"absolute -top-2 -right-2 bg-yellow-500 text-yellow-900 text-[10px] font-black px-2 py-0.5 rounded-full"},xe={class:"flex items-center gap-3 mb-3"},be={class:"text-lg font-bold text-slate-900 dark:text-white"},me={class:"text-sm text-slate-600 dark:text-slate-400"},he=["href"],ge={key:0,class:"bg-white dark:bg-white/5 rounded-2xl p-8 border border-slate-200 dark:border-white/5 shadow-lg dark:shadow-2xl"},we={class:"flex items-center gap-3 text-emerald-600 dark:text-emerald-400 mb-8 border-b border-slate-200 dark:border-slate-800 pb-4"},fe={class:"space-y-8"},ve={class:"space-y-2"},ke={class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1 flex items-center gap-2"},_e={class:"relative group"},ye=["type"],Ce={class:"space-y-2"},Ae={class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1 flex items-center gap-2"},$e={key:1,class:"bg-white dark:bg-white/5 rounded-2xl p-8 border border-slate-200 dark:border-white/5 shadow-lg dark:shadow-2xl"},Pe={class:"flex items-center gap-3 text-blue-600 dark:text-blue-400 mb-8 border-b border-slate-200 dark:border-slate-800 pb-4"},We={class:"space-y-8"},Me={class:"space-y-2"},Se={class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1 flex items-center gap-2"},je={class:"relative group"},De=["type"],Te={class:"space-y-2"},Ve={class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1 flex items-center gap-2"},Be={class:"bg-white dark:bg-white/5 rounded-2xl p-8 border border-slate-200 dark:border-white/5 shadow-lg dark:shadow-2xl"},Ie={class:"flex items-center gap-3 text-cyan-600 dark:text-cyan-400 mb-6 border-b border-slate-200 dark:border-slate-800 pb-4"},Ee={class:"space-y-4"},Fe={class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1"},Re={class:"flex gap-2"},Ne=["value"],Ue={class:"text-xs font-bold"},Le={class:"bg-white dark:bg-white/5 rounded-2xl p-8 border border-slate-200 dark:border-white/5 shadow-lg dark:shadow-2xl"},Oe={class:"flex items-center gap-3 text-orange-600 dark:text-orange-400 mb-6 border-b border-slate-200 dark:border-slate-800 pb-4"},ze={class:"space-y-4"},Ge={class:"flex gap-2"},He=["disabled"],Ke={key:1,class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},qe={class:"text-xs font-bold"},Ze={class:"flex items-center gap-2"},Je={key:1,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Xe={key:0,class:"text-xs opacity-70 mt-1 ml-7"},Ye={class:"grid md:grid-cols-2 gap-4"},Qe={class:"bg-emerald-500/5 rounded-2xl p-6 border border-emerald-500/10"},et={class:"space-y-2 text-xs text-slate-500 dark:text-slate-400"},tt={class:"flex items-center gap-2"},st={class:"flex items-center gap-2"},at={class:"flex items-center gap-2"},ot={class:"bg-blue-500/5 rounded-2xl p-6 border border-blue-500/10 relative"},lt={class:"space-y-2 text-xs text-slate-500 dark:text-slate-400"},rt={class:"flex items-center gap-2"},nt={class:"flex items-center gap-2"},it={class:"flex items-center gap-2"},dt={class:"bg-purple-500/5 rounded-2xl p-6 border border-purple-500/10"},pt={class:"grid md:grid-cols-4 gap-4 text-xs text-slate-500 dark:text-slate-400"},ct={class:"flex items-center gap-2"},ut={class:"flex items-center gap-2"},xt={class:"flex items-center gap-2"},bt={class:"flex items-center gap-2"},mt={class:"flex justify-end pt-4"},ht=["disabled"],gt={class:"relative z-10 flex items-center gap-2"},wt={__name:"WhatsappSettings",props:{settings:Object},setup(y){const x=y,V=z(),c=f(!1),C=f(!1),v=f(""),g=f(!1),p=f(null),$=[{id:"fonnte",name:"Fonnte",price:"Rp 50.000/bulan",website:"https://fonnte.com",recommended:!1,color:"emerald"},{id:"wablas",name:"Wablas ‚≠ê",price:"Rp 50.000/bulan",website:"https://wablas.com",recommended:!0,color:"blue"}],r=R({whatsapp_provider:x.settings?.whatsapp_provider||"fonnte",fonnte_api_token:x.settings?.fonnte_api_token||"",fonnte_device:x.settings?.fonnte_device||"",wablas_api_token:x.settings?.wablas_api_token||"",wablas_device:x.settings?.wablas_device||""}),B=S(()=>$.find(b=>b.id===r.whatsapp_provider)),I=()=>{r.post(route("settings.whatsapp.update"),{preserveScroll:!0})},P=S(()=>`${V.props.appUrl||window.location.origin}/api/whatsapp/webhook`),E=()=>{navigator.clipboard.writeText(P.value),C.value=!0,setTimeout(()=>C.value=!1,2e3)},F=async()=>{if(!v.value){p.value={success:!1,message:"Masukkan nomor WhatsApp tujuan!"};return}g.value=!0,p.value=null;try{const t=await(await fetch(route("settings.whatsapp.test"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||"",Accept:"application/json"},body:JSON.stringify({phone:v.value})})).json();p.value=t}catch(b){p.value={success:!1,message:"Terjadi error: "+b.message}}finally{g.value=!1}};return(b,t)=>(l(),d(W,null,[o(s(N),{title:"WhatsApp Configuration"}),o(q,{title:"WhatsApp Configuration"},{default:U(()=>[e("div",te,[e("div",se,[e("div",ae,[e("a",{href:b.route("settings.index"),class:"p-2 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-slate-900 dark:hover:text-white transition-colors"},[o(s(J),{class:"h-5 w-5"})],8,oe),t[7]||(t[7]=e("div",null,[e("h2",{class:"text-2xl font-bold text-slate-900 dark:text-white uppercase tracking-tight"},"WhatsApp Bot Configuration"),e("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Configure WhatsApp gateway for customer service bot")],-1))]),e("div",le,[e("a",re,[o(s(G),{class:"h-4 w-4"}),t[8]||(t[8]=n(" Panduan & Demo ",-1))]),e("div",ne,[o(s(H),{class:"h-7 w-7"})])])]),e("form",{onSubmit:L(I,["prevent"]),class:"space-y-6"},[e("div",ie,[e("div",de,[o(s(X),{class:"h-6 w-6"}),t[9]||(t[9]=e("h4",{class:"text-sm font-black uppercase tracking-widest"},"Pilih Provider Gateway",-1))]),e("div",pe,[(l(),d(W,null,O($,a=>e("button",{key:a.id,type:"button",onClick:ft=>s(r).whatsapp_provider=a.id,class:k(["relative p-6 rounded-2xl border-2 transition-all text-left group",s(r).whatsapp_provider===a.id?`border-${a.color}-500 bg-${a.color}-50 dark:bg-${a.color}-500/10 shadow-lg shadow-${a.color}-500/20`:"border-slate-300 dark:border-slate-700 hover:border-slate-400 dark:hover:border-slate-600 bg-slate-50 dark:bg-slate-900/40"])},[a.recommended?(l(),d("div",ue," RECOMMENDED ")):m("",!0),e("div",xe,[e("div",{class:k(["w-4 h-4 rounded-full border-2 flex items-center justify-center transition-colors",s(r).whatsapp_provider===a.id?`border-${a.color}-500`:"border-slate-400 dark:border-slate-600"])},[s(r).whatsapp_provider===a.id?(l(),d("div",{key:0,class:k(["w-2 h-2 rounded-full",`bg-${a.color}-500`])},null,2)):m("",!0)],2),e("h5",be,u(a.name),1)]),e("p",me,u(a.price),1),e("a",{href:a.website,target:"_blank",class:"text-xs text-blue-400 hover:underline mt-1 inline-block"},u(a.website),9,he)],10,ce)),64))])]),s(r).whatsapp_provider==="fonnte"?(l(),d("div",ge,[e("div",we,[o(s(_),{class:"h-6 w-6"}),t[10]||(t[10]=e("h4",{class:"text-sm font-black uppercase tracking-widest"},"Fonnte Gateway Settings",-1))]),e("div",fe,[e("div",ve,[e("label",ke,[o(s(j),{class:"h-3 w-3"}),t[11]||(t[11]=n(" Fonnte API Token ",-1))]),e("div",_e,[w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>s(r).fonnte_api_token=a),type:c.value?"text":"password",class:"form-input pr-12",placeholder:"Enter your Fonnte API Token..."},null,8,ye),[[M,s(r).fonnte_api_token]]),e("button",{type:"button",onClick:t[1]||(t[1]=a=>c.value=!c.value),class:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-emerald-400 transition-colors"},[c.value?(l(),h(s(T),{key:1,class:"h-5 w-5"})):(l(),h(s(D),{key:0,class:"h-5 w-5"}))])]),t[12]||(t[12]=e("p",{class:"text-[10px] text-slate-500 mt-2 px-1"},[n(" Get your API token from "),e("a",{href:"https://fonnte.com",target:"_blank",class:"text-emerald-400 hover:underline"},"Fonnte Dashboard"),n(" ‚Üí Device ‚Üí API. ")],-1))]),e("div",Ce,[e("label",Ae,[o(s(_),{class:"h-3 w-3"}),t[13]||(t[13]=n(" Device ID / Phone Number ",-1))]),w(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s(r).fonnte_device=a),type:"text",class:"form-input",placeholder:"e.g. 6281234567890"},null,512),[[A,s(r).fonnte_device]])])])])):m("",!0),s(r).whatsapp_provider==="wablas"?(l(),d("div",$e,[e("div",Pe,[o(s(_),{class:"h-6 w-6"}),t[14]||(t[14]=e("h4",{class:"text-sm font-black uppercase tracking-widest"},"Wablas Gateway Settings ‚≠ê",-1))]),e("div",We,[e("div",Me,[e("label",Se,[o(s(j),{class:"h-3 w-3"}),t[15]||(t[15]=n(" Wablas API Token ",-1))]),e("div",je,[w(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>s(r).wablas_api_token=a),type:c.value?"text":"password",class:"form-input pr-12",placeholder:"Enter your Wablas API Token..."},null,8,De),[[M,s(r).wablas_api_token]]),e("button",{type:"button",onClick:t[4]||(t[4]=a=>c.value=!c.value),class:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-blue-400 transition-colors"},[c.value?(l(),h(s(T),{key:1,class:"h-5 w-5"})):(l(),h(s(D),{key:0,class:"h-5 w-5"}))])]),t[16]||(t[16]=e("p",{class:"text-[10px] text-slate-500 mt-2 px-1"},[n(" Get your API token from "),e("a",{href:"https://wablas.com",target:"_blank",class:"text-blue-400 hover:underline"},"Wablas Dashboard"),n(" ‚Üí API Key. ")],-1))]),e("div",Te,[e("label",Ve,[o(s(_),{class:"h-3 w-3"}),t[17]||(t[17]=n(" Device / Phone Number ",-1))]),w(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>s(r).wablas_device=a),type:"text",class:"form-input",placeholder:"e.g. 6281234567890"},null,512),[[A,s(r).wablas_device]])])])])):m("",!0),e("div",Be,[e("div",Ie,[o(s(K),{class:"h-6 w-6"}),t[18]||(t[18]=e("h4",{class:"text-sm font-black uppercase tracking-widest"},"Webhook Configuration",-1))]),e("div",Ee,[e("label",Fe," Your Webhook URL (Copy this to "+u(B.value?.name||"Provider")+" Dashboard) ",1),e("div",Re,[e("input",{value:P.value,type:"text",class:"form-input flex-1 font-mono text-sm",readonly:""},null,8,Ne),e("button",{type:"button",onClick:E,class:"px-4 py-3 bg-cyan-600 hover:bg-cyan-500 text-white rounded-xl flex items-center gap-2 transition-colors"},[o(s(Q),{class:"h-5 w-5"}),e("span",Ue,u(C.value?"Copied!":"Copy"),1)])])])]),e("div",Le,[e("div",Oe,[o(s(ee),{class:"h-6 w-6"}),t[19]||(t[19]=e("h4",{class:"text-sm font-black uppercase tracking-widest"},"üîå Test Connection",-1))]),e("div",ze,[t[22]||(t[22]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400"},[n(" Kirim pesan test ke nomor WhatsApp untuk memverifikasi koneksi. Pastikan Anda sudah "),e("strong",null,"Save Configuration"),n(" terlebih dahulu! ")],-1)),e("div",Ge,[w(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>v.value=a),type:"text",class:"form-input flex-1",placeholder:"Masukkan nomor WA tujuan (e.g. 6281234567890)"},null,512),[[A,v.value]]),e("button",{type:"button",onClick:F,disabled:g.value,class:"px-6 py-3 bg-orange-600 hover:bg-orange-500 disabled:bg-slate-600 text-white rounded-xl flex items-center gap-2 transition-colors"},[g.value?(l(),d("svg",Ke,[...t[20]||(t[20]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),h(s(Y),{key:0,class:"h-5 w-5"})),e("span",qe,u(g.value?"Sending...":"Send Test"),1)],8,He)]),p.value?(l(),d("div",{key:0,class:k(["p-4 rounded-xl text-sm font-medium",p.value.success?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"])},[e("div",Ze,[p.value.success?(l(),h(s(i),{key:0,class:"h-5 w-5"})):(l(),d("svg",Je,[...t[21]||(t[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])])),e("span",null,u(p.value.message),1)]),p.value.provider?(l(),d("p",Xe," Provider: "+u(p.value.provider.toUpperCase()),1)):m("",!0)],2)):m("",!0)])]),e("div",Ye,[e("div",Qe,[t[26]||(t[26]=e("h5",{class:"text-sm font-bold text-slate-900 dark:text-white mb-3 flex items-center gap-2"}," üí∞ Fonnte ",-1)),e("ul",et,[e("li",tt,[o(s(i),{class:"h-4 w-4 text-emerald-500"}),t[23]||(t[23]=e("span",null,[e("strong",null,"Rp 50.000/bulan")],-1))]),e("li",st,[o(s(i),{class:"h-4 w-4 text-emerald-500"}),t[24]||(t[24]=e("span",null,"Unlimited messages",-1))]),e("li",at,[o(s(i),{class:"h-4 w-4 text-emerald-500"}),t[25]||(t[25]=e("span",null,"API sederhana",-1))])])]),e("div",ot,[t[30]||(t[30]=e("div",{class:"absolute -top-2 -right-2 bg-yellow-500 text-yellow-900 text-[10px] font-black px-2 py-0.5 rounded-full"}," ‚≠ê RECOMMENDED ",-1)),t[31]||(t[31]=e("h5",{class:"text-sm font-bold text-slate-900 dark:text-white mb-3 flex items-center gap-2"}," üí∞ Wablas ",-1)),e("ul",lt,[e("li",rt,[o(s(i),{class:"h-4 w-4 text-blue-500"}),t[27]||(t[27]=e("span",null,[e("strong",null,"Rp 50.000/bulan")],-1))]),e("li",nt,[o(s(i),{class:"h-4 w-4 text-blue-500"}),t[28]||(t[28]=e("span",null,"Support Button & List",-1))]),e("li",it,[o(s(i),{class:"h-4 w-4 text-blue-500"}),t[29]||(t[29]=e("span",null,"API lebih lengkap",-1))])])])]),e("div",dt,[t[36]||(t[36]=e("h5",{class:"text-sm font-bold text-slate-900 dark:text-white mb-3"}," ü§ñ Bot Capabilities ",-1)),e("div",pt,[e("div",ct,[o(s(i),{class:"h-4 w-4 text-purple-500"}),t[32]||(t[32]=e("span",null,"Cek status pesanan",-1))]),e("div",ut,[o(s(i),{class:"h-4 w-4 text-purple-500"}),t[33]||(t[33]=e("span",null,"Cek tagihan & invoice",-1))]),e("div",xt,[o(s(i),{class:"h-4 w-4 text-purple-500"}),t[34]||(t[34]=e("span",null,"Katalog produk & harga",-1))]),e("div",bt,[o(s(i),{class:"h-4 w-4 text-purple-500"}),t[35]||(t[35]=e("span",null,"Request quotation",-1))])])]),e("div",mt,[e("button",{type:"submit",disabled:s(r).processing,class:"inline-flex items-center gap-3 px-10 py-4 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-2xl shadow-emerald-500/30 transition-all active:scale-95 disabled:opacity-50 group overflow-hidden relative"},[e("span",gt,[o(s(i),{class:"h-5 w-5 transition-transform group-hover:scale-125"}),t[37]||(t[37]=n(" Save WhatsApp Configuration ",-1))]),t[38]||(t[38]=e("div",{class:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-[-20deg]"},null,-1))],8,ht)])],32)])]),_:1})],64))}},zt=Z(wt,[["__scopeId","data-v-a0505aec"]]);export{zt as default};
