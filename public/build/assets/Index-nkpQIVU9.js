import{s as u,c as n,a as s,u as r,h as w,w as c,o as d,F as m,b as t,l as p,d as o,g as y,t as x,n as _,x as q,e as b}from"./app-C5ximnk4.js";import{_ as R}from"./AppLayout-D5QuRGji.js";import{_ as $}from"./Pagination-DP7Yctcg.js";import{d as P}from"./debounce-CnHylb7D.js";import{r as g}from"./PlusIcon-Bd842UDf.js";import{r as z}from"./EyeIcon-CFEj1Fpd.js";import{r as C}from"./PencilSquareIcon-De4Z_wjR.js";import{r as D}from"./TrashIcon-RN8aKH4k.js";import{r as N}from"./DocumentCheckIcon-DiU0acV5.js";import{r as j}from"./ShoppingCartIcon-Du7CHGMj.js";import{b as S}from"./SunIcon-C5gTgNQq.js";/* empty css            */import"./XMarkIcon-B7pvIQ3F.js";import"./WrenchScrewdriverIcon-RtRwy9Ag.js";import"./DocumentPlusIcon-CWq_U-0k.js";import"./TruckIcon-BXY3Yds0.js";import"./DocumentTextIcon-CfQwu5gU.js";import"./MapPinIcon-8kcJKsWq.js";import"./SparklesIcon-XzH1SGLv.js";import"./CubeIcon-DlNRGXgC.js";import"./ClockIcon-CA0tSliu.js";import"./CheckCircleIcon-DdA7BM8M.js";import"./ShieldCheckIcon-CbPtSxMM.js";const B={class:"flex items-center justify-between mb-6"},A={class:"rounded-2xl glass-card overflow-hidden"},L={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},V={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},F={class:"divide-y divide-slate-100 dark:divide-slate-800"},I={class:"px-4 py-2 whitespace-nowrap"},O={class:"flex items-center gap-3"},M={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},T={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300 font-medium"},E={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},G={class:"px-4 py-2 whitespace-nowrap text-center text-sm text-slate-600 dark:text-slate-300"},Q={class:"px-4 py-2 whitespace-nowrap text-center"},U={class:"px-4 py-2 whitespace-nowrap text-right"},W={class:"flex items-center justify-end gap-2"},H=["onClick"],J={key:0},K={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4"},X={class:"mt-12"},Y={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Z={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},tt={class:"flex items-center gap-3 mb-3"},et={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},st={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},at={class:"flex items-center gap-3 mb-3"},rt={class:"p-2.5 rounded-xl bg-orange-500/10 text-orange-400"},lt={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},ot={class:"flex items-center gap-3 mb-3"},dt={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},it={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},nt={class:"flex items-center gap-3 mb-3"},xt={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},ct={key:1,class:"text-slate-900 dark:text-white text-center py-20"},Lt={__name:"Index",props:{requests:Object,filters:Object},setup(i){const h=i;P(()=>{u.get("/purchasing/requests",{search:h.filters.search},{preserveState:!0,replace:!0})},300);const f=l=>l&&{draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",pending:"bg-amber-500/20 text-amber-400 border-amber-500/30",approved:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30"}[l]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",k=l=>{l&&confirm("Are you sure you want to delete this purchase request?")&&u.delete(`/purchasing/requests/${l}`)},v=l=>{if(!l)return"-";try{return new Date(l).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}catch{return l}};return(l,e)=>(d(),n(m,null,[s(r(w),{title:"Purchase Requests"}),s(R,{title:"Purchase Requests"},{default:c(()=>[i.requests?(d(),n(m,{key:0},[t("div",B,[e[1]||(e[1]=t("p",{class:"text-slate-500 dark:text-slate-400 italic text-sm"},"Manage purchase requests from departments",-1)),s(r(p),{href:"/purchasing/requests/create",class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/25 hover:from-blue-500 hover:to-blue-400 transition-all"},{default:c(()=>[s(r(g),{class:"h-5 w-5"}),e[0]||(e[0]=o(" New Request ",-1))]),_:1})]),t("div",A,[t("div",L,[t("table",V,[e[4]||(e[4]=t("thead",null,[t("tr",{class:"border-b border-slate-200 dark:border-slate-700"},[t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},[t("div",{class:"flex items-center gap-1"}," PR Number ")]),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},[t("div",{class:"flex items-center gap-1"}," Date ")]),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},[t("div",{class:"flex items-center gap-1"}," Department ")]),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},[t("div",{class:"flex items-center gap-1"}," Requester ")]),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-center text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Items"),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-center text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},[t("div",{class:"flex items-center justify-center gap-1"}," Status ")]),t("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",F,[(d(!0),n(m,null,y(i.requests.data,a=>(d(),n("tr",{key:a.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",I,[t("div",O,[e[2]||(e[2]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 dark:bg-slate-800 font-mono text-xs text-slate-500"}," PR ",-1)),s(r(p),{href:`/purchasing/requests/${a.id}`,class:"text-sm font-medium text-slate-900 dark:text-white hover:text-blue-400"},{default:c(()=>[o(x(a.pr_number),1)]),_:2},1032,["href"])])]),t("td",M,x(v(a.request_date)),1),t("td",T,x(a.department||"-"),1),t("td",E,x(a.requester||"-"),1),t("td",G,x(a.items_count||0),1),t("td",Q,[t("span",{class:_(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium",f(a.status)])},x(a.status?.toUpperCase()||"N/A"),3)]),t("td",U,[t("div",W,[s(r(p),{href:`/purchasing/requests/${a.id}`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:c(()=>[s(r(z),{class:"h-4 w-4"})]),_:1},8,["href"]),a.status==="draft"?(d(),q(r(p),{key:0,href:`/purchasing/requests/${a.id}/edit`,class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:c(()=>[s(r(C),{class:"h-4 w-4"})]),_:1},8,["href"])):b("",!0),t("button",{onClick:pt=>k(a.id),class:"p-2 text-slate-500 dark:text-slate-400 hover:text-red-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 rounded-lg transition-colors"},[s(r(D),{class:"h-4 w-4"})],8,H)])])]))),128)),i.requests.data&&i.requests.data.length===0?(d(),n("tr",J,[...e[3]||(e[3]=[t("td",{colspan:"7",class:"px-4 py-12 text-center text-slate-500 italic"},"No purchase requests found.",-1)])])):b("",!0)])])]),i.requests.last_page>1?(d(),n("div",K,[s($,{links:i.requests.links},null,8,["links"])])):b("",!0)]),t("div",X,[e[13]||(e[13]=t("div",{class:"flex items-center gap-2 mb-4 px-1"},[t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),t("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Procurement Guide"),t("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),t("div",Y,[t("div",Z,[t("div",tt,[t("div",et,[s(r(g),{class:"h-5 w-5"})]),e[5]||(e[5]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Create Request",-1))]),e[6]||(e[6]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Department members can initiate a "),t("strong",null,"Purchase Request (PR)"),o(". ")],-1))]),t("div",st,[t("div",at,[t("div",rt,[s(r(N),{class:"h-5 w-5"})]),e[7]||(e[7]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Approval Flow",-1))]),e[8]||(e[8]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" PRs go through a "),t("strong",null,"Status Workflow"),o(". ")],-1))]),t("div",lt,[t("div",ot,[t("div",dt,[s(r(j),{class:"h-5 w-5"})]),e[9]||(e[9]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Convert to PO",-1))]),e[10]||(e[10]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Save time by "),t("strong",null,"Linking approved PRs"),o(". ")],-1))]),t("div",it,[t("div",nt,[t("div",xt,[s(r(S),{class:"h-5 w-5"})]),e[11]||(e[11]=t("h4",{class:"font-bold text-slate-200 text-sm"},"Tracking",-1))]),e[12]||(e[12]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[o(" Monitor the "),t("strong",null,"Quantity Requested"),o(". ")],-1))])])])],64)):(d(),n("div",ct," Loading requests... "))]),_:1})],64))}};export{Lt as default};
