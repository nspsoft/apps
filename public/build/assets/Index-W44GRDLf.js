import{c as n,L as q,o,f as $,x as E,w as m,b as e,a as r,d as x,F as w,g as C,t as l,e as c,j as I,u as d,k as O,n as M,m as v}from"./app-CvB5BDK_.js";import{_ as L}from"./AppLayout-BnwbydA6.js";import{_ as P,a as U}from"./SecondaryButton-DlXyffow.js";import{_ as g}from"./InputLabel-NijvmZm_.js";import{_}from"./TextInput-BJZ8_uYO.js";import{_ as D}from"./PrimaryButton-BTcoIuKr.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-3pvgQV3l.js";import"./SunIcon-C98hNgLB.js";import"./WrenchScrewdriverIcon-CLVZwAek.js";import"./DocumentPlusIcon-ClbdTCyx.js";import"./TruckIcon-Ud4N7Mwn.js";import"./DocumentTextIcon-BoWG5iAs.js";import"./ShoppingCartIcon-uT48P5Xi.js";import"./MapPinIcon-CRCQJ9vI.js";import"./SparklesIcon-1zQaDWkV.js";import"./CubeIcon-BpCTfNIZ.js";import"./ClockIcon-EI8kN292.js";import"./CheckCircleIcon-DwtALMks.js";import"./ShieldCheckIcon-BwItAVaK.js";import"./dialog-DSyL2iO1.js";import"./transition-avzx4eO7.js";const W=["type"],z={__name:"DangerButton",props:{type:{type:String,default:"button"}},setup(k){return(h,p)=>(o(),n("button",{type:k.type,class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},[q(h.$slots,"default")],8,W))}},R={class:"py-12"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},G={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg p-6"},H={class:"flex justify-between items-center mb-6"},J={class:"w-1/3"},K={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Y={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Z={class:"px-6 py-4 whitespace-nowrap"},tt={class:"text-sm font-medium text-gray-900 dark:text-white"},et={class:"text-sm text-gray-500"},st={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},at={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},dt={class:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ot={key:0},lt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},nt=["onClick"],it=["onClick"],ut={key:0},mt={class:"p-6"},pt={class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},ct={class:"space-y-4"},xt={key:0},gt=["value"],_t={key:0,class:"text-red-500 text-xs mt-1"},ft={key:0,class:"text-red-500 text-xs mt-1"},yt={class:"grid grid-cols-2 gap-4"},vt={key:0,class:"text-red-500 text-xs mt-1"},kt={key:0,class:"text-red-500 text-xs mt-1"},ht={class:"grid grid-cols-2 gap-4"},wt={class:"mt-6 flex justify-end"},bt={class:"p-6"},Ct={class:"mt-6 flex justify-end"},Ht={__name:"Index",props:{products:Object,allProducts:Array},setup(k){const h=k,p=v(!1),f=v(!1),y=v(!1),V=v(""),S=v(null),s=$({id:null,product_id:"",parameter_name:"",standard_min:"",standard_max:"",unit:"",method:""}),b=$({}),N=()=>{y.value=!1,s.reset(),p.value=!0},Q=i=>{y.value=!0,s.id=i.id,s.product_id=i.product_id,s.parameter_name=i.parameter_name,s.standard_min=i.standard_min,s.standard_max=i.standard_max,s.unit=i.unit,s.method=i.method,p.value=!0},j=i=>{S.value=i.id,f.value=!0},A=()=>{y.value?s.put(route("qc.master-points.update",s.id),{onSuccess:()=>p.value=!1}):s.post(route("qc.master-points.store"),{onSuccess:()=>p.value=!1})},B=()=>{b.delete(route("qc.master-points.destroy",S.value),{onSuccess:()=>f.value=!1})};return(i,t)=>(o(),E(L,{title:"QC Master Points"},{header:m(()=>[...t[11]||(t[11]=[e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," QC Standards (Master Points) ",-1)])]),default:m(()=>[e("div",R,[e("div",T,[e("div",G,[e("div",H,[e("div",J,[r(_,{modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=a=>V.value=a),placeholder:"Search products...",class:"w-full"},null,8,["modelValue"])]),r(D,{onClick:N},{default:m(()=>[...t[12]||(t[12]=[x(" + Add New Standard ",-1)])]),_:1})]),e("div",K,[e("table",X,[t[14]||(t[14]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Product"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Parameter"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Range"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Unit/Method"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Y,[(o(!0),n(w,null,C(h.products.data,a=>(o(),n(w,{key:a.id},[(o(!0),n(w,null,C(a.qc_master_points,u=>(o(),n("tr",{key:u.id},[e("td",Z,[e("div",tt,l(a.name),1),e("div",et,l(a.sku),1)]),e("td",st,l(u.parameter_name),1),e("td",at,[e("span",dt,l(u.standard_min)+" - "+l(u.standard_max),1)]),e("td",rt,[x(l(u.unit)+" ",1),u.method?(o(),n("span",ot,"("+l(u.method)+")",1)):c("",!0)]),e("td",lt,[e("button",{onClick:F=>Q(u),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,nt),e("button",{onClick:F=>j(u),class:"text-red-600 hover:text-red-900"},"Delete",8,it)])]))),128))],64))),128)),h.products.data.length===0?(o(),n("tr",ut,[...t[13]||(t[13]=[e("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500"},"No QC Standards found.",-1)])])):c("",!0)])])])])])]),r(P,{show:p.value,maxWidth:"lg",onClose:t[8]||(t[8]=a=>p.value=!1)},{default:m(()=>[e("div",mt,[e("h2",pt,l(y.value?"Edit QC Standard":"Add New QC Standard"),1),e("div",ct,[y.value?c("",!0):(o(),n("div",xt,[r(g,{value:"Product"}),I(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>d(s).product_id=a),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[t[15]||(t[15]=e("option",{value:""},"Select Product...",-1)),(o(!0),n(w,null,C(k.allProducts,a=>(o(),n("option",{key:a.id,value:a.id},l(a.sku)+" - "+l(a.name),9,gt))),128))],512),[[O,d(s).product_id]]),d(s).errors.product_id?(o(),n("div",_t,l(d(s).errors.product_id),1)):c("",!0)])),e("div",null,[r(g,{value:"Parameter Name"}),r(_,{modelValue:d(s).parameter_name,"onUpdate:modelValue":t[2]||(t[2]=a=>d(s).parameter_name=a),class:"w-full mt-1",placeholder:"e.g. Moisture Content"},null,8,["modelValue"]),d(s).errors.parameter_name?(o(),n("div",ft,l(d(s).errors.parameter_name),1)):c("",!0)]),e("div",yt,[e("div",null,[r(g,{value:"Min. Standard"}),r(_,{type:"number",step:"0.01",modelValue:d(s).standard_min,"onUpdate:modelValue":t[3]||(t[3]=a=>d(s).standard_min=a),class:"w-full mt-1"},null,8,["modelValue"]),d(s).errors.standard_min?(o(),n("div",vt,l(d(s).errors.standard_min),1)):c("",!0)]),e("div",null,[r(g,{value:"Max. Standard"}),r(_,{type:"number",step:"0.01",modelValue:d(s).standard_max,"onUpdate:modelValue":t[4]||(t[4]=a=>d(s).standard_max=a),class:"w-full mt-1"},null,8,["modelValue"]),d(s).errors.standard_max?(o(),n("div",kt,l(d(s).errors.standard_max),1)):c("",!0)])]),e("div",ht,[e("div",null,[r(g,{value:"Unit"}),r(_,{modelValue:d(s).unit,"onUpdate:modelValue":t[5]||(t[5]=a=>d(s).unit=a),class:"w-full mt-1",placeholder:"e.g. %, mm, kg"},null,8,["modelValue"])]),e("div",null,[r(g,{value:"Method"}),r(_,{modelValue:d(s).method,"onUpdate:modelValue":t[6]||(t[6]=a=>d(s).method=a),class:"w-full mt-1",placeholder:"e.g. Visual, Caliper"},null,8,["modelValue"])])])]),e("div",wt,[r(U,{onClick:t[7]||(t[7]=a=>p.value=!1)},{default:m(()=>[...t[16]||(t[16]=[x("Cancel",-1)])]),_:1}),r(D,{class:M(["ml-3",{"opacity-25":d(s).processing}]),onClick:A,disabled:d(s).processing},{default:m(()=>[...t[17]||(t[17]=[x(" Save ",-1)])]),_:1},8,["class","disabled"])])])]),_:1},8,["show"]),r(P,{show:f.value,maxWidth:"sm",onClose:t[10]||(t[10]=a=>f.value=!1)},{default:m(()=>[e("div",bt,[t[20]||(t[20]=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Delete Standard ",-1)),t[21]||(t[21]=e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Are you sure you want to delete this QC standard? ",-1)),e("div",Ct,[r(U,{onClick:t[9]||(t[9]=a=>f.value=!1)},{default:m(()=>[...t[18]||(t[18]=[x("Cancel",-1)])]),_:1}),r(z,{class:M(["ml-3",{"opacity-25":d(b).processing}]),onClick:B,disabled:d(b).processing},{default:m(()=>[...t[19]||(t[19]=[x(" Delete ",-1)])]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1}))}};export{Ht as default};
