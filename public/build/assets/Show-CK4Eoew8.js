import{c as n,a as l,u as a,h as v,w as x,b as t,l as u,d as c,o,e as m,x as w,t as r,n as y,F as f,g as _,s as C,B}from"./app-CmHGKYZj.js";import{_ as N}from"./AppLayout-CzRMOHcg.js";import{a as $,f as R}from"./helpers-DnzC1tLX.js";import{r as S}from"./ArrowLeftIcon--n6xgfdm.js";import{r as D}from"./PrinterIcon-D16qQpjs.js";import{r as F}from"./CheckCircleIcon-BmBwtu4v.js";import{r as I}from"./DocumentTextIcon-BdIaA6Ll.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-DXh7FWmY.js";import"./SunIcon-02OMQ6sZ.js";import"./WrenchScrewdriverIcon-CprG2P8y.js";import"./DocumentPlusIcon-D3fGGAQC.js";import"./TruckIcon-CUCCfv9T.js";import"./ShoppingCartIcon-BMiDQGoD.js";import"./MapPinIcon-D7atlnzK.js";import"./SparklesIcon-o8BcquHx.js";import"./CubeIcon-DtouJRep.js";import"./ClockIcon-BobWk61W.js";import"./ShieldCheckIcon-BpQJQprw.js";const L={class:"max-w-7xl mx-auto"},V={class:"flex items-center justify-between mb-6"},q={class:"flex items-center gap-3"},G=["href"],P={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},U={class:"space-y-6"},j={class:"glass-card rounded-2xl p-6"},O={class:"space-y-4"},T={class:"text-sm font-mono text-slate-900 dark:text-white"},z={class:"text-sm text-slate-900 dark:text-white"},A={class:"text-sm text-slate-900 dark:text-white"},E={class:"glass-card rounded-2xl p-6"},Q={class:"text-sm font-bold text-slate-900 dark:text-white"},W={key:0,class:"glass-card rounded-2xl p-6"},H={class:"md:col-span-2"},J={class:"glass-card rounded-2xl overflow-hidden"},K={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},M={class:"divide-y divide-slate-100 dark:divide-slate-800"},X={class:"px-6 py-4 text-sm"},Y={class:"text-slate-900 dark:text-white font-medium"},Z={class:"text-xs text-slate-500 font-mono"},tt={class:"px-6 py-4 text-sm text-right text-slate-600 dark:text-slate-300"},et={class:"px-6 py-4 text-sm text-right text-slate-600 dark:text-slate-300"},yt={__name:"Show",props:{receipt:Object},setup(s){const p=s,h=B(()=>!p.receipt||p.receipt.status!=="completed"?!1:p.receipt.items?.some(i=>parseFloat(i.qty_invoiced||0)<parseFloat(i.qty_received))),g=()=>{confirm("Are you sure you want to complete this receipt? This will update your stock levels.")&&C.post(`/purchasing/receipts/${p.receipt.id}/complete`)},b=i=>new Date(i).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}),k=i=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400",received:"bg-blue-500/20 text-blue-400",inspected:"bg-amber-500/20 text-amber-400",completed:"bg-emerald-500/20 text-emerald-400"})[i]||"bg-slate-500/20 text-slate-500 dark:text-slate-400";return(i,e)=>(o(),n(f,null,[l(a(v),{title:`GRN ${s.receipt.grn_number}`},null,8,["title"]),l(N,{title:"Goods Receipts"},{default:x(()=>[t("div",L,[t("div",V,[l(a(u),{href:"/purchasing/receipts",class:"inline-flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white"},{default:x(()=>[l(a(S),{class:"h-4 w-4"}),e[0]||(e[0]=c(" Back to List ",-1))]),_:1}),t("div",q,[t("a",{href:i.route("purchasing.receipts.print",s.receipt.id),target:"_blank",class:"inline-flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-800 px-4 py-2 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:bg-slate-700 hover:text-slate-900 dark:text-white transition-colors"},[l(a(D),{class:"h-4 w-4"}),e[1]||(e[1]=c(" Print ",-1))],8,G),s.receipt.status!=="completed"?(o(),n("button",{key:0,onClick:g,class:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-slate-900 dark:text-white hover:bg-emerald-500 shadow-lg shadow-emerald-900/20"},[l(a(F),{class:"h-4 w-4"}),e[2]||(e[2]=c(" Complete & Update Stock ",-1))])):m("",!0),h.value?(o(),w(a(u),{key:1,href:`/purchasing/invoices/create?goods_receipt_id=${s.receipt.id}`,class:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500 shadow-lg shadow-blue-900/20"},{default:x(()=>[l(a(I),{class:"h-4 w-4"}),e[3]||(e[3]=c(" Create Invoice ",-1))]),_:1},8,["href"])):m("",!0)])]),t("div",P,[t("div",U,[t("div",j,[e[8]||(e[8]=t("h3",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4"},"Receipt Info",-1)),t("div",O,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-[10px] text-slate-500 uppercase font-bold"},"GRN Number",-1)),t("p",T,r(s.receipt.grn_number),1)]),t("div",null,[e[5]||(e[5]=t("p",{class:"text-[10px] text-slate-500 uppercase font-bold"},"Status",-1)),t("span",{class:y(["inline-flex mt-1 rounded-full px-2 py-0.5 text-xs font-medium",k(s.receipt.status)])},r(s.receipt.status?.toUpperCase()),3)]),t("div",null,[e[6]||(e[6]=t("p",{class:"text-[10px] text-slate-500 uppercase font-bold"},"Receipt Date",-1)),t("p",z,r(b(s.receipt.receipt_date)),1)]),t("div",null,[e[7]||(e[7]=t("p",{class:"text-[10px] text-slate-500 uppercase font-bold"},"Warehouse",-1)),t("p",A,r(s.receipt.warehouse?.name),1)])])]),t("div",E,[e[9]||(e[9]=t("h3",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4"},"Supplier",-1)),t("p",Q,r(s.receipt.supplier?.name),1)]),s.receipt.purchase_order_id?(o(),n("div",W,[e[10]||(e[10]=t("h3",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4"},"Linked PO",-1)),l(a(u),{href:`/purchasing/orders/${s.receipt.purchase_order_id}`,class:"text-sm font-bold text-blue-400 hover:underline"},{default:x(()=>[c(r(s.receipt.purchase_order?.po_number),1)]),_:1},8,["href"])])):m("",!0)]),t("div",H,[t("div",J,[t("table",K,[e[11]||(e[11]=t("thead",null,[t("tr",{class:"bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 text-left"},[t("th",{class:"px-6 py-3 text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Product"),t("th",{class:"px-6 py-3 text-right text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Qty Received"),t("th",{class:"px-6 py-3 text-right text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Unit Cost")])],-1)),t("tbody",M,[(o(!0),n(f,null,_(s.receipt.items,d=>(o(),n("tr",{key:d.id},[t("td",X,[t("div",Y,r(d.product?.name),1),t("div",Z,r(d.product?.sku),1)]),t("td",tt,r(a($)(d.qty_received)),1),t("td",et,r(a(R)(d.unit_cost)),1)]))),128))])])])])])])]),_:1})],64))}};export{yt as default};
