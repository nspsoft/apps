import{c as l,L as M,o as d,x as j,w as i,a as o,u as a,b as e,n as $,B as z,f as B,d as _,F as C,g as S,t as n,e as y,j as I,k as O,m as k}from"./app-Cw8kIH1g.js";import{_ as G}from"./AppLayout-7PtBlGhh.js";import{Y as L,G as Y}from"./dialog-Cbmm5yi6.js";import{h as P,S as R}from"./transition-CaLNS9Q7.js";import{_ as v}from"./InputLabel-BMxPa1SI.js";import{_ as h}from"./TextInput-B4uKH9nQ.js";import{_ as U}from"./PrimaryButton-nhHusDmR.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-CQBGsBOc.js";import"./SunIcon-DA9Q1v03.js";import"./WrenchScrewdriverIcon-B2-PLOwo.js";import"./DocumentPlusIcon-CQ_PkTcR.js";import"./TruckIcon-ITKCfvF-.js";import"./DocumentTextIcon-Bt9MGGXS.js";import"./ShoppingCartIcon-c-aWJGOQ.js";import"./MapPinIcon-C1xBtZPW.js";import"./SparklesIcon-DpF7vHpo.js";import"./CubeIcon-BAXCUIFi.js";import"./ClockIcon-DEoSoNjJ.js";import"./CheckCircleIcon-fc6dKFHb.js";import"./ShieldCheckIcon-CEofleze.js";const T=["type"],D={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(c){return(x,u)=>(d(),l("button",{type:c.type,class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-25 transition ease-in-out duration-150"},[M(x.$slots,"default")],8,T))}},H={class:"fixed inset-0 z-10 overflow-y-auto"},J={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},N={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(c,{emit:x}){const u=c,g=x,f=()=>{u.closeable&&g("close")},w=z(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[u.maxWidth]);return(b,s)=>(d(),j(a(R),{appear:"",show:c.show,as:"template"},{default:i(()=>[o(a(L),{as:"div",onClose:f,class:"relative z-50"},{default:i(()=>[o(a(P),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[...s[0]||(s[0]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])]),_:1}),e("div",H,[e("div",J,[o(a(P),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:i(()=>[o(a(Y),{class:$(["relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 text-left shadow-xl transition-all sm:my-8 sm:w-full",w.value])},{default:i(()=>[M(b.$slots,"default")]),_:3},8,["class"])]),_:3})])])]),_:3})]),_:3},8,["show"]))}},K=["type"],X={__name:"DangerButton",props:{type:{type:String,default:"button"}},setup(c){return(x,u)=>(d(),l("button",{type:c.type,class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},[M(x.$slots,"default")],8,K))}},Z={class:"py-12"},ee={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},te={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg p-6"},se={class:"flex justify-between items-center mb-6"},ae={class:"w-1/3"},re={class:"overflow-x-auto"},oe={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},de={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},le={class:"px-6 py-4 whitespace-nowrap"},ne={class:"text-sm font-medium text-gray-900 dark:text-white"},ie={class:"text-sm text-gray-500"},ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},me={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ce={class:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs"},pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},xe={key:0},ge={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},fe=["onClick"],ye=["onClick"],_e={key:0},ve={class:"p-6"},he={class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},ke={class:"space-y-4"},we={key:0},be=["value"],Ce={key:0,class:"text-red-500 text-xs mt-1"},Ve={key:0,class:"text-red-500 text-xs mt-1"},Se={class:"grid grid-cols-2 gap-4"},$e={key:0,class:"text-red-500 text-xs mt-1"},Me={key:0,class:"text-red-500 text-xs mt-1"},Be={class:"grid grid-cols-2 gap-4"},Pe={class:"mt-6 flex justify-end"},Ue={class:"p-6"},De={class:"mt-6 flex justify-end"},tt={__name:"Index",props:{products:Object,allProducts:Array},setup(c){const x=c,u=k(!1),g=k(!1),f=k(!1),w=k(""),b=k(null),s=B({id:null,product_id:"",parameter_name:"",standard_min:"",standard_max:"",unit:"",method:""}),V=B({}),Q=()=>{f.value=!1,s.reset(),u.value=!0},A=m=>{f.value=!0,s.id=m.id,s.product_id=m.product_id,s.parameter_name=m.parameter_name,s.standard_min=m.standard_min,s.standard_max=m.standard_max,s.unit=m.unit,s.method=m.method,u.value=!0},F=m=>{b.value=m.id,g.value=!0},W=()=>{f.value?s.put(route("qc.master-points.update",s.id),{onSuccess:()=>u.value=!1}):s.post(route("qc.master-points.store"),{onSuccess:()=>u.value=!1})},q=()=>{V.delete(route("qc.master-points.destroy",b.value),{onSuccess:()=>g.value=!1})};return(m,t)=>(d(),j(G,{title:"QC Master Points"},{header:i(()=>[...t[11]||(t[11]=[e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," QC Standards (Master Points) ",-1)])]),default:i(()=>[e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",ae,[o(h,{modelValue:w.value,"onUpdate:modelValue":t[0]||(t[0]=r=>w.value=r),placeholder:"Search products...",class:"w-full"},null,8,["modelValue"])]),o(U,{onClick:Q},{default:i(()=>[...t[12]||(t[12]=[_(" + Add New Standard ",-1)])]),_:1})]),e("div",re,[e("table",oe,[t[14]||(t[14]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Product"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Parameter"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Range"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Unit/Method"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",de,[(d(!0),l(C,null,S(x.products.data,r=>(d(),l(C,{key:r.id},[(d(!0),l(C,null,S(r.qc_master_points,p=>(d(),l("tr",{key:p.id},[e("td",le,[e("div",ne,n(r.name),1),e("div",ie,n(r.sku),1)]),e("td",ue,n(p.parameter_name),1),e("td",me,[e("span",ce,n(p.standard_min)+" - "+n(p.standard_max),1)]),e("td",pe,[_(n(p.unit)+" ",1),p.method?(d(),l("span",xe,"("+n(p.method)+")",1)):y("",!0)]),e("td",ge,[e("button",{onClick:E=>A(p),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,fe),e("button",{onClick:E=>F(p),class:"text-red-600 hover:text-red-900"},"Delete",8,ye)])]))),128))],64))),128)),x.products.data.length===0?(d(),l("tr",_e,[...t[13]||(t[13]=[e("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500"},"No QC Standards found.",-1)])])):y("",!0)])])])])])]),o(N,{show:u.value,maxWidth:"lg",onClose:t[8]||(t[8]=r=>u.value=!1)},{default:i(()=>[e("div",ve,[e("h2",he,n(f.value?"Edit QC Standard":"Add New QC Standard"),1),e("div",ke,[f.value?y("",!0):(d(),l("div",we,[o(v,{value:"Product"}),I(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>a(s).product_id=r),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[t[15]||(t[15]=e("option",{value:""},"Select Product...",-1)),(d(!0),l(C,null,S(c.allProducts,r=>(d(),l("option",{key:r.id,value:r.id},n(r.sku)+" - "+n(r.name),9,be))),128))],512),[[O,a(s).product_id]]),a(s).errors.product_id?(d(),l("div",Ce,n(a(s).errors.product_id),1)):y("",!0)])),e("div",null,[o(v,{value:"Parameter Name"}),o(h,{modelValue:a(s).parameter_name,"onUpdate:modelValue":t[2]||(t[2]=r=>a(s).parameter_name=r),class:"w-full mt-1",placeholder:"e.g. Moisture Content"},null,8,["modelValue"]),a(s).errors.parameter_name?(d(),l("div",Ve,n(a(s).errors.parameter_name),1)):y("",!0)]),e("div",Se,[e("div",null,[o(v,{value:"Min. Standard"}),o(h,{type:"number",step:"0.01",modelValue:a(s).standard_min,"onUpdate:modelValue":t[3]||(t[3]=r=>a(s).standard_min=r),class:"w-full mt-1"},null,8,["modelValue"]),a(s).errors.standard_min?(d(),l("div",$e,n(a(s).errors.standard_min),1)):y("",!0)]),e("div",null,[o(v,{value:"Max. Standard"}),o(h,{type:"number",step:"0.01",modelValue:a(s).standard_max,"onUpdate:modelValue":t[4]||(t[4]=r=>a(s).standard_max=r),class:"w-full mt-1"},null,8,["modelValue"]),a(s).errors.standard_max?(d(),l("div",Me,n(a(s).errors.standard_max),1)):y("",!0)])]),e("div",Be,[e("div",null,[o(v,{value:"Unit"}),o(h,{modelValue:a(s).unit,"onUpdate:modelValue":t[5]||(t[5]=r=>a(s).unit=r),class:"w-full mt-1",placeholder:"e.g. %, mm, kg"},null,8,["modelValue"])]),e("div",null,[o(v,{value:"Method"}),o(h,{modelValue:a(s).method,"onUpdate:modelValue":t[6]||(t[6]=r=>a(s).method=r),class:"w-full mt-1",placeholder:"e.g. Visual, Caliper"},null,8,["modelValue"])])])]),e("div",Pe,[o(D,{onClick:t[7]||(t[7]=r=>u.value=!1)},{default:i(()=>[...t[16]||(t[16]=[_("Cancel",-1)])]),_:1}),o(U,{class:$(["ml-3",{"opacity-25":a(s).processing}]),onClick:W,disabled:a(s).processing},{default:i(()=>[...t[17]||(t[17]=[_(" Save ",-1)])]),_:1},8,["class","disabled"])])])]),_:1},8,["show"]),o(N,{show:g.value,maxWidth:"sm",onClose:t[10]||(t[10]=r=>g.value=!1)},{default:i(()=>[e("div",Ue,[t[20]||(t[20]=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Delete Standard ",-1)),t[21]||(t[21]=e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Are you sure you want to delete this QC standard? ",-1)),e("div",De,[o(D,{onClick:t[9]||(t[9]=r=>g.value=!1)},{default:i(()=>[...t[18]||(t[18]=[_("Cancel",-1)])]),_:1}),o(X,{class:$(["ml-3",{"opacity-25":a(V).processing}]),onClick:q,disabled:a(V).processing},{default:i(()=>[...t[19]||(t[19]=[_(" Delete ",-1)])]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1}))}};export{tt as default};
