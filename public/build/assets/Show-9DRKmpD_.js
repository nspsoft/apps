import{f as w,c as u,a as r,u as s,h as $,w as h,b as t,l as y,t as a,n as M,d as i,o as n,x as j,e as b,F as I,g as B,i as T,j as g,v as k,k as O,m as A}from"./app-BAwp6RV6.js";import{_ as U}from"./AppLayout-CsdKrap4.js";import{a as q,f as c}from"./helpers-DnzC1tLX.js";import{r as L}from"./ArrowLeftIcon-DQidYrwW.js";import{a as F}from"./WrenchScrewdriverIcon-BJW7rLOR.js";import{r as _}from"./CheckCircleIcon-DLo4mYDO.js";import{r as G}from"./SunIcon-U6OEtv2_.js";import{r as z}from"./PrinterIcon-zcvRk864.js";import{r as D}from"./PencilSquareIcon-DiNTpCcv.js";import{r as K}from"./UserIcon-C23zgCBK.js";import{r as N}from"./CalendarIcon-BHpVq0GC.js";import{r as Y}from"./CreditCardIcon-CV_WvEDo.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-V7CKPjvz.js";import"./DocumentPlusIcon-I8drsc-j.js";import"./TruckIcon-MnhfNnJI.js";import"./DocumentTextIcon-1pOJE1-L.js";import"./ShoppingCartIcon-CCYH61-6.js";import"./MapPinIcon-CDcGfMwb.js";import"./SparklesIcon-_ROZm8t1.js";import"./CubeIcon-DhWsQksD.js";import"./ClockIcon-DBJGp2Ga.js";import"./ShieldCheckIcon-C_yXRo_D.js";const J={class:"max-w-full px-4 sm:px-6 lg:px-8 mx-auto"},Q={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6"},X={class:"flex items-center gap-4"},H={class:"flex items-center gap-3"},W={class:"text-2xl font-bold text-slate-900 dark:text-white"},Z={class:"text-slate-500 text-sm mt-1"},tt={class:"flex items-center gap-3"},et=["href"],st={class:"grid grid-cols-1 xl:grid-cols-12 gap-6"},ot={class:"xl:col-span-8 space-y-6"},lt={class:"rounded-2xl glass-card overflow-hidden shadow-sm"},at={class:"overflow-x-auto max-h-[600px] overflow-y-auto custom-scrollbar relative"},rt={class:"w-full text-left"},dt={class:"divide-y divide-slate-100 dark:divide-slate-800"},it={class:"px-6 py-4"},nt={class:"text-sm font-medium text-slate-900 dark:text-white"},xt={class:"text-[10px] text-slate-500 uppercase font-mono"},ut={class:"px-6 py-4 text-center text-sm text-slate-900 dark:text-white"},bt={class:"px-6 py-4 text-right text-sm text-slate-500 dark:text-slate-400 font-mono"},ct={class:"px-6 py-4 text-right text-sm text-slate-900 dark:text-white font-bold font-mono"},mt={class:"bg-slate-50 dark:bg-slate-800/20"},pt={class:"px-6 py-4 text-right text-sm font-bold text-slate-900 dark:text-white font-mono"},ft={class:"bg-slate-50 dark:bg-slate-800/20 border-t border-slate-200 dark:border-slate-800"},vt={colspan:"3",class:"px-6 py-4 text-right text-sm font-medium text-slate-500 dark:text-slate-400"},gt={class:"flex items-center justify-end gap-2"},ht={class:"px-6 py-4 text-right text-sm font-bold text-slate-900 dark:text-white font-mono"},kt={class:"bg-blue-600/10 border-t border-blue-500/30"},wt={class:"px-6 py-4 text-right text-lg font-black text-blue-400 font-mono"},yt={class:"xl:col-span-4 space-y-6"},Ct={class:"rounded-2xl glass-card p-6 shadow-sm"},It={class:"space-y-4"},Tt={class:"flex items-start gap-3"},At={class:"text-sm text-slate-900 dark:text-white font-medium"},Dt={class:"flex items-start gap-3"},Nt={class:"text-sm text-slate-900 dark:text-white font-medium"},St={class:"flex items-start gap-3"},Vt={class:"text-sm text-orange-400 font-bold"},Rt={class:"flex items-start gap-3 border-t border-slate-200 dark:border-slate-800 pt-4"},Et={class:"text-xs text-slate-600 dark:text-slate-300 mt-1"},Pt={class:"font-bold text-emerald-400"},$t={class:"font-bold text-rose-400"},Mt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-white dark:bg-slate-950/80 backdrop-blur-sm"},jt={class:"w-full max-w-sm rounded-2xl glass-card shadow-2xl overflow-hidden"},Bt={class:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between bg-slate-50 dark:bg-slate-800/20"},Ot={class:"pt-4 flex gap-3"},Ut=["disabled"],qt={key:1,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-white dark:bg-slate-950/80 backdrop-blur-sm"},Lt={class:"w-full max-w-md rounded-2xl glass-card shadow-2xl overflow-hidden"},Ft={class:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between bg-slate-50 dark:bg-slate-800/20"},_t=["max"],Gt={class:"pt-4 flex gap-3"},zt=["disabled"],fe={__name:"Show",props:{invoice:Object},setup(o){const m=o,p=A(!1),f=A(!1),v=w({tax_amount:m.invoice.tax_amount}),d=w({amount:m.invoice.balance,payment_date:new Date().toISOString().split("T")[0],payment_method:"Transfer",reference:""}),S=()=>{confirm("Are you sure you want to confirm and issue this invoice?")&&w({}).post(route("sales.invoices.confirm",m.invoice.id))},V=()=>{v.post(route("sales.invoices.update-tax",m.invoice.id),{onSuccess:()=>{f.value=!1}})},R=()=>{d.post(route("sales.invoices.pay",m.invoice.id),{onSuccess:()=>{p.value=!1,d.reset()}})},E=()=>{confirm("Are you sure you want to revise this invoice? This will revert the status to Draft and increment the revision number (REV-X).")&&router.post(route("invoices.revise",m.invoice.id),{},{preserveScroll:!0,onSuccess:()=>{}})},C=x=>x?new Date(x).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}):"-",P=x=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",issued:"bg-blue-500/20 text-blue-400 border-blue-500/30",partial:"bg-amber-500/20 text-amber-400 border-amber-500/30",paid:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[x]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30";return(x,e)=>(n(),u(I,null,[r(s($),{title:`Invoice ${o.invoice.invoice_number}`},null,8,["title"]),r(U,{title:"Invoice Details"},{default:h(()=>[t("div",J,[t("div",Q,[t("div",X,[r(s(y),{href:x.route("sales.invoices.index"),class:"p-2 rounded-xl bg-slate-50 dark:bg-slate-800 text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white transition-colors"},{default:h(()=>[r(s(L),{class:"h-5 w-5"})]),_:1},8,["href"]),t("div",null,[t("div",H,[t("h1",W,a(o.invoice.invoice_number),1),t("span",{class:M(["px-2.5 py-0.5 rounded-full text-xs font-medium border uppercase",P(o.invoice.status)])},a(o.invoice.status),3)]),t("p",Z,[e[11]||(e[11]=i(" Ref: ",-1)),r(s(y),{href:x.route("sales.orders.show",o.invoice.sales_order_id),class:"text-blue-400 hover:underline font-medium"},{default:h(()=>[i(a(o.invoice.sales_order?.so_number),1)]),_:1},8,["href"])])])]),t("div",tt,[o.invoice.status!=="draft"?(n(),j(s(y),{key:0,href:x.route("sales.returns.create",{invoice_id:o.invoice.id}),class:"flex items-center gap-2 rounded-xl bg-rose-600 px-6 py-2.5 text-sm font-bold text-slate-900 dark:text-white hover:bg-rose-500 transition-colors shadow-lg shadow-rose-500/20"},{default:h(()=>[r(s(F),{class:"h-4 w-4"}),e[12]||(e[12]=i(" CREATE RETURN ",-1))]),_:1},8,["href"])):b("",!0),o.invoice.status==="draft"?(n(),u("button",{key:1,onClick:S,class:"flex items-center gap-2 rounded-xl bg-emerald-600 px-6 py-2.5 text-sm font-bold text-slate-900 dark:text-white hover:bg-emerald-500 transition-colors shadow-lg shadow-emerald-500/20"},[r(s(_),{class:"h-4 w-4"}),e[13]||(e[13]=i(" CONFIRM INVOICE ",-1))])):b("",!0),o.invoice.status!=="draft"&&o.invoice.balance>0?(n(),u("button",{key:2,onClick:e[0]||(e[0]=l=>p.value=!0),class:"flex items-center gap-2 rounded-xl bg-indigo-600 px-6 py-2.5 text-sm font-bold text-slate-900 dark:text-white hover:bg-indigo-500 transition-colors shadow-lg shadow-indigo-500/20"},[r(s(G),{class:"h-4 w-4"}),e[14]||(e[14]=i(" RECORD PAYMENT ",-1))])):b("",!0),t("a",{href:x.route("sales.invoices.print",o.invoice.id),target:"_blank",class:"flex items-center gap-2 rounded-xl bg-slate-700 px-6 py-2.5 text-sm font-bold text-slate-900 dark:text-white hover:bg-slate-600 transition-colors shadow-lg"},[r(s(z),{class:"h-4 w-4"}),e[15]||(e[15]=i(" PRINT STANDARD ",-1))],8,et),o.invoice.status==="issued"?(n(),u("button",{key:3,onClick:E,class:"flex items-center gap-2 rounded-xl bg-amber-600 px-6 py-2.5 text-sm font-bold text-slate-900 dark:text-white hover:bg-amber-500 transition-colors shadow-lg shadow-amber-500/20"},[r(s(D),{class:"h-4 w-4"}),e[16]||(e[16]=i(" REVISE INVOICE ",-1))])):b("",!0)])]),t("div",st,[t("div",ot,[t("div",lt,[e[21]||(e[21]=t("div",{class:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/20"},[t("h3",{class:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider"},"Invoice Items")],-1)),t("div",at,[t("table",rt,[e[20]||(e[20]=t("thead",{class:"sticky top-0 z-10 bg-slate-50 dark:bg-slate-900 shadow-sm"},[t("tr",{class:"bg-slate-50 dark:bg-slate-800/30"},[t("th",{class:"px-6 py-4 text-xs font-bold text-slate-500 uppercase"},"Product"),t("th",{class:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-center"},"Qty"),t("th",{class:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-right"},"Price"),t("th",{class:"px-6 py-4 text-xs font-bold text-slate-500 uppercase text-right"},"Subtotal")])],-1)),t("tbody",dt,[(n(!0),u(I,null,B(o.invoice.items,l=>(n(),u("tr",{key:l.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/10 transition-colors"},[t("td",it,[t("div",nt,a(l.product?.name),1),t("div",xt,a(l.product?.sku),1)]),t("td",ut,a(s(q)(l.qty))+" "+a(l.unit?.code||"PCS"),1),t("td",bt,a(s(c)(l.unit_price)),1),t("td",ct,a(s(c)(l.subtotal)),1)]))),128))]),t("tfoot",null,[t("tr",mt,[e[17]||(e[17]=t("td",{colspan:"3",class:"px-6 py-4 text-right text-sm font-medium text-slate-500 dark:text-slate-400"},"Subtotal",-1)),t("td",pt,a(s(c)(o.invoice.subtotal)),1)]),t("tr",ft,[t("td",vt,[t("div",gt,[e[18]||(e[18]=i(" VAT 11% ",-1)),o.invoice.status==="draft"?(n(),u("button",{key:0,onClick:e[1]||(e[1]=l=>f.value=!0),class:"p-1 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-400 hover:text-blue-400 transition-colors",title:"Edit VAT Nominal"},[r(s(D),{class:"h-4 w-4"})])):b("",!0)])]),t("td",ht,a(s(c)(o.invoice.tax_amount)),1)]),t("tr",kt,[e[19]||(e[19]=t("td",{colspan:"3",class:"px-6 py-4 text-right text-base font-bold text-blue-400 uppercase tracking-wider"},"Grand Total",-1)),t("td",wt,a(s(c)(o.invoice.total)),1)])])])])])]),t("div",yt,[t("div",Ct,[e[29]||(e[29]=t("h3",{class:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider mb-4"},"Invoice Info",-1)),t("div",It,[t("div",Tt,[r(s(K),{class:"h-5 w-5 text-slate-500 mt-0.5"}),t("div",null,[e[22]||(e[22]=t("div",{class:"text-[10px] text-slate-500 font-bold uppercase"},"Customer",-1)),t("div",At,a(o.invoice.customer?.name),1)])]),t("div",Dt,[r(s(N),{class:"h-5 w-5 text-slate-500 mt-0.5"}),t("div",null,[e[23]||(e[23]=t("div",{class:"text-[10px] text-slate-500 font-bold uppercase"},"Invoice Date",-1)),t("div",Nt,a(C(o.invoice.invoice_date)),1)])]),t("div",St,[r(s(N),{class:"h-5 w-5 text-slate-500 mt-0.5"}),t("div",null,[e[24]||(e[24]=t("div",{class:"text-[10px] text-slate-500 font-bold uppercase"},"Due Date",-1)),t("div",Vt,a(C(o.invoice.due_date)),1)])]),t("div",Rt,[r(s(Y),{class:"h-5 w-5 text-slate-500 mt-0.5"}),t("div",null,[e[28]||(e[28]=t("div",{class:"text-[10px] text-slate-500 font-bold uppercase"},"Payment Status",-1)),t("div",Et,[e[25]||(e[25]=i(" Paid: ",-1)),t("span",Pt,a(s(c)(o.invoice.paid_amount)),1),e[26]||(e[26]=t("br",null,null,-1)),e[27]||(e[27]=i(" Balance: ",-1)),t("span",$t,a(s(c)(o.invoice.balance)),1)])])])])]),e[30]||(e[30]=t("div",{class:"rounded-2xl glass-card p-6 shadow-sm"},[t("h3",{class:"text-sm font-bold text-blue-400 uppercase tracking-wider mb-4"},"Bank Account Info"),t("div",{class:"space-y-2 text-sm"},[t("div",{class:"text-slate-600 dark:text-slate-300"},"Bank MANDIRI"),t("div",{class:"text-slate-600 dark:text-slate-300"},"KK Karawang Galuh Mas"),t("div",{class:"text-slate-900 dark:text-white font-bold font-mono"},"173-00-0777778-3"),t("div",{class:"text-blue-400 font-medium whitespace-nowrap overflow-hidden text-ellipsis"},"PT JIDOKA RESULT INDONESIA")])],-1))])])]),f.value?(n(),u("div",Mt,[t("div",jt,[t("div",Bt,[e[32]||(e[32]=t("h3",{class:"text-lg font-bold text-slate-900 dark:text-white"},"Adjust VAT Nominal",-1)),t("button",{onClick:e[2]||(e[2]=l=>f.value=!1),class:"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white"},[...e[31]||(e[31]=[t("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor font-bold"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("form",{onSubmit:T(V,["prevent"]),class:"p-6 space-y-4"},[e[34]||(e[34]=t("p",{class:"text-xs text-slate-500"}," Adjust VAT amount manually for rounding differences. This will update the Grand Total. ",-1)),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-2"},"VAT Amount (IDR)",-1)),g(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>s(v).tax_amount=l),type:"number",step:"1",class:"w-full rounded-xl bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white placeholder-slate-600 focus:ring-blue-500 focus:border-blue-500 font-mono text-lg",required:""},null,512),[[k,s(v).tax_amount]])]),t("div",Ot,[t("button",{type:"button",onClick:e[4]||(e[4]=l=>f.value=!1),class:"flex-1 px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-800 text-sm font-bold text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"}," CANCEL "),t("button",{type:"submit",disabled:s(v).processing,class:"flex-1 px-4 py-2.5 rounded-xl bg-blue-600 text-sm font-bold text-white dark:text-white hover:bg-blue-500 transition-colors disabled:opacity-50"},a(s(v).processing?"SAVING...":"UPDATE VAT"),9,Ut)])],32)])])):b("",!0),p.value?(n(),u("div",qt,[t("div",Lt,[t("div",Ft,[e[36]||(e[36]=t("h3",{class:"text-lg font-bold text-slate-900 dark:text-white"},"Record Payment",-1)),t("button",{onClick:e[5]||(e[5]=l=>p.value=!1),class:"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white"},[...e[35]||(e[35]=[t("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor font-bold"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("form",{onSubmit:T(R,["prevent"]),class:"p-6 space-y-4"},[t("div",null,[e[37]||(e[37]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-2"},"Payment Amount (IDR)",-1)),g(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>s(d).amount=l),type:"number",step:"0.01",max:o.invoice.balance,class:"w-full rounded-xl bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white placeholder-slate-600 focus:ring-blue-500 focus:border-blue-500",required:""},null,8,_t),[[k,s(d).amount]])]),t("div",null,[e[38]||(e[38]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-2"},"Payment Date",-1)),g(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>s(d).payment_date=l),type:"date",class:"w-full rounded-xl bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white placeholder-slate-600 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[k,s(d).payment_date]])]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-2"},"Payment Method",-1)),g(t("select",{"onUpdate:modelValue":e[8]||(e[8]=l=>s(d).payment_method=l),class:"w-full rounded-xl bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white focus:ring-blue-500 focus:border-blue-500"},[...e[39]||(e[39]=[t("option",{value:"Transfer"},"Transfer",-1),t("option",{value:"Cash"},"Cash",-1),t("option",{value:"Cheque"},"Cheque",-1)])],512),[[O,s(d).payment_method]])]),t("div",null,[e[41]||(e[41]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-2"},"Reference / Notes",-1)),g(t("textarea",{"onUpdate:modelValue":e[9]||(e[9]=l=>s(d).reference=l),rows:"2",class:"w-full rounded-xl bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white placeholder-slate-600 focus:ring-blue-500 focus:border-blue-500",placeholder:"Bank reference, cheque number, etc."},null,512),[[k,s(d).reference]])]),t("div",Gt,[t("button",{type:"button",onClick:e[10]||(e[10]=l=>p.value=!1),class:"flex-1 px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-800 text-sm font-bold text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"}," CANCEL "),t("button",{type:"submit",disabled:s(d).processing,class:"flex-1 px-4 py-2.5 rounded-xl bg-blue-600 text-sm font-bold text-white dark:text-white hover:bg-blue-500 transition-colors disabled:opacity-50"},a(s(d).processing?"SAVING...":"RECORD PAYMENT"),9,zt)])],32)])])):b("",!0)]),_:1})],64))}};export{fe as default};
