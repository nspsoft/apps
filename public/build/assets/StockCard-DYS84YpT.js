import{r as f,a as V,w as C,c as a,b as x,u as n,h as N,d as h,e as t,l as R,j as y,f as b,o,F as k,g as v,t as l,i as w,v as _,k as U}from"./app-myCv8Os8.js";import{_ as j}from"./AppLayout-Ciwh9yKM.js";import{d as A}from"./debounce-fkjp6Rf9.js";import{f as g}from"./helpers-BjqMQcOq.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as T}from"./ArrowLeftIcon-Bn2bgq84.js";import{r as W}from"./PrinterIcon-B1x6ra3k.js";/* empty css            */import"./XMarkIcon-DNLHlHPw.js";import"./SunIcon-D4oGvkJn.js";import"./WrenchScrewdriverIcon-BoqfX4DU.js";import"./CheckBadgeIcon-EaO4NAqP.js";import"./ShoppingCartIcon-BZTShpWm.js";import"./CubeIcon-CCUJPZCz.js";import"./TruckIcon-DI2q9G1W.js";const q={class:"max-w-7xl mx-auto"},E={class:"print:hidden mb-6"},M={class:"grid grid-cols-1 lg:grid-cols-5 gap-4 bg-white dark:bg-slate-950 p-4 rounded-xl border border-slate-200 dark:border-slate-800"},F={class:"lg:col-span-2"},I=["value"],L=["value"],O={class:"flex gap-2"},$={class:"flex items-end"},K={onclick:"window.print()",class:"w-full inline-flex justify-center items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-slate-900 dark:text-white hover:bg-emerald-500 transition-colors"},z={class:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white p-8 min-h-screen rounded-sm shadow-xl print:shadow-none print:w-full"},G={class:"border-b border-slate-200 dark:border-slate-800 pb-6 mb-6"},H={class:"flex items-start justify-between"},J={class:"mt-2 text-sm"},Q={class:"font-bold text-slate-900 dark:text-white"},X={class:"font-mono text-slate-900 dark:text-white"},Y={class:"text-right text-sm"},Z={class:"text-slate-500 dark:text-slate-400"},tt={class:"text-slate-500 dark:text-slate-400"},et={key:0},st={class:"w-full text-sm"},lt={class:"divide-y divide-slate-200 dark:divide-slate-800"},at={class:"py-2 text-slate-600 dark:text-slate-400"},ot={class:"py-2 font-medium text-xs"},rt={class:"py-2 text-slate-500 text-xs"},dt={class:"py-2 text-right font-mono text-emerald-600"},nt={class:"py-2 text-right font-mono text-red-600"},it={class:"py-2 text-right font-bold font-mono"},ut={key:0,class:"text-center py-8"},ct={key:1,class:"text-center py-24 text-slate-500 dark:text-slate-400"},xt={__name:"StockCard",props:{movements:Array,products:Array,warehouses:Array,filters:Object},setup(r){const p=r,d=f(p.filters.product_id||""),i=f(p.filters.warehouse_id||""),u=f(p.filters.start_date||""),c=f(p.filters.end_date||""),S=A(()=>{V.get("/reports/stock-card",{product_id:d.value||void 0,warehouse_id:i.value||void 0,start_date:u.value||void 0,end_date:c.value||void 0},{preserveState:!0,replace:!0})},300);C([d,i,u,c],S);const P=m=>new Date(m).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),D=m=>m.replace("_"," ").toUpperCase();return(m,e)=>(o(),a(k,null,[x(n(N),{title:"Stock Card Report"}),x(j,{title:"Reports"},{default:h(()=>[t("div",q,[t("div",E,[x(n(R),{href:"/reports",class:"inline-flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white mb-4"},{default:h(()=>[x(n(T),{class:"h-4 w-4"}),e[4]||(e[4]=y(" Back ",-1))]),_:1}),t("div",M,[t("div",F,[e[6]||(e[6]=t("label",{class:"block text-xs text-slate-500 mb-1"},"Product",-1)),b(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),class:"block w-full rounded-lg border-0 bg-slate-50 dark:bg-slate-800 py-2 px-3 text-sm text-slate-900 dark:text-white focus:ring-1 focus:ring-blue-500"},[e[5]||(e[5]=t("option",{value:""},"Select Product...",-1)),(o(!0),a(k,null,v(r.products,s=>(o(),a("option",{key:s.id,value:s.id},l(s.name)+" ("+l(s.sku)+") ",9,I))),128))],512),[[w,d.value]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-xs text-slate-500 mb-1"},"Warehouse",-1)),b(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s),class:"block w-full rounded-lg border-0 bg-slate-50 dark:bg-slate-800 py-2 px-3 text-sm text-slate-900 dark:text-white focus:ring-1 focus:ring-blue-500"},[e[7]||(e[7]=t("option",{value:""},"All Warehouses",-1)),(o(!0),a(k,null,v(r.warehouses,s=>(o(),a("option",{key:s.id,value:s.id},l(s.name),9,L))),128))],512),[[w,i.value]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-xs text-slate-500 mb-1"},"Date Range",-1)),t("div",O,[b(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>u.value=s),type:"date",class:"w-full rounded-lg bg-slate-50 dark:bg-slate-800 text-sm text-slate-900 dark:text-white border-0 py-2 px-2"},null,512),[[_,u.value]]),b(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>c.value=s),type:"date",class:"w-full rounded-lg bg-slate-50 dark:bg-slate-800 text-sm text-slate-900 dark:text-white border-0 py-2 px-2"},null,512),[[_,c.value]])])]),t("div",$,[t("button",K,[x(n(W),{class:"h-4 w-4"}),e[10]||(e[10]=y(" Print ",-1))])])])]),t("div",z,[t("div",G,[t("div",H,[t("div",null,[e[13]||(e[13]=t("h1",{class:"text-2xl font-bold uppercase tracking-wide"},"Stock Card",-1)),t("div",J,[t("p",null,[e[11]||(e[11]=t("span",{class:"text-slate-500 dark:text-slate-400 w-20 inline-block"},"Product:",-1)),t("span",Q,l(r.products.find(s=>s.id==d.value)?.name||"Select Product"),1)]),t("p",null,[e[12]||(e[12]=t("span",{class:"text-slate-500 dark:text-slate-400 w-20 inline-block"},"SKU:",-1)),t("span",X,l(r.products.find(s=>s.id==d.value)?.sku||"-"),1)])])]),t("div",Y,[e[14]||(e[14]=t("p",{class:"font-semibold text-slate-900 dark:text-white"},"ERP Manufacturing",-1)),t("p",Z,"Warehouse: "+l(r.warehouses.find(s=>s.id==i.value)?.name||"All Warehouses"),1),t("p",tt,"Period: "+l(u.value||"Start")+" - "+l(c.value||"End"),1)])])]),d.value?(o(),a("div",et,[t("table",st,[e[16]||(e[16]=t("thead",null,[t("tr",{class:"border-b-2 border-slate-200 dark:border-slate-800"},[t("th",{class:"py-2 text-left font-bold w-32"},"Date"),t("th",{class:"py-2 text-left font-bold"},"Transaction Type"),t("th",{class:"py-2 text-left font-bold"},"Ref/Notes"),t("th",{class:"py-2 text-right font-bold w-24"},"In"),t("th",{class:"py-2 text-right font-bold w-24"},"Out"),t("th",{class:"py-2 text-right font-bold w-24"},"Balance")])],-1)),t("tbody",lt,[(o(!0),a(k,null,v(r.movements,s=>(o(),a("tr",{key:s.id,class:"break-inside-avoid hover:bg-slate-50 dark:hover:bg-slate-800/50"},[t("td",at,l(P(s.created_at)),1),t("td",ot,l(D(s.type)),1),t("td",rt,l(s.notes),1),t("td",dt,l(s.qty>0?n(g)(s.qty):"-"),1),t("td",nt,l(s.qty<0?n(g)(Math.abs(s.qty)):"-"),1),t("td",it,l(n(g)(s.balance_after)),1)]))),128)),r.movements.length===0?(o(),a("tr",ut,[...e[15]||(e[15]=[t("td",{colspan:"6",class:"py-8 text-slate-500 dark:text-slate-400 italic"},"No movements found for this period.",-1)])])):U("",!0)])])])):(o(),a("div",ct," Select a product to view the stock card. ")),e[17]||(e[17]=t("div",{class:"mt-12 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-between text-xs text-slate-500 dark:text-slate-400"},[t("p",null,"Printed from ERP System"),t("p",null,"Page 1 of 1")],-1))])])]),_:1})],64))}},Ct=B(xt,[["__scopeId","data-v-4dd1405b"]]);export{Ct as default};
