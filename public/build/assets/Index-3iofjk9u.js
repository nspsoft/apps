import{m as g,s as z,q as E,f as O,c as d,a as i,u as a,h as P,w as I,b as e,j as U,v as q,n as $,d as l,o as r,x as n,e as u,F as C,g as T,t as x,l as A,i as G,T as H}from"./app-BVbBi1v-.js";import{e as J,h as v,_ as K}from"./AppLayout-DOlVvMHK.js";import{d as Q}from"./debounce-Dmgizicj.js";import{f as W}from"./helpers-DnzC1tLX.js";import{r as X}from"./MagnifyingGlassIcon-9awYCv4k.js";import{r as Y}from"./ArrowDownTrayIcon-CZ3EcU5l.js";import{r as Z}from"./ArrowUpTrayIcon-Ch7ynHPg.js";import{r as f}from"./ChevronUpIcon-CgBSbkeF.js";import{r as D}from"./SunIcon-DoQVgGbC.js";import{r as L}from"./PrinterIcon-tfOcMla-.js";import{r as ee}from"./EyeIcon-Bfuo_tDS.js";import{r as te}from"./TrashIcon-Dvb4hG2f.js";import{r as se}from"./CalendarIcon-CYAr3_jA.js";import{r as ae}from"./DocumentArrowUpIcon-zxI2lrD_.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XMarkIcon-DleNEIZ9.js";import"./WrenchScrewdriverIcon-DeG5a-oi.js";import"./DocumentPlusIcon-B1nE5q6J.js";import"./TruckIcon-YY_na4eh.js";import"./DocumentTextIcon-DGI6oD-T.js";import"./ShoppingCartIcon-BtxP_-yJ.js";import"./MapPinIcon-BwUIpz0Y.js";import"./SparklesIcon-D9eFIBft.js";import"./CubeIcon-DaWhtn2l.js";import"./ClockIcon-Q_IIiaCG.js";import"./CheckCircleIcon-CNZlklV5.js";import"./ShieldCheckIcon-Dk4WmDkO.js";const re={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},le={class:"flex items-center gap-3"},oe={class:"relative flex-1 sm:w-80"},ie={class:"flex items-center gap-2"},de=["href"],ne={class:"rounded-2xl glass-card overflow-hidden"},ce={class:"overflow-x-auto overflow-y-auto max-h-[600px]"},ue={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},xe={class:"border-b border-slate-200 dark:border-slate-700"},pe={class:"flex items-center gap-1"},be={key:0,class:"text-blue-600 dark:text-blue-400"},me={class:"flex items-center gap-1"},ge={key:0,class:"text-blue-600 dark:text-blue-400"},ve={class:"flex items-center gap-1"},fe={key:0,class:"text-blue-600 dark:text-blue-400"},he={class:"flex items-center gap-1"},ke={key:0,class:"text-blue-600 dark:text-blue-400"},we={class:"flex items-center justify-end gap-1"},ye={key:0,class:"text-blue-600 dark:text-blue-400"},_e={class:"flex items-center justify-center gap-1"},Ie={key:0,class:"text-blue-600 dark:text-blue-400"},$e={class:"divide-y divide-slate-100 dark:divide-slate-800"},Ce={class:"px-4 py-2 whitespace-nowrap"},De={class:"flex items-center gap-3"},Se={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 dark:bg-slate-800"},Fe={class:"text-sm font-medium text-slate-900 dark:text-white"},je={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-white"},ze={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},Te={class:"px-4 py-2 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300"},Ae={class:"px-4 py-2 whitespace-nowrap text-right text-sm text-slate-900 dark:text-white font-medium"},Le={class:"px-4 py-2 whitespace-nowrap text-center"},Me=["title"],Ne={class:"px-4 py-2 whitespace-nowrap text-right"},Be={class:"flex items-center justify-end gap-2"},Ve=["href"],Re=["onClick"],Ee={key:0},Oe={colspan:"7",class:"px-4 py-12 text-center"},Pe={key:0,class:"border-t border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between"},Ue={class:"text-sm text-slate-500 dark:text-slate-400"},qe={class:"flex items-center gap-2"},Ge={class:"mt-12"},He={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Je={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Ke={class:"flex items-center gap-3 mb-3"},Qe={class:"p-2.5 rounded-xl bg-emerald-500/10 text-emerald-400"},We={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},Xe={class:"flex items-center gap-3 mb-3"},Ye={class:"p-2.5 rounded-xl bg-amber-500/10 text-amber-400"},Ze={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},et={class:"flex items-center gap-3 mb-3"},tt={class:"p-2.5 rounded-xl bg-blue-500/10 text-blue-400"},st={class:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-700/50 rounded-2xl p-5 shadow-sm hover:border-slate-600 transition-colors"},at={class:"flex items-center gap-3 mb-3"},rt={class:"p-2.5 rounded-xl bg-purple-500/10 text-purple-400"},lt={key:0,class:"fixed inset-0 z-[100] overflow-y-auto"},ot={class:"flex min-h-screen items-center justify-center p-4"},it={class:"relative w-full max-w-md rounded-2xl bg-white dark:bg-slate-900 p-6 border border-slate-200 dark:border-slate-800 shadow-2xl"},dt={class:"text-xs text-slate-500 dark:text-slate-400"},nt=["href"],ct={class:"flex justify-end gap-3 pt-2"},ut=["disabled"],Ot={__name:"Index",props:{invoices:Object,filters:Object,statuses:Array},setup(b){const w=b,y=g(w.filters.search||""),S=g(w.filters.status||""),_=g(!1),p=g(w.filters.sort||"invoice_date"),c=g(w.filters.direction||"desc"),F=Q(()=>{z.get(route("sales.invoices.index"),{search:y.value||void 0,status:S.value||void 0,sort:p.value,direction:c.value},{preserveState:!0,replace:!0})},300),m=o=>{p.value===o?c.value=c.value==="asc"?"desc":"asc":(p.value=o,c.value="asc"),F()};E([y,S],F);const M=o=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",issued:"bg-blue-500/20 text-blue-400 border-blue-500/30",paid:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[o]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",N=o=>({draft:"Invoice masih dalam draft, belum diterbitkan ke customer",issued:"Invoice sudah diterbitkan ke customer, menunggu pembayaran",paid:"Invoice sudah lunas dibayar oleh customer",cancelled:"Invoice dibatalkan dan tidak berlaku"})[o]||"",j=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",B=o=>{confirm("Apakah Anda yakin ingin menghapus invoice ini?")&&z.delete(route("sales.invoices.destroy",o),{onSuccess:()=>{}})},h=g(!1),k=O({file:null}),V=o=>{k.file=o.target.files[0]},R=()=>{k.post(route("sales.invoices.import"),{onSuccess:()=>{h.value=!1,k.reset()},forceFormData:!0})};return(o,t)=>(r(),d(C,null,[i(a(P),{title:"Sales Invoices"}),i(K,{title:"Sales Invoices"},{default:I(()=>[e("div",re,[e("div",le,[e("div",oe,[i(a(X),{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),U(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>y.value=s),type:"search",placeholder:"Search Invoice number...",class:"block w-full rounded-xl border-0 bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-500 focus:bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500/50 transition-all"},null,512),[[q,y.value]])]),e("button",{onClick:t[1]||(t[1]=s=>_.value=!_.value),class:$(["flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors",{"ring-2 ring-blue-500/50":_.value}])},[i(a(J),{class:"h-5 w-5"}),t[11]||(t[11]=l(" Filters ",-1))],2)]),e("div",ie,[e("a",{href:o.route("sales.invoices.export"),class:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-emerald-500/25 hover:bg-emerald-500 transition-all"},[i(a(Y),{class:"h-5 w-5"}),t[12]||(t[12]=l(" Export ",-1))],8,de),e("button",{onClick:t[2]||(t[2]=s=>h.value=!0),class:"inline-flex items-center gap-2 rounded-xl bg-amber-600 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-amber-500/25 hover:bg-amber-500 transition-all"},[i(a(Z),{class:"h-5 w-5"}),t[13]||(t[13]=l(" Import ",-1))])])]),e("div",ne,[e("div",ce,[e("table",ue,[e("thead",null,[e("tr",xe,[e("th",{onClick:t[3]||(t[3]=s=>m("invoice_number")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",pe,[t[14]||(t[14]=l(" Inv Number ",-1)),p.value==="invoice_number"?(r(),d("span",be,[c.value==="asc"?(r(),n(a(f),{key:0,class:"h-3 w-3"})):(r(),n(a(v),{key:1,class:"h-3 w-3"}))])):u("",!0)])]),e("th",{onClick:t[4]||(t[4]=s=>m("customer_name")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",me,[t[15]||(t[15]=l(" Customer ",-1)),p.value==="customer_name"?(r(),d("span",ge,[c.value==="asc"?(r(),n(a(f),{key:0,class:"h-3 w-3"})):(r(),n(a(v),{key:1,class:"h-3 w-3"}))])):u("",!0)])]),e("th",{onClick:t[5]||(t[5]=s=>m("invoice_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",ve,[t[16]||(t[16]=l(" Date ",-1)),p.value==="invoice_date"?(r(),d("span",fe,[c.value==="asc"?(r(),n(a(f),{key:0,class:"h-3 w-3"})):(r(),n(a(v),{key:1,class:"h-3 w-3"}))])):u("",!0)])]),e("th",{onClick:t[6]||(t[6]=s=>m("due_date")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",he,[t[17]||(t[17]=l(" Due Date ",-1)),p.value==="due_date"?(r(),d("span",ke,[c.value==="asc"?(r(),n(a(f),{key:0,class:"h-3 w-3"})):(r(),n(a(v),{key:1,class:"h-3 w-3"}))])):u("",!0)])]),e("th",{onClick:t[7]||(t[7]=s=>m("total")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",we,[t[18]||(t[18]=l(" Total ",-1)),p.value==="total"?(r(),d("span",ye,[c.value==="asc"?(r(),n(a(f),{key:0,class:"h-3 w-3"})):(r(),n(a(v),{key:1,class:"h-3 w-3"}))])):u("",!0)])]),e("th",{onClick:t[8]||(t[8]=s=>m("status")),class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors group"},[e("div",_e,[t[19]||(t[19]=l(" Status ",-1)),p.value==="status"?(r(),d("span",Ie,[c.value==="asc"?(r(),n(a(f),{key:0,class:"h-3 w-3"})):(r(),n(a(v),{key:1,class:"h-3 w-3"}))])):u("",!0)])]),t[20]||(t[20]=e("th",{class:"sticky top-0 z-20 bg-slate-100 dark:bg-slate-950 shadow-sm px-4 py-2 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"Actions",-1))])]),e("tbody",$e,[(r(!0),d(C,null,T(b.invoices.data,s=>(r(),d("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[e("td",Ce,[e("div",De,[e("div",Se,[i(a(D),{class:"h-5 w-5 text-emerald-400"})]),e("div",Fe,x(s.invoice_number),1)])]),e("td",je,x(s.sales_order?.customer?.name),1),e("td",ze,x(j(s.invoice_date)),1),e("td",Te,x(j(s.due_date)),1),e("td",Ae,x(a(W)(s.total)),1),e("td",Le,[e("span",{class:$(["inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium cursor-help",M(s.status)]),title:N(s.status)},x(s.status?.toUpperCase()),11,Me)]),e("td",Ne,[e("div",Be,[e("a",{href:o.route("sales.invoices.print",s.id),target:"_blank",class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},[i(a(L),{class:"h-4 w-4"})],8,Ve),i(a(A),{href:o.route("sales.invoices.show",s.id),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 transition-colors"},{default:I(()=>[i(a(ee),{class:"h-4 w-4"})]),_:1},8,["href"]),s.status==="draft"?(r(),d("button",{key:0,onClick:xt=>B(s.id),class:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-red-500 hover:bg-red-500/10 transition-colors"},[i(a(te),{class:"h-4 w-4"})],8,Re)):u("",!0)])])]))),128)),b.invoices.data.length===0?(r(),d("tr",Ee,[e("td",Oe,[i(a(D),{class:"mx-auto h-12 w-12 text-slate-600"}),t[21]||(t[21]=e("h3",{class:"mt-2 text-sm font-medium text-slate-600 dark:text-slate-300"},"No invoices found",-1)),t[22]||(t[22]=e("p",{class:"mt-1 text-sm text-slate-500"},"Invoices are generated from Orders or Deliveries.",-1))])])):u("",!0)])])]),b.invoices.last_page>1?(r(),d("div",Pe,[e("p",Ue," Showing "+x(b.invoices.from)+" to "+x(b.invoices.to)+" of "+x(b.invoices.total)+" invoices ",1),e("div",qe,[(r(!0),d(C,null,T(b.invoices.links,s=>(r(),n(a(A),{key:s.label,href:s.url||"#",class:$(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.active?"bg-blue-600 text-slate-900 dark:text-white":s.url?"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800 hover:text-slate-900 dark:text-white":"text-white cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):u("",!0)]),e("div",Ge,[t[31]||(t[31]=e("div",{class:"flex items-center gap-2 mb-4 px-1"},[e("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"}),e("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Financial & Accounting Guide"),e("div",{class:"h-px flex-1 bg-slate-50 dark:bg-slate-800"})],-1)),e("div",He,[e("div",Je,[e("div",Ke,[e("div",Qe,[i(a(D),{class:"h-5 w-5"})]),t[23]||(t[23]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Revenue Tracking",-1))]),t[24]||(t[24]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Track "),e("strong",null,"Accounts Receivable (AR)"),l(" in real-time. Invoices stay as "),e("strong",null,"Unpaid"),l(" until a payment is recorded against them. ")],-1))]),e("div",We,[e("div",Xe,[e("div",Ye,[i(a(se),{class:"h-5 w-5"})]),t[25]||(t[25]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Aging Reports",-1))]),t[26]||(t[26]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Monitor "),e("strong",null,"Due Dates"),l(" closely. Invoices approaching their limit are prioritized to ensure healthy cash flow for the business. ")],-1))]),e("div",Ze,[e("div",et,[e("div",tt,[i(a(ae),{class:"h-5 w-5"})]),t[27]||(t[27]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Ledger Integration",-1))]),t[28]||(t[28]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Confirmed invoices automatically post to the "),e("strong",null,"General Ledger"),l(", reducing manual accounting work and potential human error. ")],-1))]),e("div",st,[e("div",at,[e("div",rt,[i(a(L),{class:"h-5 w-5"})]),t[29]||(t[29]=e("h4",{class:"font-bold text-slate-200 text-sm"},"Professional Invoicing",-1))]),t[30]||(t[30]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed"},[l(" Print pixel-perfect "),e("strong",null,"Invoice PDF"),l(" documents to send to your customers. Includes tax breakdowns and payment instructions. ")],-1))])])])]),_:1}),i(H,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:I(()=>[h.value?(r(),d("div",lt,[e("div",ot,[e("div",{class:"fixed inset-0 bg-slate-900/75 backdrop-blur-sm",onClick:t[9]||(t[9]=s=>h.value=!1)}),e("div",it,[t[34]||(t[34]=e("h3",{class:"text-lg font-bold text-slate-900 dark:text-white mb-4"},"Import Sales Invoices",-1)),e("form",{onSubmit:G(R,["prevent"]),class:"space-y-4"},[e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2"},"Excel File (.xlsx)",-1)),e("input",{type:"file",onChange:V,accept:".xlsx,.xls,.csv",class:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-slate-800 dark:file:text-blue-400",required:""},null,32)]),e("div",dt,[e("a",{href:o.route("sales.invoices.template"),class:"text-blue-400 hover:underline"},"Download template",8,nt),t[33]||(t[33]=l(" for the correct format. ",-1))]),e("div",ct,[e("button",{type:"button",onClick:t[10]||(t[10]=s=>h.value=!1),class:"px-4 py-2 rounded-xl bg-slate-100 dark:bg-slate-800 text-sm font-semibold text-slate-600 dark:text-slate-300"},"Cancel"),e("button",{type:"submit",disabled:a(k).processing,class:"px-4 py-2 rounded-xl bg-blue-600 text-sm font-semibold text-white hover:bg-blue-500 disabled:opacity-50"},x(a(k).processing?"Importing...":"Import"),9,ut)])],32)])])])):u("",!0)]),_:1})],64))}};export{Ot as default};
