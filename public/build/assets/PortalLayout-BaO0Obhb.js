import{q as I,o,c as a,b as i,u as l,h as z,e,F as b,g as x,d as v,m as f,E as S,j as m,t as n,n as k,l as _,k as h,I as A,r as w,a as j,D as y}from"./app-BszLOBk4.js";import{r as R}from"./XMarkIcon-CxWQtgCH.js";import{f as V,b as B,a as P,r as T,c as F,d as J,e as q}from"./SunIcon-Cuvaf8BH.js";import{r as G}from"./ShoppingCartIcon-DauUMbc7.js";import{r as W}from"./TruckIcon-oft1N8YT.js";import{r as Q}from"./CalendarIcon-CEQpBiIp.js";import{r as U}from"./FolderIcon-5UwQyj-K.js";import{r as H}from"./ArchiveBoxIcon-Db2xkoSZ.js";import{r as K}from"./ClipboardDocumentListIcon-C6R6Fsfu.js";import{r as X}from"./QuestionMarkCircleIcon-DApLCLlS.js";import{r as Y}from"./ArrowRightOnRectangleIcon-CdQRvKva.js";const Z={class:"min-h-screen bg-slate-50 dark:bg-slate-900"},ee={key:0,class:"fixed inset-0 z-50 lg:hidden"},te={class:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-slate-800 shadow-xl p-4"},se={class:"flex items-center justify-between mb-8"},oe={class:"flex items-center gap-3"},re={class:"w-10 h-10 rounded-xl bg-slate-900 border border-white/10 flex items-center justify-center shadow-[0_0_15px_rgba(6,182,212,0.3)] shrink-0 overflow-hidden"},ae=["src"],le={class:"space-y-2"},ne={class:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700"},ie={class:"flex items-center justify-center py-8 border-b border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-900/10"},de={class:"flex flex-col items-center gap-3"},ce={class:"w-16 h-16 rounded-2xl bg-slate-900 border border-white/10 flex items-center justify-center shadow-[0_0_20px_rgba(6,182,212,0.4)] transition-all duration-500 hover:shadow-[0_0_30px_rgba(6,182,212,0.7)] hover:border-cyan-500/50 overflow-hidden group"},ue=["src"],he={class:"flex-1 p-4 space-y-2"},ge={class:"p-4 border-t border-slate-200 dark:border-slate-700"},pe={class:"lg:pl-64"},fe={class:"sticky top-0 z-40 bg-white/80 dark:bg-slate-900/80 backdrop-blur border-b border-slate-200 dark:border-slate-700 h-16 flex items-center justify-between px-4 sm:px-6 lg:px-8"},me={class:"flex items-center gap-4"},be=["title"],xe={class:"relative"},ve={key:0,class:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center"},ke={key:0,class:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden z-50"},_e={class:"p-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between bg-slate-50 dark:bg-slate-700/50"},we={key:0,class:"text-xs text-indigo-600 font-semibold"},ye={class:"max-h-80 overflow-y-auto divide-y divide-slate-100 dark:divide-slate-700"},$e=["onClick"],Ce={class:"text-sm font-semibold text-slate-900 dark:text-white"},Se={class:"text-xs text-slate-500 truncate"},je={class:"text-[10px] text-slate-400 mt-1"},De={key:0,class:"p-6 text-center text-slate-400 text-sm"},Le={class:"text-right hidden sm:block"},Ne={class:"text-sm font-semibold text-slate-900 dark:text-white"},Me={class:"text-xs text-slate-500"},Oe={class:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold border border-indigo-200"},Ee={class:"py-10"},Ie={class:"px-4 sm:px-6 lg:px-8"},We={__name:"PortalLayout",props:{title:String},setup(D){const p=w(!1),d=w(!1),$=[{name:"Dashboard",href:"/portal/dashboard",icon:V},{name:"Purchase Orders",href:"/portal/purchase-orders",icon:G},{name:"Deliveries",href:"/portal/deliveries",icon:W},{name:"Invoices",href:"/portal/invoices",icon:B},{name:"Schedule",href:"/portal/schedule",icon:Q},{name:"Analytics",href:"/portal/analytics",icon:P},{name:"Documents",href:"/portal/documents",icon:U},{name:"Returns",href:"/portal/returns",icon:H},{name:"RFQ",href:"/portal/rfq",icon:K},{name:"User Guide",href:"/portal/help",icon:X}],L=()=>{j.post(route("logout"))},N=y(()=>window.$page?.props?.auth?.recentNotifications||[]),g=y(()=>window.$page?.props?.auth?.unreadNotificationsCount||0),C=y(()=>N.value.slice(0,5)),M=r=>{j.post(route("portal.notifications.read",r),{},{preserveScroll:!0}),d.value=!1},O=r=>{const t=new Date(r),u=new Date-t;return u<6e4?"Just now":u<36e5?Math.floor(u/6e4)+"m ago":u<864e5?Math.floor(u/36e5)+"h ago":t.toLocaleDateString()},c=w(!1),E=()=>{c.value=!c.value,c.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return I(()=>{localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(c.value=!0,document.documentElement.classList.add("dark")):(c.value=!1,document.documentElement.classList.remove("dark"))}),(r,t)=>(o(),a("div",Z,[i(l(z),{title:D.title},null,8,["title"]),p.value?(o(),a("div",ee,[e("div",{class:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm",onClick:t[0]||(t[0]=s=>p.value=!1)}),e("div",te,[e("div",se,[e("div",oe,[e("div",re,[e("img",{src:r.$page.props.company?.logo||"/images/jicos.png",alt:"Logo",class:"w-full h-full object-cover"},null,8,ae)]),t[6]||(t[6]=e("div",{class:"flex flex-col"},[e("span",{class:"text-2xl font-black italic tracking-tighter text-slate-900 dark:text-white"},"JICOS PORTAL"),e("span",{class:"text-[8px] font-bold text-indigo-500 uppercase tracking-[0.2em] -mt-1 font-mono"},"Supplier Gateway")],-1))]),e("button",{onClick:t[1]||(t[1]=s=>p.value=!1),class:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors"},[i(l(R),{class:"h-6 w-6 text-slate-500"})])]),e("nav",le,[(o(),a(b,null,x($,s=>i(l(_),{key:s.name,href:s.href,class:k(["flex items-center gap-3 px-4 py-3 rounded-xl transition-colors",r.$page.url.startsWith(s.href)?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"])},{default:v(()=>[(o(),f(S(s.icon),{class:"h-5 w-5"})),m(" "+n(s.name),1)]),_:2},1032,["href","class"])),64))])])])):h("",!0),e("div",ne,[e("div",ie,[e("div",de,[e("div",ce,[e("img",{src:r.$page.props.company?.logo||"/images/jicos.png",alt:"Logo",class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,ue)]),t[7]||(t[7]=e("div",{class:"text-center px-4"},[e("span",{class:"text-2xl font-black italic tracking-[0.05em] text-transparent bg-clip-text bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-cyan-400 drop-shadow-[0_0_8px_rgba(6,182,212,0.3)] leading-none block"},"JICOS PORTAL"),e("div",{class:"h-1 w-12 bg-indigo-500 mx-auto mt-2 rounded-full shadow-[0_0_8px_#6366f1]"})],-1))])]),e("nav",he,[(o(),a(b,null,x($,s=>i(l(_),{key:s.name,href:s.href,class:k(["flex items-center gap-3 px-4 py-3 rounded-xl transition-colors",r.$page.url.startsWith(s.href)?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"])},{default:v(()=>[(o(),f(S(s.icon),{class:"h-5 w-5"})),m(" "+n(s.name),1)]),_:2},1032,["href","class"])),64))]),e("div",ge,[e("button",{onClick:L,class:"flex w-full items-center gap-3 px-4 py-3 rounded-xl text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors"},[i(l(Y),{class:"h-5 w-5"}),t[8]||(t[8]=m(" Logout ",-1))])])]),e("div",pe,[e("header",fe,[e("button",{onClick:t[2]||(t[2]=s=>p.value=!0),class:"lg:hidden p-2 text-slate-500"},[i(l(T),{class:"h-6 w-6"})]),t[11]||(t[11]=e("div",{class:"flex-1"},null,-1)),e("div",me,[e("button",{onClick:E,class:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",title:c.value?"Switch to Light Mode":"Switch to Dark Mode"},[c.value?(o(),f(l(F),{key:0,class:"h-5 w-5"})):(o(),f(l(J),{key:1,class:"h-5 w-5"}))],8,be),e("div",xe,[e("button",{onClick:t[3]||(t[3]=s=>d.value=!d.value),class:"relative p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors"},[i(l(q),{class:"h-5 w-5"}),g.value>0?(o(),a("span",ve,n(g.value>9?"9+":g.value),1)):h("",!0)]),d.value?(o(),a("div",ke,[e("div",_e,[t[9]||(t[9]=e("h3",{class:"font-bold text-slate-900 dark:text-white"},"Notifications",-1)),g.value>0?(o(),a("span",we,n(g.value)+" new",1)):h("",!0)]),e("div",ye,[(o(!0),a(b,null,x(C.value,s=>(o(),a("div",{key:s.id,class:k(["p-3 hover:bg-slate-50 dark:hover:bg-slate-700/30 cursor-pointer",{"bg-indigo-50/50 dark:bg-indigo-900/10":!s.read_at}]),onClick:u=>M(s.id)},[e("p",Ce,n(s.data?.title),1),e("p",Se,n(s.data?.message),1),e("p",je,n(O(s.created_at)),1)],10,$e))),128)),C.value.length===0?(o(),a("div",De," No notifications ")):h("",!0)]),i(l(_),{href:"/portal/notifications",class:"block p-3 text-center text-sm font-semibold text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 border-t border-slate-200 dark:border-slate-700",onClick:t[4]||(t[4]=s=>d.value=!1)},{default:v(()=>[...t[10]||(t[10]=[m(" View all notifications ",-1)])]),_:1})])):h("",!0)]),e("div",Le,[e("p",Ne,n(r.$page.props.auth.user.name),1),e("p",Me,n(r.$page.props.auth.user.email),1)]),e("div",Oe,n(r.$page.props.auth.user.name.charAt(0)),1)])]),d.value?(o(),a("div",{key:0,class:"fixed inset-0 z-30",onClick:t[5]||(t[5]=s=>d.value=!1)})):h("",!0),e("main",Ee,[e("div",Ie,[A(r.$slots,"default")])])])]))}};export{We as _};
