import{c as l,b as r,u as a,h as B,d as u,e as t,l as w,t as s,n as y,o as n,j as x,k as m,F as f,g as C,a as h,D as p}from"./app-4JM5Q7Bz.js";import{d as D,_ as E}from"./AppLayout-CZ_34682.js";import{f as i}from"./helpers-BjqMQcOq.js";import{r as M}from"./ArrowLeftIcon-D1iyZfW6.js";import{r as A}from"./CheckCircleIcon-D_uzV2fE.js";import{r as j}from"./ArchiveBoxIcon-BUbhH_xt.js";import{r as $}from"./PencilSquareIcon-D_ZCayuu.js";import{r as F}from"./TrashIcon-BVveVHl0.js";import{r as L}from"./CubeIcon-Dr5km-T0.js";import{r as P,a as U}from"./SunIcon-DGTVQmNn.js";import{r as q}from"./ListBulletIcon-CyKf1CGJ.js";import{r as V}from"./ClockIcon-CTlyPPog.js";import{r as H}from"./CalculatorIcon-_sOo4yH0.js";/* empty css            */import"./XMarkIcon-DdWPYkX3.js";import"./WrenchScrewdriverIcon-BG2Mj286.js";import"./CheckBadgeIcon-B3ZSWPVA.js";import"./ShoppingCartIcon-CMY99rVh.js";import"./TruckIcon-f3zA02q_.js";const Q={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},Y={class:"flex items-center justify-between mb-8"},z={class:"flex items-center gap-4"},G={class:"flex items-center gap-3"},W={class:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight"},J={class:"text-xs text-slate-500 mt-1 uppercase tracking-widest font-bold font-mono"},K={class:"flex items-center gap-3"},X={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Z={class:"lg:col-span-2 space-y-8"},tt={class:"glass-card rounded-3xl p-6 shadow-sm relative overflow-hidden"},et={class:"absolute top-0 right-0 p-8 opacity-5"},st={class:"relative flex flex-col sm:flex-row gap-8"},ot={class:"flex-1"},at={class:"text-xl font-bold text-slate-900 dark:text-white"},dt={class:"text-xs text-slate-500 font-mono mt-0.5"},rt={class:"flex gap-12"},lt={class:"text-xl font-bold text-slate-900 dark:text-white font-mono"},nt={class:"text-xs text-slate-500 uppercase font-bold"},it={class:"text-xl font-bold text-slate-900 dark:text-white font-mono"},ct={class:"glass-card rounded-3xl shadow-sm overflow-hidden"},xt={class:"p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between"},bt={class:"text-sm font-bold text-slate-500 uppercase tracking-widest flex items-center gap-2 font-mono"},mt={class:"text-[10px] font-mono font-bold text-slate-500 bg-slate-50 dark:bg-slate-800 px-3 py-1 rounded-lg"},pt={class:"overflow-x-auto"},ut={class:"min-w-full divide-y divide-slate-100 dark:divide-slate-800"},ft={class:"divide-y divide-slate-100 dark:divide-slate-800"},ht={class:"px-6 py-4"},gt={class:"text-sm font-bold text-slate-900 dark:text-white"},vt={class:"text-[10px] text-slate-500 font-mono mt-0.5"},_t={class:"px-6 py-4 text-center"},kt={class:"text-sm font-bold text-slate-200 font-mono"},wt={class:"text-[10px] text-slate-500 uppercase font-bold"},yt={class:"px-6 py-4 text-center"},Ct={class:"px-6 py-4 text-right"},Ot={class:"text-sm font-bold text-slate-600 dark:text-slate-300 font-mono"},Rt={key:0},Tt={class:"glass-card rounded-3xl shadow-sm overflow-hidden"},St={class:"p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between"},It={class:"text-sm font-bold text-slate-500 uppercase tracking-widest flex items-center gap-2 font-mono"},Nt={class:"text-[10px] font-mono font-bold text-slate-500 bg-slate-50 dark:bg-slate-800 px-3 py-1 rounded-lg"},Bt={class:"p-6 space-y-4"},Dt={class:"absolute left-0 top-0 -translate-x-1/2 h-8 w-8 rounded-full bg-white dark:bg-slate-950 border-2 border-slate-200 dark:border-slate-800 flex items-center justify-center text-xs font-black text-slate-500"},Et={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},Mt={class:"text-sm font-bold text-slate-900 dark:text-white"},At={key:0,class:"text-xs text-slate-500 mt-1 italic"},jt={class:"flex items-center gap-4 mt-3"},$t={class:"flex items-center gap-1.5 px-2 py-1 rounded bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50 text-[10px] font-bold text-slate-500 dark:text-slate-400"},Ft={class:"flex items-center gap-1.5 px-2 py-1 rounded bg-emerald-500/5 text-[10px] font-bold text-emerald-500/70 border border-emerald-500/10"},Lt={class:"flex items-center gap-1.5 px-2 py-1 rounded bg-blue-500/5 text-[10px] font-bold text-blue-500/70 border border-blue-500/10"},Pt={class:"text-right"},Ut={class:"text-sm font-bold font-mono text-slate-900 dark:text-white"},qt={key:0,class:"py-6 text-center text-slate-600 italic"},Vt={class:"space-y-8"},Ht={class:"glass-card rounded-3xl p-6 shadow-sm"},Qt={class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-6 flex items-center gap-2 border-b border-slate-200 dark:border-slate-800 pb-4"},Yt={class:"space-y-4"},zt={class:"space-y-3"},Gt={class:"flex justify-between items-center text-xs"},Wt={class:"text-slate-900 dark:text-white font-mono"},Jt={class:"flex justify-between items-center text-xs"},Kt={class:"text-emerald-400 font-mono"},Xt={class:"flex justify-between items-center text-xs"},Zt={class:"text-blue-400 font-mono"},te={class:"pt-3 border-t border-slate-200 dark:border-slate-800 flex justify-between items-center"},ee={class:"text-lg font-bold text-slate-900 dark:text-white font-mono tracking-tight"},se={class:"p-4 rounded-2xl bg-indigo-500/5 border border-indigo-500/10 mt-4"},oe={class:"text-[10px] text-indigo-400 uppercase font-bold mb-1"},ae={class:"text-xl font-bold text-indigo-300 font-mono"},de={class:"pt-4 mt-6 border-t border-slate-200 dark:border-slate-800 space-y-4"},re={class:"flex items-center justify-between text-xs"},le={class:"text-slate-600 dark:text-slate-300"},ne={class:"flex items-center justify-between text-xs"},ie={class:"text-slate-600 dark:text-slate-300"},ce={key:0,class:"glass-card rounded-3xl p-6 shadow-sm"},xe={class:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed italic"},Be={__name:"Show",props:{bom:Object},setup(o){const b=o,O=()=>{confirm("Are you sure you want to activate this BOM?")&&h.post(route("manufacturing.boms.activate",b.bom.id))},R=()=>{confirm("Are you sure you want to archive this BOM? It will no longer be selectable for new WOs.")&&h.post(route("manufacturing.boms.archive",b.bom.id))},T=()=>{confirm("Are you sure you want to delete this BOM? This action cannot be undone.")&&h.delete(route("manufacturing.boms.destroy",b.bom.id))},S=c=>({draft:"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",active:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 font-bold",archived:"bg-amber-500/20 text-amber-400 border-amber-500/30 font-bold"})[c]||"bg-slate-500/20 text-slate-500 dark:text-slate-400 border-slate-500/30",g=p(()=>b.bom.components?.reduce((c,e)=>c+parseFloat(e.qty)*parseFloat(e.product?.cost_price||0),0)),v=p(()=>b.bom.operations?.reduce((c,e)=>c+parseFloat(e.labor_cost||0),0)),_=p(()=>b.bom.operations?.reduce((c,e)=>c+parseFloat(e.machine_cost||0),0)),k=p(()=>g.value+v.value+_.value),I=p(()=>b.bom.qty>0?k.value/b.bom.qty:0);return(c,e)=>(n(),l(f,null,[r(a(B),{title:`BOM: ${o.bom.code}`},null,8,["title"]),r(E,{title:"Bill of Materials"},{default:u(()=>[t("div",Q,[t("div",Y,[t("div",z,[r(a(w),{href:c.route("manufacturing.boms.index"),class:"p-2.5 rounded-xl glass-card text-slate-500 dark:text-slate-400 font-bold hover:text-slate-900 dark:text-white hover:border-slate-200 dark:border-slate-700 transition-all shadow-sm"},{default:u(()=>[r(a(M),{class:"h-5 w-5"})]),_:1},8,["href"]),t("div",null,[t("div",G,[t("h2",W,s(o.bom.name),1),t("span",{class:y(["inline-flex items-center rounded-full border px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider",S(o.bom.status)])},s(o.bom.status),3)]),t("p",J,"CODE: "+s(o.bom.code)+" / VERSION: "+s(o.bom.version),1)])]),t("div",K,[o.bom.status==="draft"?(n(),l("button",{key:0,onClick:O,class:"flex items-center gap-2 rounded-xl bg-emerald-600/10 border border-emerald-500/20 px-4 py-2.5 text-sm font-bold text-emerald-400 hover:bg-emerald-600/20 transition-all font-mono shadow-sm"},[r(a(A),{class:"h-5 w-5"}),e[0]||(e[0]=x(" ACTIVATE_BOM ",-1))])):m("",!0),o.bom.status==="active"?(n(),l("button",{key:1,onClick:R,class:"flex items-center gap-2 rounded-xl bg-amber-600/10 border border-amber-500/20 px-4 py-2.5 text-sm font-bold text-amber-400 hover:bg-amber-600/20 transition-all font-mono shadow-sm"},[r(a(j),{class:"h-5 w-5"}),e[1]||(e[1]=x(" ARCHIVE_BOM ",-1))])):m("",!0),r(a(w),{href:c.route("manufacturing.boms.edit",o.bom.id),class:"flex items-center gap-2 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-2.5 text-sm font-bold text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:text-white hover:bg-slate-700 transition-all shadow-sm"},{default:u(()=>[r(a($),{class:"h-5 w-5"}),e[2]||(e[2]=x(" Edit Definition ",-1))]),_:1},8,["href"]),o.bom.status==="draft"?(n(),l("button",{key:2,onClick:T,class:"p-2.5 rounded-xl bg-red-600/10 border border-red-500/20 text-red-500 hover:bg-red-600/20 transition-all shadow-sm",title:"Delete BOM"},[r(a(F),{class:"h-5 w-5"})])):m("",!0)])]),t("div",X,[t("div",Z,[t("div",tt,[t("div",et,[r(a(L),{class:"h-32 w-32 text-slate-500 dark:text-slate-400"})]),e[8]||(e[8]=t("h3",{class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-6 flex items-center gap-2"}," PRODUCT_OUTPUT_DEFINITION ",-1)),t("div",st,[t("div",ot,[e[3]||(e[3]=t("div",{class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1"},"Target Product",-1)),t("div",at,s(o.bom.product?.name),1),t("div",dt,s(o.bom.product?.sku),1)]),e[7]||(e[7]=t("div",{class:"w-px bg-slate-50 dark:bg-slate-800 hidden sm:block"},null,-1)),t("div",rt,[t("div",null,[e[4]||(e[4]=t("div",{class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1"},"Standard Yield",-1)),t("div",lt,s(a(i)(o.bom.qty)),1),t("div",nt,s(o.bom.unit?.name||"pcs"),1)]),t("div",null,[e[5]||(e[5]=t("div",{class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1"},"Lead Time",-1)),t("div",it,s(o.bom.lead_time_days),1),e[6]||(e[6]=t("div",{class:"text-xs text-slate-500 uppercase font-bold"},"Days",-1))])])])]),t("div",ct,[t("div",xt,[t("h3",bt,[r(a(P),{class:"h-4 w-4"}),e[9]||(e[9]=x(" MATERIAL_REQUIREMENTS_LIST ",-1))]),t("span",mt,s(o.bom.components?.length||0)+" ITEMS ",1)]),t("div",pt,[t("table",ut,[e[11]||(e[11]=t("thead",null,[t("tr",{class:"bg-slate-50 dark:bg-slate-900 dark:bg-slate-800/50"},[t("th",{class:"px-6 py-4 text-left text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Component"),t("th",{class:"px-6 py-4 text-center text-[10px] font-bold text-slate-500 uppercase tracking-widest",width:"120"},"Required Qty"),t("th",{class:"px-6 py-4 text-center text-[10px] font-bold text-slate-500 uppercase tracking-widest",width:"100"},"Scrap Rate"),t("th",{class:"px-6 py-4 text-right text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Est. Mat. Cost")])],-1)),t("tbody",ft,[(n(!0),l(f,null,C(o.bom.components,d=>(n(),l("tr",{key:d.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 dark:bg-slate-800/30 transition-colors"},[t("td",ht,[t("div",gt,s(d.product?.name),1),t("div",vt,s(d.product?.sku),1)]),t("td",_t,[t("div",kt,s(a(i)(d.qty)),1),t("div",wt,s(d.unit?.symbol||d.product?.unit?.symbol||"pcs"),1)]),t("td",yt,[t("span",{class:y(["px-2 py-0.5 rounded-lg text-[10px] font-bold font-mono",d.scrap_rate>0?"bg-emerald-500/10 text-emerald-400":"bg-slate-50 dark:bg-slate-800 text-slate-500"])},s(a(i)(d.scrap_rate))+"% ",3)]),t("td",Ct,[t("div",Ot," Rp "+s(a(i)(parseFloat(d.qty)*parseFloat(d.product?.cost_price||0))),1)])]))),128)),o.bom.components?.length?m("",!0):(n(),l("tr",Rt,[...e[10]||(e[10]=[t("td",{colspan:"4",class:"px-6 py-12 text-center text-slate-600 italic border-t border-slate-200 dark:border-slate-800"},"No components defined in this recipe.",-1)])]))])])])]),t("div",Tt,[t("div",St,[t("h3",It,[r(a(q),{class:"h-4 w-4"}),e[12]||(e[12]=x(" PRODUCTION_ROUTING_STEPS ",-1))]),t("span",Nt,s(o.bom.operations?.length||0)+" OPERATIONS ",1)]),t("div",Bt,[(n(!0),l(f,null,C(o.bom.operations,(d,N)=>(n(),l("div",{key:d.id,class:"relative pl-12 pb-6 border-l-2 border-slate-200 dark:border-slate-800 last:pb-0"},[t("div",Dt,s(N+1),1),t("div",Et,[t("div",null,[t("h4",Mt,s(d.name),1),d.description?(n(),l("p",At,s(d.description),1)):m("",!0),t("div",jt,[t("div",$t,[r(a(V),{class:"h-3 w-3"}),x(" "+s(d.processing_time_mins)+" MINS ",1)]),t("div",Ft,[r(a(U),{class:"h-3 w-3"}),x(" LABOR: Rp "+s(a(i)(d.labor_cost)),1)]),t("div",Lt,[r(a(D),{class:"h-3 w-3"}),x(" MACHINE: Rp "+s(a(i)(d.machine_cost)),1)])])]),t("div",Pt,[e[13]||(e[13]=t("div",{class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1"},"Step Subtotal",-1)),t("div",Ut,"Rp "+s(a(i)(parseFloat(d.labor_cost)+parseFloat(d.machine_cost))),1)])])]))),128)),o.bom.operations?.length?m("",!0):(n(),l("div",qt," No production steps defined. "))])])]),t("div",Vt,[t("div",Ht,[t("h3",Qt,[r(a(H),{class:"h-4 w-4"}),e[14]||(e[14]=x(" TOTAL_COST_ANALYSIS ",-1))]),t("div",Yt,[t("div",zt,[t("div",Gt,[e[15]||(e[15]=t("span",{class:"text-slate-500 font-bold uppercase"},"Material Cost",-1)),t("span",Wt,"Rp "+s(a(i)(g.value)),1)]),t("div",Jt,[e[16]||(e[16]=t("span",{class:"text-slate-500 font-bold uppercase"},"Labor Cost",-1)),t("span",Kt,"Rp "+s(a(i)(v.value)),1)]),t("div",Xt,[e[17]||(e[17]=t("span",{class:"text-slate-500 font-bold uppercase"},"Machine Cost",-1)),t("span",Zt,"Rp "+s(a(i)(_.value)),1)]),t("div",te,[e[18]||(e[18]=t("div",{class:"text-[10px] text-slate-500 dark:text-slate-400 uppercase font-bold"},"Total Process Cost",-1)),t("div",ee," Rp "+s(a(i)(k.value)),1)])]),t("div",se,[t("div",oe,"Standard Cost / "+s(o.bom.unit?.symbol||"Unit"),1),t("div",ae," Rp "+s(a(i)(I.value)),1)]),t("div",de,[t("div",re,[e[19]||(e[19]=t("span",{class:"text-slate-500 font-bold uppercase tracking-wider"},"Created Date",-1)),t("span",le,s(new Date(o.bom.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),1)]),t("div",ne,[e[20]||(e[20]=t("span",{class:"text-slate-500 font-bold uppercase tracking-wider"},"Last Revision",-1)),t("span",ie,s(o.bom.updated_at?new Date(o.bom.updated_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-"),1)])])])]),o.bom.description?(n(),l("div",ce,[e[21]||(e[21]=t("h3",{class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-4 border-b border-slate-200 dark:border-slate-800 pb-4 font-mono"},"Process Instructions",-1)),t("p",xe,' "'+s(o.bom.description)+'" ',1)])):m("",!0)])])])]),_:1})],64))}};export{Be as default};
